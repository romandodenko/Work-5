// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var x,aa,ba,ca,ea,ga,ia,ja,ka,la,ma,na,oa,pa,qa,ra,ta,ua,va,wa,ya,za,Aa,Ca,F,Ea,Fa,Ga,Ja,Ka,Ma,Na,Oa,Ra,Sa,Ta,Ua,ab,bb,eb,fb,mb,nb,ob,pb,tb,vb,Ab,Bb,Cb,Db,Ib,Kb,Lb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc,gc,hc,ic,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,Bc,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc={},Xc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,k){this.set(a,b,c,k)}function c(){this.gd=this.fd=this.jd=this.hd=this.xd=this.wd=this.Hc=this.Gc=0}function b(a,b,c,k){a<b?c<k?(v=a<c?a:c,r=b>k?b:k):(v=a<k?a:k,r=b>c?b:c):c<k?(v=b<c?b:c,r=a>k?a:k):(v=b<k?b:k,r=a>c?a:c)}function d(){this.items=this.Vf=null;this.Ek=0;B&&(this.Vf=new Set);this.Ij=[];this.$g=!0}function f(a){E[C++]=a}function h(){this.Ia=this.Zn=this.y=this.I=0}function e(a){this.Vb=[];this.Xl=this.Zl=this.$l=this.Yl=0;this.km=null;this.ol(a)}function k(a,
b){this.Mo=a;this.Lo=b;this.cells={}}function g(a,b){this.Mo=a;this.Lo=b;this.cells={}}function n(a,b,c){var k;return G.length?(k=G.pop(),k.tp=a,k.x=b,k.y=c,k):new ba(a,b,c)}function l(a,b,c){this.tp=a;this.x=b;this.y=c;this.Oc=new ca}function m(a,b,c){var k;return A.length?(k=A.pop(),k.tp=a,k.x=b,k.y=c,k):new ea(a,b,c)}function q(a,b,c){this.tp=a;this.x=b;this.y=c;this.Oc=[];this.hj=!0;this.Sf=new ca;this.Sj=!1}function p(a,b){return a.yf-b.yf}ga=function(a){window.console&&window.console.log&&window.console.log(a)};
ia=function(a){window.console&&window.console.error&&window.console.error(a)};aa=function(a){return a};ja=function(a){return"undefined"===typeof a};ka=function(a){return"number"===typeof a};la=function(a){return"string"===typeof a};ma=function(a){return 0<a&&0===(a-1&a)};na=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};oa=function(a){return 0>a?-a:a};pa=function(a,b){return a>b?a:b};qa=function(a,b){return a<b?a:b};ra=Math.PI;ta=function(a){return 0<=a?a|0:(a|0)-1};ua=function(a){var b=
a|0;return b===a?b:b+1};va=function(a,b,c,k,g,d,l,m){var n,e,f,h;a<c?(e=a,n=c):(e=c,n=a);g<l?(h=g,f=l):(h=l,f=g);if(n<h||e>f)return!1;b<k?(e=b,n=k):(e=k,n=b);d<m?(h=d,f=m):(h=m,f=d);if(n<h||e>f)return!1;n=g-a+l-c;e=d-b+m-k;a=c-a;b=k-b;g=l-g;d=m-d;m=oa(b*g-d*a);return oa(g*e-d*n)>m?!1:oa(a*e-b*n)<=m};a.prototype.set=function(a,b,c,k){this.left=a;this.top=b;this.right=c;this.bottom=k};a.prototype.Wj=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=
function(){return this.right-this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.dt=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.et=
function(a,b,c){return!(a.right+b<this.left||a.bottom+c<this.top||a.left+b>this.right||a.top+c>this.bottom)};a.prototype.wc=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.ak=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};wa=a;c.prototype.Bj=function(a){this.Gc=a.left;this.Hc=a.top;this.wd=a.right;this.xd=a.top;this.hd=a.right;this.jd=a.bottom;this.fd=a.left;this.gd=a.bottom};c.prototype.Pu=function(a,
b){if(0===b)this.Bj(a);else{var c=Math.sin(b),k=Math.cos(b),g=a.left*c,d=a.top*c,l=a.right*c,c=a.bottom*c,m=a.left*k,n=a.top*k,e=a.right*k,k=a.bottom*k;this.Gc=m-d;this.Hc=n+g;this.wd=e-d;this.xd=n+l;this.hd=e-c;this.jd=k+l;this.fd=m-c;this.gd=k+g}};c.prototype.offset=function(a,b){this.Gc+=a;this.Hc+=b;this.wd+=a;this.xd+=b;this.hd+=a;this.jd+=b;this.fd+=a;this.gd+=b;return this};var v=0,r=0;c.prototype.gs=function(a){b(this.Gc,this.wd,this.hd,this.fd);a.left=v;a.right=r;b(this.Hc,this.xd,this.jd,
this.gd);a.top=v;a.bottom=r};c.prototype.wc=function(a,b){var c=this.Gc,k=this.Hc,g=this.wd-c,d=this.xd-k,l=this.hd-c,m=this.jd-k,n=a-c,e=b-k,f=g*g+d*d,h=g*l+d*m,d=g*n+d*e,t=l*l+m*m,p=l*n+m*e,q=1/(f*t-h*h),g=(t*d-h*p)*q,f=(f*p-h*d)*q;if(0<=g&&0<f&&1>g+f)return!0;g=this.fd-c;d=this.gd-k;f=g*g+d*d;h=g*l+d*m;d=g*n+d*e;q=1/(f*t-h*h);g=(t*d-h*p)*q;f=(f*p-h*d)*q;return 0<=g&&0<f&&1>g+f};c.prototype.Me=function(a,b){if(b)switch(a){case 0:return this.Gc;case 1:return this.wd;case 2:return this.hd;case 3:return this.fd;
case 4:return this.Gc;default:return this.Gc}else switch(a){case 0:return this.Hc;case 1:return this.xd;case 2:return this.jd;case 3:return this.gd;case 4:return this.Hc;default:return this.Hc}};c.prototype.yh=function(){return(this.Gc+this.wd+this.hd+this.fd)/4};c.prototype.zh=function(){return(this.Hc+this.xd+this.jd+this.gd)/4};c.prototype.sk=function(a,b,c,k){if(this.wc(a,b)||this.wc(c,k))return!0;var g,d,l,m,n;for(n=0;4>n;n++)if(g=this.Me(n,!0),d=this.Me(n,!1),l=this.Me(n+1,!0),m=this.Me(n+1,
!1),va(a,b,c,k,g,d,l,m))return!0;return!1};c.prototype.ct=function(a){var b=a.yh(),c=a.zh();if(this.wc(b,c))return!0;b=this.yh();c=this.zh();if(a.wc(b,c))return!0;var k,g,d,l,m,n,e,f;for(e=0;4>e;e++)for(f=0;4>f;f++)if(b=this.Me(e,!0),c=this.Me(e,!1),k=this.Me(e+1,!0),g=this.Me(e+1,!1),d=a.Me(f,!0),l=a.Me(f,!1),m=a.Me(f+1,!0),n=a.Me(f+1,!1),va(b,c,k,g,d,l,m,n))return!0;return!1};ya=c;za=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};Aa=function(a,b){var c,k;b=ta(b);if(!(0>
b||b>=a.length)){c=b;for(k=a.length-1;c<k;c++)a[c]=a[c+1];Ca(a,k)}};Ca=function(a,b){a.length=b};F=function(a){Ca(a,0)};Ea=function(a,b){F(a);var c,k;c=0;for(k=b.length;c<k;++c)a[c]=b[c]};Fa=function(a,b){a.push.apply(a,b)};Ga=function(a,b){var c,k;c=0;for(k=a.length;c<k;++c)if(a[c]===b)return c;return-1};Ja=function(a,b){var c=Ga(a,b);-1!==c&&Aa(a,c)};Ka=function(a,b,c){return a<b?b:a>c?c:a};Ma=function(a){return a/(180/ra)};Na=function(a){return 180/ra*a};Oa=function(a){a%=360;0>a&&(a+=360);return a};
Ra=function(a){a%=2*ra;0>a&&(a+=2*ra);return a};Sa=function(a){return Oa(Na(a))};Ta=function(a){return Ra(Ma(a))};Ua=function(a,b,c,k){return Math.atan2(k-b,c-a)};ab=function(a,b){if(a===b)return 0;var c=Math.sin(a),k=Math.cos(a),g=Math.sin(b),d=Math.cos(b),c=c*g+k*d;return 1<=c?0:-1>=c?ra:Math.acos(c)};bb=function(a,b,c){var k=Math.sin(a),g=Math.cos(a),d=Math.sin(b),l=Math.cos(b);return Math.acos(k*d+g*l)>c?0<g*d-k*l?Ra(a+c):Ra(a-c):Ra(b)};eb=function(a,b){var c=Math.sin(a),k=Math.cos(a),g=Math.sin(b),
d=Math.cos(b);return 0>=k*g-c*d};fb=function(a,b,c,k,g,d){if(0===c)return d?a:b;var l=Math.sin(c);c=Math.cos(c);a-=k;b-=g;var m=a*l;a=a*c-b*l;b=b*c+m;return d?a+k:b+g};mb=function(a,b,c,k){a=c-a;b=k-b;return Math.sqrt(a*a+b*b)};nb=function(a,b){return!a!==!b};ob=function(a,b,c){return a+(b-a)*c};pb=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};tb=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var u=+new Date;vb=function(){if("undefined"!==typeof window.performance){var a=
window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-u};var t=!1,y=t=!1,z=!1;"undefined"!==typeof window&&(t=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),t=!t&&/safari/i.test(navigator.userAgent),y=/(iphone|ipod|ipad)/i.test(navigator.userAgent),z=window.c2ejecta);var B=!t&&!z&&!y&&"undefined"!==
typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.pg()?!1:B?this.Vf.has(a):this.items&&this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(B)this.Vf.has(a)||(this.Vf.add(a),this.$g=!1);else{var b=a.toString(),c=this.items;c?c.hasOwnProperty(b)||(c[b]=a,this.Ek++,this.$g=!1):(this.items={},this.items[b]=a,this.Ek=1,this.$g=!1)}};d.prototype.remove=function(a){if(!this.pg())if(B)this.Vf.has(a)&&(this.Vf["delete"](a),this.$g=!1);else if(this.items){a=
a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.Ek--,this.$g=!1)}};d.prototype.clear=function(){this.pg()||(B?this.Vf.clear():(this.items=null,this.Ek=0),F(this.Ij),this.$g=!0)};d.prototype.pg=function(){return 0===this.count()};d.prototype.count=function(){return B?this.Vf.size:this.Ek};var E=null,C=0;d.prototype.iB=function(){if(!this.$g){if(B)F(this.Ij),E=this.Ij,C=0,this.Vf.forEach(f),E=null,C=0;else{var a=this.Ij;F(a);var b,c=0,k=this.items;if(k)for(b in k)k.hasOwnProperty(b)&&
(a[c++]=k[b])}this.$g=!0}};d.prototype.te=function(){this.iB();return this.Ij};ca=d;new ca;Ab=function(a,b){B?Bb(a,b.Vf):Cb(a,b.te())};Bb=function(a,b){var c,k,g,d;k=c=0;for(g=a.length;c<g;++c)d=a[c],b.has(d)||(a[k++]=d);Ca(a,k)};Cb=function(a,b){var c,k,g,d;k=c=0;for(g=a.length;c<g;++c)d=a[c],-1===Ga(b,d)&&(a[k++]=d);Ca(a,k)};h.prototype.add=function(a){this.y=a-this.I;this.Zn=this.Ia+this.y;this.I=this.Zn-this.Ia-this.y;this.Ia=this.Zn};h.prototype.reset=function(){this.Ia=this.Zn=this.y=this.I=
0};Db=h;Ib=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};e.prototype.ol=function(a){this.xu=a;this.me=a.length/2;this.Vb.length=a.length;this.em=this.fm=-1;this.ks=0};e.prototype.oh=function(){return!this.xu.length};e.prototype.bb=function(){for(var a=this.Vb,b=a[0],c=b,k=a[1],g=k,d,l,m=1,n=this.me;m<n;++m)l=2*m,d=a[l],l=a[l+1],d<b&&(b=d),d>c&&(c=d),l<k&&(k=l),l>g&&(g=l);this.Yl=b;this.Zl=c;this.$l=k;this.Xl=g};e.prototype.Bj=function(a,b,c){this.Vb.length=8;this.me=4;var k=this.Vb;
k[0]=a.left-b;k[1]=a.top-c;k[2]=a.right-b;k[3]=a.top-c;k[4]=a.right-b;k[5]=a.bottom-c;k[6]=a.left-b;k[7]=a.bottom-c;this.fm=a.right-a.left;this.em=a.bottom-a.top;this.bb()};e.prototype.Aj=function(a,b,c,k,g){this.Vb.length=8;this.me=4;var d=this.Vb;d[0]=a.Gc-b;d[1]=a.Hc-c;d[2]=a.wd-b;d[3]=a.xd-c;d[4]=a.hd-b;d[5]=a.jd-c;d[6]=a.fd-b;d[7]=a.gd-c;this.fm=k;this.em=g;this.bb()};e.prototype.Ou=function(a){this.me=a.me;Ea(this.Vb,a.Vb);this.Yl=a.Yl;this.$l-a.$l;this.Zl=a.Zl;this.Xl=a.Xl};e.prototype.Zg=
function(a,b,c){if(this.fm!==a||this.em!==b||this.ks!==c){this.fm=a;this.em=b;this.ks=c;var k,g,d,l,m,n=0,e=1,f=this.xu,h=this.Vb;0!==c&&(n=Math.sin(c),e=Math.cos(c));c=0;for(d=this.me;c<d;c++)k=2*c,g=k+1,l=f[k]*a,m=f[g]*b,h[k]=l*e-m*n,h[g]=m*e+l*n;this.bb()}};e.prototype.wc=function(a,b){var c=this.Vb;if(a===c[0]&&b===c[1])return!0;var k,g,d,l=this.me,m=this.Yl-110,n=this.$l-101,e=this.Zl+131,f=this.Xl+120,h,t,p=0,q=0;for(k=0;k<l;k++)g=2*k,d=(k+1)%l*2,h=c[g],g=c[g+1],t=c[d],d=c[d+1],va(m,n,a,b,h,
g,t,d)&&p++,va(e,f,a,b,h,g,t,d)&&q++;return 1===p%2||1===q%2};e.prototype.rk=function(a,b,c){var k=a.Vb,g=this.Vb;if(this.wc(k[0]+b,k[1]+c)||a.wc(g[0]-b,g[1]-c))return!0;var d,l,m,n,e,f,h,t,p,q,y,u;d=0;for(n=this.me;d<n;d++)for(l=2*d,m=(d+1)%n*2,t=g[l],l=g[l+1],p=g[m],q=g[m+1],m=0,h=a.me;m<h;m++)if(e=2*m,f=(m+1)%h*2,y=k[e]+b,e=k[e+1]+c,u=k[f]+b,f=k[f+1]+c,va(t,l,p,q,y,e,u,f))return!0;return!1};e.prototype.sk=function(a,b,c,k,g,d){var l=this.Vb;if(this.wc(c-a,k-b))return!0;var m,n,e,f,h,t;m=0;for(n=
this.me;m<n;m++)if(e=2*m,f=(m+1)%n*2,h=l[e]+a,e=l[e+1]+b,t=l[f]+a,f=l[f+1]+b,va(c,k,g,d,h,e,t,f))return!0;return!1};Kb=e;k.prototype.kh=function(a,b,c){var k;k=this.cells[a];return k?(k=k[b])?k:c?(k=n(this,a,b),this.cells[a][b]=k):null:c?(k=n(this,a,b),this.cells[a]={},this.cells[a][b]=k):null};k.prototype.Id=function(a){return ta(a/this.Mo)};k.prototype.Jd=function(a){return ta(a/this.Lo)};k.prototype.update=function(a,b,c){var k,g,d,l,m;if(b)for(k=b.left,g=b.right;k<=g;++k)for(d=b.top,l=b.bottom;d<=
l;++d)if(!c||!c.wc(k,d))if(m=this.kh(k,d,!1))m.remove(a),m.pg()&&(m.Oc.clear(),1E3>G.length&&G.push(m),this.cells[k][d]=null);if(c)for(k=c.left,g=c.right;k<=g;++k)for(d=c.top,l=c.bottom;d<=l;++d)b&&b.wc(k,d)||this.kh(k,d,!0).Ap(a)};k.prototype.Jn=function(a,b){var c,k,g,d,l,m;c=this.Id(a.left);g=this.Jd(a.top);k=this.Id(a.right);for(l=this.Jd(a.bottom);c<=k;++c)for(d=g;d<=l;++d)(m=this.kh(c,d,!1))&&m.dump(b)};Lb=k;g.prototype.kh=function(a,b,c){var k;k=this.cells[a];return k?(k=k[b])?k:c?(k=m(this,
a,b),this.cells[a][b]=k):null:c?(k=m(this,a,b),this.cells[a]={},this.cells[a][b]=k):null};g.prototype.Id=function(a){return ta(a/this.Mo)};g.prototype.Jd=function(a){return ta(a/this.Lo)};g.prototype.update=function(a,b,c){var k,d,g,l,m;if(b)for(k=b.left,d=b.right;k<=d;++k)for(g=b.top,l=b.bottom;g<=l;++g)if(!c||!c.wc(k,g))if(m=this.kh(k,g,!1))m.remove(a),m.pg()&&(m.reset(),1E3>A.length&&A.push(m),this.cells[k][g]=null);if(c)for(k=c.left,d=c.right;k<=d;++k)for(g=c.top,l=c.bottom;g<=l;++g)b&&b.wc(k,
g)||this.kh(k,g,!0).Ap(a)};g.prototype.Jn=function(a,b,c,k,g){var d,l;a=this.Id(a);b=this.Jd(b);c=this.Id(c);for(d=this.Jd(k);a<=c;++a)for(k=b;k<=d;++k)(l=this.kh(a,k,!1))&&l.dump(g)};g.prototype.bA=function(a){var b,c,k,g,d;b=a.left;k=a.top;c=a.right;for(g=a.bottom;b<=c;++b)for(a=k;a<=g;++a)if(d=this.kh(b,a,!1))d.hj=!1};Rb=g;var G=[];l.prototype.pg=function(){return this.Oc.pg()};l.prototype.Ap=function(a){this.Oc.add(a)};l.prototype.remove=function(a){this.Oc.remove(a)};l.prototype.dump=function(a){Fa(a,
this.Oc.te())};ba=l;var A=[];q.prototype.pg=function(){if(!this.Oc.length)return!0;if(this.Oc.length>this.Sf.count())return!1;this.fp();return!0};q.prototype.Ap=function(a){this.Sf.contains(a)?(this.Sf.remove(a),this.Sf.pg()&&(this.Sj=!1)):this.Oc.length?(this.Oc[this.Oc.length-1].Nf()>a.Nf()&&(this.hj=!1),this.Oc.push(a)):(this.Oc.push(a),this.hj=!0)};q.prototype.remove=function(a){this.Sf.add(a);this.Sj=!0;30<=this.Sf.count()&&this.fp()};q.prototype.fp=function(){this.Sj&&(this.Sf.count()===this.Oc.length?
this.reset():(Ab(this.Oc,this.Sf),this.Sf.clear(),this.Sj=!1))};q.prototype.ky=function(){this.hj||(this.Oc.sort(p),this.hj=!0)};q.prototype.reset=function(){F(this.Oc);this.hj=!0;this.Sf.clear();this.Sj=!1};q.prototype.dump=function(a){this.fp();this.ky();this.Oc.length&&a.push(this.Oc)};ea=q;var w="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Sb=function(a){return 0>=a||11<=a?"source-over":w[a-1]};Tb=function(a,b,
c){if(c)switch(a.ud=c.ONE,a.kd=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.ud=c.ONE;a.kd=c.ONE;break;case 3:a.ud=c.ONE;a.kd=c.ZERO;break;case 4:a.ud=c.ONE_MINUS_DST_ALPHA;a.kd=c.ONE;break;case 5:a.ud=c.DST_ALPHA;a.kd=c.ZERO;break;case 6:a.ud=c.ZERO;a.kd=c.SRC_ALPHA;break;case 7:a.ud=c.ONE_MINUS_DST_ALPHA;a.kd=c.ZERO;break;case 8:a.ud=c.ZERO;a.kd=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.ud=c.DST_ALPHA;a.kd=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.ud=c.ONE_MINUS_DST_ALPHA,a.kd=c.SRC_ALPHA}};Ub=function(a){return Math.round(1E6*
a)/1E6};Vb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};Wb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||Vb(a.tagName,"canvas")?!0:!1}})();var Yc="undefined"!==typeof Float32Array?Float32Array:Array;function id(a){var c=new Yc(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function jd(a){var c=new Yc(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function kd(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function ld(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function md(a,c,b,d){d||(d=jd());var f,h,e,k,g,n,l,m,q=a[0],p=a[1];a=a[2];h=b[0];e=b[1];f=b[2];b=c[1];n=c[2];q===c[0]&&p===b&&a===n?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=q-c[0],n=p-c[1],l=a-c[2],m=1/Math.sqrt(b*b+n*n+l*l),b*=m,n*=m,l*=m,c=e*l-f*n,f=f*b-h*l,h=h*n-e*b,(m=Math.sqrt(c*c+f*f+h*h))?(m=1/m,c*=m,f*=m,h*=m):h=f=c=0,e=n*h-l*f,k=l*c-b*h,g=b*f-n*c,(m=Math.sqrt(e*e+k*k+g*g))?(m=1/m,e*=m,k*=m,g*=m):g=k=e=0,
d[0]=c,d[1]=e,d[2]=b,d[3]=0,d[4]=f,d[5]=k,d[6]=n,d[7]=0,d[8]=h,d[9]=g,d[10]=l,d[11]=0,d[12]=-(c*q+f*p+h*a),d[13]=-(e*q+k*p+g*a),d[14]=-(b*q+n*p+l*a),d[15]=1)}
(function(){function a(a,b,c){this.qg=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Bb=!!c;this.Vm=this.vk=!1;this.Uo=0;this.so=1;this.Br=1E3;this.pB=(this.Br-this.so)/32768;this.Jo=id([0,0,100]);this.yt=id([0,0,0]);this.rv=id([0,1,0]);this.Hl=id([1,1,1]);this.ys=!0;this.sn=jd();this.De=jd();this.Pp=jd();this.To=jd();this.la=a;this.Ys()}function c(a,b,c){this.la=a;this.pl=b;this.name=c;this.Ve=a.getAttribLocation(b,"aPos");this.vh=a.getAttribLocation(b,
"aTex");this.ut=a.getUniformLocation(b,"matP");this.mn=a.getUniformLocation(b,"matMV");this.oj=a.getUniformLocation(b,"opacity");this.Zp=a.getUniformLocation(b,"colorFill");this.xt=a.getUniformLocation(b,"samplerFront");this.Ok=a.getUniformLocation(b,"samplerBack");this.ti=a.getUniformLocation(b,"destStart");this.si=a.getUniformLocation(b,"destEnd");this.Qk=a.getUniformLocation(b,"seconds");this.aq=a.getUniformLocation(b,"pixelWidth");this.$p=a.getUniformLocation(b,"pixelHeight");this.Nk=a.getUniformLocation(b,
"layerScale");this.Mk=a.getUniformLocation(b,"layerAngle");this.Rk=a.getUniformLocation(b,"viewOrigin");this.Pk=a.getUniformLocation(b,"scrollPos");this.Fz=!!(this.aq||this.$p||this.Qk||this.Ok||this.ti||this.si||this.Nk||this.Mk||this.Rk||this.Pk);this.Gt=this.Ht=-999;this.rn=1;this.Ct=this.Bt=0;this.Et=this.At=this.zt=1;this.Kt=this.Jt=this.It=this.Mt=this.Lt=this.Dt=0;this.Np=[];this.Ft=jd();this.oj&&a.uniform1f(this.oj,1);this.Zp&&a.uniform4f(this.Zp,1,1,1,1);this.xt&&a.uniform1i(this.xt,0);this.Ok&&
a.uniform1i(this.Ok,1);this.ti&&a.uniform2f(this.ti,0,0);this.si&&a.uniform2f(this.si,1,1);this.Nk&&a.uniform1f(this.Nk,1);this.Mk&&a.uniform1f(this.Mk,0);this.Rk&&a.uniform2f(this.Rk,0,0);this.Pk&&a.uniform2f(this.Pk,0,0);this.Qk&&a.uniform1f(this.Qk,0);this.hi=!1}function b(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===
b[15]}function d(a,b){this.type=a;this.ga=b;this.la=b.la;this.Of=this.Hd=this.gu=0;this.Ta=this.ef=null;this.Qu=[]}var f=jd();a.prototype.Ys=function(){var a=this.la,b;this.nt=1;this.ni=this.qh=null;this.qm=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Bb?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.ot=a.ONE;this.mt=a.ONE_MINUS_SRC_ALPHA;
this.po=new Float32Array(8E3*(this.Bb?3:2));this.$n=new Float32Array(16E3);this.su=new Float32Array(32E3);this.xq=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.xq);a.bufferData(a.ARRAY_BUFFER,this.su.byteLength,a.DYNAMIC_DRAW);this.Fl=Array(4);this.xl=Array(4);for(b=0;4>b;b++)this.Fl[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Fl[b]),a.bufferData(a.ARRAY_BUFFER,this.po.byteLength,a.DYNAMIC_DRAW),this.xl[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.xl[b]),a.bufferData(a.ARRAY_BUFFER,
this.$n.byteLength,a.DYNAMIC_DRAW);this.fg=0;this.Kz=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Kz);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.yq=this.Ej=this.Kg=0;this.Xb=[];b=this.Bb?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.Xj({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.Xb.push(c);c=this.Xj({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Xb.push(c);c=this.Xj({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.Xb.push(c);c=this.Xj({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.Xb.push(c);for(var m in nd)nd.hasOwnProperty(m)&&this.Xb.push(this.Xj(nd[m],b,m));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Yg=[];this.eg=0;this.nd=!1;this.ts=this.Gk=-1;this.Ri=null;this.dp=a.createFramebuffer();this.vm=this.Kn=null;this.bs=!1;this.Bb&&(this.vm=a.createRenderbuffer());this.Kh=id([0,0,0]);this.Ot=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Ot&&(this.Ot=2048);this.Wd(0)};c.prototype.rr=function(a){b(this.Ft,a)||(kd(a,this.Ft),this.la.uniformMatrix4fv(this.mn,
!1,a))};a.prototype.Xj=function(a,b,d){var l=this.la,m=l.createShader(l.FRAGMENT_SHADER);l.shaderSource(m,a.src);l.compileShader(m);if(!l.getShaderParameter(m,l.COMPILE_STATUS))return l.deleteShader(m),null;var e=l.createShader(l.VERTEX_SHADER);l.shaderSource(e,b);l.compileShader(e);if(!l.getShaderParameter(e,l.COMPILE_STATUS))return l.deleteShader(m),l.deleteShader(e),null;b=l.createProgram();l.attachShader(b,m);l.attachShader(b,e);l.linkProgram(b);if(!l.getProgramParameter(b,l.LINK_STATUS))return l.deleteShader(m),
l.deleteShader(e),l.deleteProgram(b),null;l.useProgram(b);l.deleteShader(m);l.deleteShader(e);d=new c(l,b,d);d.bp=a.bp||0;d.cp=a.cp||0;d.qs=!!a.qs;d.sf=!!a.sf;d.$r=!!a.$r;d.Ua=a.Ua||[];a=0;for(m=d.Ua.length;a<m;a++)d.Ua[a][1]=l.getUniformLocation(b,d.Ua[a][0]),d.Np.push(0),l.uniform1f(d.Ua[a][1],0);return d};a.prototype.pp=function(a){var b,c;b=0;for(c=this.Xb.length;b<c;b++)if(this.Xb[b].name===a)return b;return-1};a.prototype.wu=function(a,b,c){var d=this.De,m=this.sn,e=[0,0,0,0,0,0,0,0];e[0]=d[0]*
a+d[4]*b+d[12];e[1]=d[1]*a+d[5]*b+d[13];e[2]=d[2]*a+d[6]*b+d[14];e[3]=d[3]*a+d[7]*b+d[15];e[4]=m[0]*e[0]+m[4]*e[1]+m[8]*e[2]+m[12]*e[3];e[5]=m[1]*e[0]+m[5]*e[1]+m[9]*e[2]+m[13]*e[3];e[6]=m[2]*e[0]+m[6]*e[1]+m[10]*e[2]+m[14]*e[3];e[7]=-e[2];0!==e[7]&&(e[7]=1/e[7],e[4]*=e[7],e[5]*=e[7],e[6]*=e[7],c[0]=(.5*e[4]+.5)*this.width,c[1]=(.5*e[5]+.5)*this.height)};a.prototype.Di=function(a,b,c){if(this.width!==a||this.height!==b||c){this.hh();c=this.la;this.width=a;this.height=b;c.viewport(0,0,a,b);md(this.Jo,
this.yt,this.rv,this.De);if(this.Bb){var d=-a/2;a=a/2;var m=b/2;b=-b/2;var e=this.so,f=this.Br,h=this.sn;h||(h=jd());var r=a-d,u=b-m,t=f-e;h[0]=2/r;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=2/u;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=-2/t;h[11]=0;h[12]=-(d+a)/r;h[13]=-(b+m)/u;h[14]=-(f+e)/t;h[15]=1;this.Hl[0]=1;this.Hl[1]=1}else b=a/b,d=this.so,a=this.Br,h=this.sn,f=d*Math.tan(45*Math.PI/360),b*=f,m=-b,e=-f,h||(h=jd()),r=b-m,u=f-e,t=a-d,h[0]=2*d/r,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*d/u,h[6]=0,h[7]=0,h[8]=(b+m)/
r,h[9]=(f+e)/u,h[10]=-(a+d)/t,h[11]=-1,h[12]=0,h[13]=0,h[14]=-(a*d*2)/t,h[15]=0,d=[0,0],a=[0,0],this.wu(0,0,d),this.wu(1,1,a),this.Hl[0]=1/(a[0]-d[0]),this.Hl[1]=-1/(a[1]-d[1]);d=0;for(a=this.Xb.length;d<a;d++)m=this.Xb[d],m.hi=!1,m.ut&&(c.useProgram(m.pl),c.uniformMatrix4fv(m.ut,!1,this.sn));c.useProgram(this.Xb[this.Gk].pl);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.ni=this.qh=null;this.vm&&(c.bindFramebuffer(c.FRAMEBUFFER,
this.dp),c.bindRenderbuffer(c.RENDERBUFFER,this.vm),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.bs||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.vm),this.bs=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.Kn=null)}};a.prototype.$e=function(){md(this.Jo,this.yt,this.rv,this.De);ld(this.De,this.Hl)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Kh[0]=a;this.Kh[1]=b;this.Kh[2]=
0;var c=this.De,d=this.Kh,e=d[0],f=d[1],d=d[2];c[12]=c[0]*e+c[4]*f+c[8]*d+c[12];c[13]=c[1]*e+c[5]*f+c[9]*d+c[13];c[14]=c[2]*e+c[6]*f+c[10]*d+c[14];c[15]=c[3]*e+c[7]*f+c[11]*d+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Kh[0]=a,this.Kh[1]=b,this.Kh[2]=1,ld(this.De,this.Kh)};a.prototype.Mn=function(a){if(0!==a){var b=this.De,c,d=Math.sin(a);a=Math.cos(a);var e=b[0],f=b[1],h=b[2],v=b[3],r=b[4],u=b[5],t=b[6],y=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=
b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=e*a+r*d;c[1]=f*a+u*d;c[2]=h*a+t*d;c[3]=v*a+y*d;c[4]=e*-d+r*a;c[5]=f*-d+u*a;c[6]=h*-d+t*a;c[7]=v*-d+y*a}};a.prototype.Ge=function(){if(!b(this.Pp,this.De)){var a=this.ne();a.type=5;a.Ta?kd(this.De,a.Ta):a.Ta=jd(this.De);kd(this.De,this.Pp);this.nd=!1}};a.prototype.Rn=function(a){this.Bb&&(32760<a&&(a=32760),this.Uo=this.Jo[2]-this.so-a*this.pB)};d.prototype.Tx=function(){var a=this.la,b=this.ga;0!==this.Hd?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),
a.bindFramebuffer(a.FRAMEBUFFER,b.dp),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.Vm=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.Vm=!1)};d.prototype.Xx=function(){this.la.bindTexture(this.la.TEXTURE_2D,this.ef)};d.prototype.Yx=function(){var a=this.la;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.ef);a.activeTexture(a.TEXTURE0)};d.prototype.Ux=function(){var a=
this.gu,b=this.ga;b.qm=a;b=b.Ri;b.oj&&b.rn!==a&&(b.rn=a,this.la.uniform1f(b.oj,a))};d.prototype.Ox=function(){this.la.drawElements(this.la.TRIANGLES,this.Of,this.la.UNSIGNED_SHORT,this.Hd)};d.prototype.Qx=function(){this.la.blendFunc(this.Hd,this.Of)};d.prototype.$x=function(){var a,b,c,d=this.ga.Xb,e=this.ga.ts;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.mn?(c.rr(this.Ta),c.hi=!0):c.hi=!1;kd(this.Ta,this.ga.To)};d.prototype.Px=function(){var a=this.la,b=this.ga;this.ef?(b.ni===this.ef&&(a.activeTexture(a.TEXTURE1),
a.bindTexture(a.TEXTURE_2D,null),b.ni=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.dp),b.Vm||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.ef,0)):(b.Bb||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};d.prototype.Jx=function(){var a=this.la,b=this.Hd;0===b?(a.clearColor(this.Ta[0],this.Ta[1],this.Ta[2],this.Ta[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.Ta[0],
this.Ta[1],this.Ta[2],this.Ta[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};d.prototype.Sx=function(){var a=this.la;0!==this.Hd?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};d.prototype.Nx=function(){var a=this.la,b=this.ga;b.Bb&&a.disable(a.DEPTH_TEST);var c=b.Xb[1];a.useProgram(c.pl);!c.hi&&c.mn&&(c.rr(b.To),c.hi=!0);a.enableVertexAttribArray(c.Ve);a.bindBuffer(a.ARRAY_BUFFER,b.xq);a.vertexAttribPointer(c.Ve,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,
this.Hd/4,this.Of);c=b.Ri;a.useProgram(c.pl);0<=c.Ve&&(a.enableVertexAttribArray(c.Ve),a.bindBuffer(a.ARRAY_BUFFER,b.Fl[b.fg]),a.vertexAttribPointer(c.Ve,b.Bb?3:2,a.FLOAT,!1,0,0));0<=c.vh&&(a.enableVertexAttribArray(c.vh),a.bindBuffer(a.ARRAY_BUFFER,b.xl[b.fg]),a.vertexAttribPointer(c.vh,2,a.FLOAT,!1,0,0));b.Bb&&a.enable(a.DEPTH_TEST)};d.prototype.Vx=function(){var a=this.la,b=this.ga,c=b.Xb[this.Hd];b.ts=this.Hd;b.Ri=c;a.useProgram(c.pl);!c.hi&&c.mn&&(c.rr(b.To),c.hi=!0);c.oj&&c.rn!==b.qm&&(c.rn=
b.qm,a.uniform1f(c.oj,b.qm));0<=c.Ve&&(a.enableVertexAttribArray(c.Ve),a.bindBuffer(a.ARRAY_BUFFER,b.Fl[b.fg]),a.vertexAttribPointer(c.Ve,b.Bb?3:2,a.FLOAT,!1,0,0));0<=c.vh&&(a.enableVertexAttribArray(c.vh),a.bindBuffer(a.ARRAY_BUFFER,b.xl[b.fg]),a.vertexAttribPointer(c.vh,2,a.FLOAT,!1,0,0))};d.prototype.Rx=function(){var a=this.Ta;this.la.uniform4f(this.ga.Ri.Zp,a[0],a[1],a[2],a[3])};d.prototype.Wx=function(){var a,b,c=this.ga.Ri,d=this.la;a=this.Ta;c.Ok&&this.ga.ni!==this.ef&&(d.activeTexture(d.TEXTURE1),
d.bindTexture(d.TEXTURE_2D,this.ef),this.ga.ni=this.ef,d.activeTexture(d.TEXTURE0));var e=a[0];c.aq&&e!==c.Ht&&(c.Ht=e,d.uniform1f(c.aq,e));e=a[1];c.$p&&e!==c.Gt&&(c.Gt=e,d.uniform1f(c.$p,e));e=a[2];b=a[3];!c.ti||e===c.Bt&&b===c.Ct||(c.Bt=e,c.Ct=b,d.uniform2f(c.ti,e,b));e=a[4];b=a[5];!c.si||e===c.zt&&b===c.At||(c.zt=e,c.At=b,d.uniform2f(c.si,e,b));e=a[6];c.Nk&&e!==c.Et&&(c.Et=e,d.uniform1f(c.Nk,e));e=a[7];c.Mk&&e!==c.Dt&&(c.Dt=e,d.uniform1f(c.Mk,e));e=a[8];b=a[9];!c.Rk||e===c.Lt&&b===c.Mt||(c.Lt=
e,c.Mt=b,d.uniform2f(c.Rk,e,b));e=a[10];b=a[11];!c.Pk||e===c.It&&b===c.Jt||(c.It=e,c.Jt=b,d.uniform2f(c.Pk,e,b));e=a[12];c.Qk&&e!==c.Kt&&(c.Kt=e,d.uniform1f(c.Qk,e));if(c.Ua.length)for(a=0,b=c.Ua.length;a<b;a++)e=this.Qu[a],e!==c.Np[a]&&(c.Np[a]=e,d.uniform1f(c.Ua[a][1],e))};a.prototype.ne=function(){this.eg===this.Yg.length&&this.Yg.push(new d(0,this));return this.Yg[this.eg++]};a.prototype.hh=function(){if(0!==this.eg&&!this.la.isContextLost()){var a=this.la;0<this.yq&&(a.bindBuffer(a.ARRAY_BUFFER,
this.xq),a.bufferSubData(a.ARRAY_BUFFER,0,this.su.subarray(0,this.yq)),b&&0<=b.Ve&&"<point>"===b.name&&a.vertexAttribPointer(b.Ve,4,a.FLOAT,!1,0,0));if(0<this.Kg){var b=this.Ri;a.bindBuffer(a.ARRAY_BUFFER,this.Fl[this.fg]);a.bufferSubData(a.ARRAY_BUFFER,0,this.po.subarray(0,this.Kg));b&&0<=b.Ve&&"<point>"!==b.name&&a.vertexAttribPointer(b.Ve,this.Bb?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.xl[this.fg]);a.bufferSubData(a.ARRAY_BUFFER,0,this.$n.subarray(0,this.Ej));b&&0<=b.vh&&"<point>"!==
b.name&&a.vertexAttribPointer(b.vh,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.eg;a<b;a++)switch(c=this.Yg[a],c.type){case 1:c.Ox();break;case 2:c.Xx();break;case 3:c.Ux();break;case 4:c.Qx();break;case 5:c.$x();break;case 6:c.Px();break;case 7:c.Jx();break;case 8:c.Nx();break;case 9:c.Vx();break;case 10:c.Wx();break;case 11:c.Yx();break;case 12:c.Rx();break;case 13:c.Sx();break;case 14:c.Tx()}this.yq=this.Ej=this.Kg=this.eg=0;this.Vm=this.nd=!1;this.fg++;4<=this.fg&&(this.fg=0)}};a.prototype.Ci=function(a){if(a!==
this.nt&&!this.vk){var b=this.ne();b.type=3;this.nt=b.gu=a;this.nd=!1}};a.prototype.oe=function(a){if(a!==this.qh){var b=this.ne();b.type=2;this.qh=b.ef=a;this.nd=!1}};a.prototype.Hh=function(a,b){if((a!==this.ot||b!==this.mt)&&!this.vk){var c=this.ne();c.type=4;c.Hd=a;c.Of=b;this.ot=a;this.mt=b;this.nd=!1}};a.prototype.Gu=function(){this.Hh(this.la.ONE,this.la.ONE_MINUS_SRC_ALPHA)};a.prototype.jl=function(a,b,c,d,e,f,h,v){15992<=this.Kg&&this.hh();var r=this.Kg,u=this.Ej,t=this.po,y=this.$n,z=this.Uo;
if(this.nd)this.Yg[this.eg-1].Of+=6;else{var B=this.ne();B.type=1;B.Hd=this.Bb?r:r/2*3;B.Of=6;this.nd=!0}this.Bb?(t[r++]=a,t[r++]=b,t[r++]=z,t[r++]=c,t[r++]=d,t[r++]=z,t[r++]=e,t[r++]=f,t[r++]=z,t[r++]=h,t[r++]=v,t[r++]=z):(t[r++]=a,t[r++]=b,t[r++]=c,t[r++]=d,t[r++]=e,t[r++]=f,t[r++]=h,t[r++]=v);y[u++]=0;y[u++]=0;y[u++]=1;y[u++]=0;y[u++]=1;y[u++]=1;y[u++]=0;y[u++]=1;this.Kg=r;this.Ej=u};a.prototype.Tf=function(a,b,c,d,e,f,h,v,r){15992<=this.Kg&&this.hh();var u=this.Kg,t=this.Ej,y=this.po,z=this.$n,
B=this.Uo;if(this.nd)this.Yg[this.eg-1].Of+=6;else{var E=this.ne();E.type=1;E.Hd=this.Bb?u:u/2*3;E.Of=6;this.nd=!0}var E=r.left,C=r.top,G=r.right;r=r.bottom;this.Bb?(y[u++]=a,y[u++]=b,y[u++]=B,y[u++]=c,y[u++]=d,y[u++]=B,y[u++]=e,y[u++]=f,y[u++]=B,y[u++]=h,y[u++]=v,y[u++]=B):(y[u++]=a,y[u++]=b,y[u++]=c,y[u++]=d,y[u++]=e,y[u++]=f,y[u++]=h,y[u++]=v);z[t++]=E;z[t++]=C;z[t++]=G;z[t++]=C;z[t++]=G;z[t++]=r;z[t++]=E;z[t++]=r;this.Kg=u;this.Ej=t};a.prototype.Wd=function(a){if(this.Gk!==a){if(!this.Xb[a]){if(0===
this.Gk)return;a=0}var b=this.ne();b.type=9;this.Gk=b.Hd=a;this.nd=!1}};a.prototype.fl=function(a){a=this.Xb[a];return!(!a.ti&&!a.si)};a.prototype.Cq=function(a){a=this.Xb[a];return!!(a.ti||a.si||a.qs)};a.prototype.Bq=function(a){return this.Xb[a].sf};a.prototype.wA=function(a){a=this.Xb[a];return 0!==a.bp||0!==a.cp};a.prototype.mz=function(a){return this.Xb[a].bp};a.prototype.nz=function(a){return this.Xb[a].cp};a.prototype.oz=function(a,b){return this.Xb[a].Ua[b][2]};a.prototype.Hn=function(a){return this.Xb[a].$r};
a.prototype.zj=function(a,b,c,d,e,f,h,v,r,u,t,y,z,B,E){var C=this.Xb[this.Gk],G,A;if(C.Fz||E.length){G=this.ne();G.type=10;G.Ta?kd(this.De,G.Ta):G.Ta=jd();A=G.Ta;A[0]=b;A[1]=c;A[2]=d;A[3]=e;A[4]=f;A[5]=h;A[6]=v;A[7]=r;A[8]=u;A[9]=t;A[10]=y;A[11]=z;A[12]=B;C.Ok?G.ef=a:G.ef=null;if(E.length)for(c=G.Qu,c.length=E.length,a=0,b=E.length;a<b;a++)c[a]=E[a];this.nd=!1}};a.prototype.clear=function(a,b,c,d){var e=this.ne();e.type=7;e.Hd=0;e.Ta||(e.Ta=jd());e.Ta[0]=a;e.Ta[1]=b;e.Ta[2]=c;e.Ta[3]=d;this.nd=!1};
a.prototype.clearRect=function(a,b,c,d){if(!(0>c||0>d)){var e=this.ne();e.type=7;e.Hd=1;e.Ta||(e.Ta=jd());e.Ta[0]=a;e.Ta[1]=b;e.Ta[2]=c;e.Ta[3]=d;this.nd=!1}};a.prototype.Ju=function(a){if(this.Bb&&(a=!!a,this.vk!==a)){var b=this.ne();b.type=14;b.Hd=a?1:0;this.nd=!1;this.vk=a;this.Kn=null;this.vk?this.Wd(2):this.Wd(0)}};a.prototype.Iu=function(a){if(this.Bb){var b=this.ne();b.type=13;b.Hd=a?1:0;this.nd=!1}};a.prototype.Gs=function(){kd(this.Pp,f);this.$e();this.Ge();var a=this.width/2,b=this.height/
2;this.jl(-a,b,a,b,a,-b,-a,-b);kd(f,this.De);this.Ge()};a.prototype.Hu=function(a,b,c){this.Wd(3);var d=this.ne();d.type=12;d.Ta||(d.Ta=jd());d.Ta[0]=a;d.Ta[1]=b;d.Ta[2]=c;d.Ta[3]=1;this.nd=!1};a.prototype.UA=function(){this.Wd(0)};a.prototype.GA=function(){this.Wd(2)};a.prototype.vA=function(){this.hh();this.la.flush()};var h=[],e={};a.prototype.Ax=function(){F(h);e={}};a.prototype.kn=function(a,b,c,d){b=!!b;c=!!c;var f=a.src+","+b+","+c+(b?",undefined":""),q=null;if("undefined"!==typeof a.src&&
e.hasOwnProperty(f))return q=e[f],q.dm++,q;this.hh();var p=this.la,v=ma(a.width)&&ma(a.height),q=p.createTexture();p.bindTexture(p.TEXTURE_2D,q);p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var r=p.RGBA,u=p.RGBA,t=p.UNSIGNED_BYTE;if(d&&!this.qg)switch(d){case 1:u=r=p.RGB;break;case 2:t=p.UNSIGNED_SHORT_4_4_4_4;break;case 3:t=p.UNSIGNED_SHORT_5_5_5_1;break;case 4:u=r=p.RGB,t=p.UNSIGNED_SHORT_5_6_5}if(!v&&b){d=document.createElement("canvas");d.width=na(a.width);d.height=na(a.height);var y=d.getContext("2d");
y.webkitImageSmoothingEnabled=c;y.mozImageSmoothingEnabled=c;y.msImageSmoothingEnabled=c;y.imageSmoothingEnabled=c;y.drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);p.texImage2D(p.TEXTURE_2D,0,r,u,t,d)}else p.texImage2D(p.TEXTURE_2D,0,r,u,t,a);b?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT)):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE));c?(p.texParameteri(p.TEXTURE_2D,
p.TEXTURE_MAG_FILTER,p.LINEAR),v&&this.ys?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR_MIPMAP_LINEAR),p.generateMipmap(p.TEXTURE_2D)):p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR)):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST));p.bindTexture(p.TEXTURE_2D,null);this.qh=null;q.Wh=a.width;q.Vh=a.height;q.dm=1;q.js=f;h.push(q);return e[f]=q};a.prototype.we=function(a,b,c,d){this.hh();var e=this.la;
this.qg&&(d=!1);var f=e.createTexture();e.bindTexture(e.TEXTURE_2D,f);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,b,0,e.RGBA,d?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,c?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,c?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.qh=null;f.Wh=a;f.Vh=b;h.push(f);
return f};a.prototype.nB=function(a,b,c){this.hh();var d=this.la;this.qg&&(c=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null);this.qh=null};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.dm&&1<a.dm?a.dm--:(this.hh(),a===this.qh&&(this.la.bindTexture(this.la.TEXTURE_2D,
null),this.qh=null),a===this.ni&&(this.la.activeTexture(this.la.TEXTURE1),this.la.bindTexture(this.la.TEXTURE_2D,null),this.la.activeTexture(this.la.TEXTURE0),this.ni=null),Ja(h,a),"undefined"!==typeof a.js&&delete e[a.js],this.la.deleteTexture(a)))};a.prototype.bf=function(a){if(a!==this.Kn){var b=this.ne();b.type=6;this.Kn=b.ef=a;this.nd=!1}};Xb=a})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.ee=(this.uk=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.od=!!a.dc;this.ft="undefined"!==typeof window.AppMobi||
this.od;this.Te=!!window.c2cocoonjs;this.of=!!window.c2ejecta;this.Te&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.of&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.fc=this.od||this.Te||this.of;this.xk=
/edge\//i.test(navigator.userAgent);this.qg=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.xk;this.ht=/tizen/i.test(navigator.userAgent);this.Tm=/android/i.test(navigator.userAgent)&&!this.ht&&!this.qg&&!this.xk;this.lt=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.qg&&!this.xk;this.Vz=/ipad/i.test(navigator.userAgent);this.jj=this.lt||this.Vz||this.of;this.tk=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.qg&&!this.xk;this.Cp=/amazonwebappplatform/i.test(navigator.userAgent);this.Nz=/firefox/i.test(navigator.userAgent);this.Rz=/safari/i.test(navigator.userAgent)&&!this.tk&&!this.qg&&!this.xk;this.Sz=/windows/i.test(navigator.userAgent);this.nh="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.jt=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.Uz=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.ej=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Jp=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.it=!!window.cr_windows10;this.Ip=this.jt||this.Uz||this.Jp||this.it;this.Mz=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Um=this.Tm&&!this.tk&&!this.uk&&!this.Nz&&!this.Cp&&!this.fc;this.devicePixelRatio=
1;this.rg=this.ee||this.uk||this.ft||this.Te||this.Tm||this.jj||this.ej||this.Jp||this.Mz||this.ht||this.of;this.rg||(this.rg=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Bk=!!(this.jj&&this.ee&&window.indexedDB);this.Ws=null;this.Iz="";this.Bk&&(this.Ws=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.nh||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&
!/nwjs/i.test(navigator.userAgent)||(this.nh=!0);this.canvas=a;this.ls=document.getElementById("c2canvasdiv");this.ga=this.la=null;this.sp="(unavailable)";this.Bb=!1;this.ai=0;this.rb=null;this.hp="";this.Fm=!1;this.$t=this.au=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.od&&(window.c2runtime=this);this.nh&&(window.ondragover=function(a){a.preventDefault();return!1},
window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Um&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.ya=this.width;this.xa=this.height;this.nm=this.width;this.Zj=this.height;this.Ik=window.innerWidth;this.Hk=window.innerHeight;this.Xy=!1;this.hb=!0;this.Ak=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types=
{};this.ka=[];this.Ob=[];this.Wp={};this.pf=[];this.$o={};this.jg=[];this.Kj=[];this.jo=[];this.kx=[];this.mx=[];this.$q=null;this.Zh={};this.Ep=this.mh=!1;this.Be=0;this.Dp=this.Gp=!1;this.mf=[];this.wk=!1;this.ug=this.td=this.hn=this.Pq="";this.tl=this.Tu=!1;this.Em=[];this.gh=this.La=0;this.Qt=30;this.Ro=this.Sk=0;this.Zf=1;this.Ac=new Db;this.Lg=new Db;this.un=this.Im=this.di=this.qe=this.pi=this.gp=this.bn=0;this.Xh=null;this.xm=[];this.Zo=[];this.zm=-1;this.bq=[[]];this.lr=this.nn=0;this.In(null);
this.dq=[];this.qn=-1;this.Vt=this.Yk=0;this.Vp=!0;this.ck=0;this.ul=[];this.ir=this.Eq=-1;this.kj=!0;this.nj=0;this.yk=!1;this.YA=0;this.Pi=null;this.Yc=this.Nm=!1;this.Zt=new ca;this.lq=new ca;this.mq=new ca;this.kl=[];this.vf=new Kb([]);this.dr=new Kb([]);this.Xg=[];this.nk={};this.ah={};this.Wg={};this.Jj={};this.ds={};this.tt=this.gn=this.nc=this.Bc=this.qt=this.en=this.Za=null;this.Hj=this.Kp=!1;this.ip=[null,null];this.ei=0;this.ep="";this.yg={};this.rl=this.sh=null;this.Vu="";this.tn=[];this.FA()}}
function c(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function b(){try{return!!window.indexedDB}catch(a){return!1}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function f(a,b,c,e){try{var l=indexedDB.open("_C2SaveStates");l.onupgradeneeded=d;l.onerror=e;l.onsuccess=function(d){d=d.target.result;d.onerror=e;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=c}}catch(f){e(f)}}function h(a,b,c){try{var e=indexedDB.open("_C2SaveStates");
e.onupgradeneeded=d;e.onerror=c;e.onsuccess=function(d){d=d.target.result;d.onerror=c;var e=d.transaction(["saves"]).objectStore("saves").get(a);e.onsuccess=function(){e.result?b(e.result.data):b(null)}}}catch(l){c(l)}}function e(){ga("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function k(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof
ca||a[b]&&"undefined"!==typeof a[b].Gf||"spriteCreatedDestroyCallback"!==b&&(c[b]=a[b]);return c}var g=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.FA=function(){var a=this;if(this.Bk)this.Ws.startServer({port:0,localhost_only:!0},function(b){a.Iz=b;a.Ty(function(b){a.Lk(JSON.parse(b))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+
a)});else{var b;this.ej?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var c="data.js";if(this.jt||this.ej||this.Jp||this.it)c="data.json";b.open("GET",c,!0);var d=!1;if(!this.fc&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(e){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(l){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.ej?b.onreadystatechange=function(){4===b.readyState&&
a.Lk(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.Lk(b.response);else if(a.of){var c=b.responseText,c=c.substr(c.indexOf("{"));a.Lk(JSON.parse(c))}else a.Lk(JSON.parse(b.responseText))},b.onerror=function(a){ia("Error requesting "+c+":");ia(a)});b.send()}};a.prototype.Lz=function(){var a=this,b,c,d,e,l,f,g,k,m;this.mi=(!this.fc||this.of||this.ee)&&this.kB&&!this.Um;0===this.Cd&&this.jj&&(this.mi=!1);this.devicePixelRatio=this.mi?window.devicePixelRatio||window.webkitDevicePixelRatio||
window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.dd();c=!(!this.Xy&&(!this.Do||this.nh||this.Ip||this.ej||this.uk||this.ee||this.Cp));0<this.Cd&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.iy&&(this.Te||this.of||!this.fc)&&(b={alpha:c,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.la=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(h){}if(this.la){if(b=this.la.getExtension("WEBGL_debug_renderer_info"))this.sp=this.la.getParameter(b.UNMASKED_RENDERER_WEBGL)+
" ["+this.la.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.Bb&&(this.sp+=" [front-to-back enabled]");this.fc||(this.Zc=document.createElement("canvas"),jQuery(this.Zc).appendTo(this.canvas.parentNode),this.Zc.oncontextmenu=function(){return!1},this.Zc.onselectstart=function(){return!1},this.Zc.width=Math.round(this.nm*this.devicePixelRatio),this.Zc.height=Math.round(this.Zj*this.devicePixelRatio),jQuery(this.Zc).css({width:this.nm+"px",height:this.Zj+"px"}),this.tu(),this.wq=this.Zc.getContext("2d"));
this.ga=new Xb(this.la,this.rg,this.Bb);this.ga.Di(this.canvas.width,this.canvas.height);this.ga.ys=0!==this.ay;this.rb=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.hA();ga("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.ga.Ys();a.ga.Di(a.ga.width,a.ga.height,!0);a.Bc=null;a.nc=null;a.ip[0]=null;a.ip[1]=null;a.iA();a.hb=!0;ga("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},
!1);b=0;for(c=this.ka.length;b<c;b++)for(l=this.ka[b],d=0,e=l.Ma.length;d<e;d++)g=l.Ma[d],g.qc=this.ga.pp(g.id),g.sf=this.ga.Bq(g.qc),this.Hj=this.Hj||this.ga.fl(g.qc);b=0;for(c=this.pf.length;b<c;b++){k=this.pf[b];d=0;for(e=k.Ma.length;d<e;d++)g=k.Ma[d],g.qc=this.ga.pp(g.id),g.sf=this.ga.Bq(g.qc);k.xf();d=0;for(e=k.Oa.length;d<e;d++){m=k.Oa[d];l=0;for(f=m.Ma.length;l<f;l++)g=m.Ma[l],g.qc=this.ga.pp(g.id),g.sf=this.ga.Bq(g.qc),this.Hj=this.Hj||this.ga.fl(g.qc);m.xf()}}}else{if(0<this.Cd&&this.od){this.canvas=
null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.rb=AppMobi.canvas.getContext("2d");try{this.rb.samplingMode=this.Xa?"smooth":"sharp",this.rb.globalScale=1,this.rb.HTML5CompatibilityMode=!0,this.rb.imageSmoothingEnabled=this.Xa}catch(t){}0!==this.width&&0!==this.height&&(this.rb.width=this.width,this.rb.height=this.height)}this.rb||(this.Te?(b={antialias:!!this.Xa,alpha:c},this.rb=this.canvas.getContext("2d",b)):(b={alpha:c},this.rb=this.canvas.getContext("2d",
b)),this.rb.webkitImageSmoothingEnabled=this.Xa,this.rb.mozImageSmoothingEnabled=this.Xa,this.rb.msImageSmoothingEnabled=this.Xa,this.rb.imageSmoothingEnabled=this.Xa);this.wq=this.Zc=null}this.hv=function(b){a.Yb(!1,b)};window==window.top||this.fc||this.Ip||this.ej||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Te&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),
-1<window.location.search.indexOf("continuous")&&(ga("Reloading for continuous preview"),this.hn="__c2_continuouspreview",this.tl=!0),this.nA&&!this.rg&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));window.addEventListener("blur",function(){});this.fc||(b=function(a){if(Wb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},
window.navigator.pointerEnabled?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.Cd&&this.mi&&1<this.devicePixelRatio&&this.setSize(this.Ec,this.Dc,!0);this.ov();this.Cz();this.go();this.fa={}};a.prototype.setSize=function(a,b,c){var d=0,e=0,l=0,f=0,f=0;if(this.Ik!==a||this.Hk!==b||c){this.Ik=a;this.Hk=b;var g=this.Cd,k=(document.mozFullScreen||
document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.yk)&&!this.ee;if(k||0!==this.Cd||c)k&&0<this.ei&&(g=this.ei),c=this.devicePixelRatio,4<=g?(l=this.Ec/this.Dc,a/b>l?(l*=b,5===g?(f=l*c/this.Ec,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),l=this.Ec*f/c,f=this.Dc*f/c,d=(a-l)/2,e=(b-f)/2,a=l,b=f):(d=(a-l)/2,a=l)):(f=a/l,5===g?(f=f*c/this.Dc,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),l=this.Ec*f/c,f=this.Dc*f/c,d=(a-l)/2,e=(b-f)/2,a=l):e=(b-f)/2,b=f),k&&!this.nh&&
(e=d=0)):this.nh&&this.yk&&0===this.Hs&&(d=Math.floor((a-this.Ec)/2),e=Math.floor((b-this.Dc)/2),a=this.Ec,b=this.Dc),2>g&&(this.Uj=c),this.nm=Math.round(a),this.Zj=Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.hb=!0,this.Av?(this.ya=this.width,this.xa=this.height,this.ye=!0):this.width<this.Ec&&this.height<this.Dc||1===g?(this.ya=this.width,this.xa=this.height,this.ye=!0):(this.ya=this.Ec,this.xa=this.Dc,this.ye=!1,2===g?(l=this.Ec/this.Dc,g=this.Ik/this.Hk,g<l?this.ya=
this.xa*g:g>l&&(this.xa=this.ya/g)):3===g&&(l=this.Ec/this.Dc,g=this.Ik/this.Hk,g>l?this.ya=this.xa*g:g<l&&(this.xa=this.ya/g))),this.ls&&!this.fc&&(jQuery(this.ls).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(e)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.of?(this.canvas.style.left=
Math.floor(d)+"px",this.canvas.style.top=Math.floor(e)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.mi&&!this.fc&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.Zc&&(this.Zc.width=Math.round(a*c),this.Zc.height=Math.round(b*c),this.Zc.style.width=this.nm+"px",this.Zc.style.height=this.Zj+"px"),this.ga&&this.ga.Di(Math.round(a*c),Math.round(b*c)),this.od&&this.rb&&(this.rb.width=Math.round(a),this.rb.height=
Math.round(b)),this.rb&&(this.rb.webkitImageSmoothingEnabled=this.Xa,this.rb.mozImageSmoothingEnabled=this.Xa,this.rb.msImageSmoothingEnabled=this.Xa,this.rb.imageSmoothingEnabled=this.Xa),this.ov(),this.lt&&!this.ee&&window.scrollTo(0,0)}};a.prototype.ov=function(){if(this.ox&&0!==this.uq){var a="portrait";2===this.uq&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):
screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",b)}}};a.prototype.hA=function(){this.ga.Ax();this.Kp=!0;var a,b,c;a=0;for(b=this.ka.length;a<b;a++)c=this.ka[a],c.vn&&c.vn()};a.prototype.iA=function(){this.Kp=!1;var a,b,c;a=0;for(b=this.ka.length;a<b;a++)c=this.ka[a],c.rq&&c.rq()};a.prototype.tu=function(){if(!this.fc){var a=(document.mozFullScreen||document.webkitIsFullScreen||
document.fullScreen||document.msFullscreenElement||this.yk)&&!this.ee?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Zc).css(a)}};var n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=function(a){var b;if(a&&!this.Ak)for(ga("[Construct 2] Suspending"),this.Ak=!0,-1!==this.Eq&&n&&n(this.Eq),-1!==this.ir&&clearTimeout(this.ir),
a=0,b=this.ul.length;a<b;a++)this.ul[a](!0);else if(!a&&this.Ak){ga("[Construct 2] Resuming");this.Ak=!1;this.bn=vb();this.pi=vb();a=this.Sk=this.Im=0;for(b=this.ul.length;a<b;a++)this.ul[a](!1);this.Yb(!1)}};a.prototype.Yr=function(a){this.ul.push(a)};a.prototype.Tg=function(a){return this.tn[a]};a.prototype.Lk=function(a){a&&a.project||ia("Project model unavailable");a=a.project;this.name=a[0];this.Fs=a[1];this.Cd=a[12];this.Hs=a[12];this.Ec=a[10];this.Dc=a[11];this.nu=this.Ec/2;this.ou=this.Dc/
2;this.fc&&!this.of&&(4<=a[12]||0===a[12])&&(ga("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Hs=this.Cd=3);this.tr=a[18];this.uh=a[19];if(0===this.uh){var b=new Image;b.crossOrigin="anonymous";this.Lu(b,"loading-logo.png");this.sh={pn:b}}else if(4===this.uh){b=new Image;b.src="";var c=new Image;c.src="";var d=new Image;d.src="";var e=new Image;e.src="";var l=new Image;l.src="";var f=new Image;f.src="";var g=new Image;g.src=
"";var k=new Image;k.src="";var m=new Image;m.src="";var h=new Image;h.src="";var t=new Image;t.src="";var n=new Image;n.src="";this.sh={pn:[b,c,d,e],sA:[l,f,g,k],oB:[m,h,t,n]}}this.Yk=a[21];this.tn=od();this.Wf=new J(this);b=0;for(c=a[2].length;b<c;b++)g=a[2][b],d=this.Tg(g[0]),Yb(g,d.prototype),k=new d(this),k.Vn=g[1],k.ph=g[2],k.St=g[9],k.Ga&&k.Ga(),this.plugins.push(k);this.tn=od();b=0;for(c=a[3].length;b<c;b++){g=a[3][b];l=this.Tg(g[1]);k=null;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof
l){k=this.plugins[d];break}m=new k.pb(k);m.name=g[0];m.Da=g[2];m.Bp=g[3].slice(0);m.mB=g[3].length;m.qx=g[4];m.Zy=g[5];m.$a=g[11];m.Da?(m.rj=[],m.kg=this.ck++,m.Kb=null):(m.rj=null,m.kg=-1,m.Kb=[]);m.Cm=null;m.Vi=null;m.zs=null;m.qd=!1;m.ae=null;g[6]?(m.er=g[6][0],m.gr=g[6][1],m.hr=g[6][2]):(m.er=null,m.gr=0,m.hr=0);g[7]?m.Ld=g[7]:m.Ld=null;m.index=b;m.G=[];m.tm=[];m.Ig=[new Zb(m)];m.Jf=0;m.Pe=null;m.Fx=0;m.Dj=!0;m.ko=$b;m.Ns=ac;m.kz=bc;m.za=cc;m.hl=dc;m.il=ec;m.Eh=fc;m.Lm=gc;m.jp=hc;m.lp=ic;m.Le=
kc;m.mp=lc;m.hm=new Lb(this.Ec,this.Dc);m.Vl=!0;m.Wl=!1;m.fa={};m.toString=mc;m.Ob=[];d=0;for(e=g[8].length;d<e;d++){h=g[8][d];t=this.Tg(h[1]);n=null;l=0;for(f=this.Ob.length;l<f;l++)if(this.Ob[l]instanceof t){n=this.Ob[l];break}n||(n=new t(this),n.jq=[],n.Wk=new ca,n.Ga&&n.Ga(),this.Ob.push(n),Xc.XA&&n instanceof Xc.XA&&(this.$q=n));-1===n.jq.indexOf(m)&&n.jq.push(m);l=new n.pb(n,m);l.name=h[0];l.$a=h[2];l.Ga();m.Ob.push(l)}m.global=g[9];m.Fp=g[10];m.Ma=[];d=0;for(e=g[12].length;d<e;d++)m.Ma.push({id:g[12][d][0],
name:g[12][d][1],qc:-1,sf:!1,tc:!0,index:d});m.zC=g[13];this.tr&&!m.Da&&!m.Fp&&k.ph||m.Ga();m.name&&(this.types[m.name]=m);this.ka.push(m);k.Vn&&(d=new k.ab(m),d.uid=this.Yk++,d.yu=this.Vt++,d.ji=0,d.lk=nc,d.toString=oc,d.ea=g[14],d.Ga(),m.G.push(d),this.yg[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(l=a[4][b],f=this.ka[l[0]],d=1,e=l.length;d<e;d++)g=this.ka[l[d]],g.Kb.push(f),f.rj.push(g);b=0;for(c=a[28].length;b<c;b++){l=a[28][b];f=[];d=0;for(e=l.length;d<e;d++)f.push(this.ka[l[d]]);
d=0;for(e=f.length;d<e;d++)f[d].qd=!0,f[d].ae=f}if(0<this.ck)for(b=0,c=this.ka.length;b<c;b++)if(g=this.ka[b],!g.Da&&g.Kb.length){g.Cm=Array(this.ck);g.Vi=Array(this.ck);g.zs=Array(this.ck);m=[];d=n=t=h=0;for(e=g.Kb.length;d<e;d++)for(k=g.Kb[d],g.Cm[k.kg]=h,h+=k.mB,g.Vi[k.kg]=t,t+=k.qx,g.zs[k.kg]=n,n+=k.Zy,l=0,f=k.Ma.length;l<f;l++)m.push(za({},k.Ma[l]));g.Ma=m.concat(g.Ma);d=0;for(e=g.Ma.length;d<e;d++)g.Ma[d].index=d}b=0;for(c=a[5].length;b<c;b++)g=a[5][b],d=new pc(this,g),this.Wp[d.name]=d,this.pf.push(d);
b=0;for(c=a[6].length;b<c;b++)g=a[6][b],d=new qc(this,g),this.$o[d.name]=d,this.jg.push(d);b=0;for(c=this.jg.length;b<c;b++)this.jg[b].jc();b=0;for(c=this.jg.length;b<c;b++)this.jg[b].qr();b=0;for(c=this.jo.length;b<c;b++)this.jo[b].jc();F(this.jo);this.nx=a[7];this.ep=a[8];this.rf=a[9];this.Uj=1;this.iy=a[13];this.Xa=a[14];this.Do=a[15];this.kB=a[17];this.uq=a[20];this.ox=0<this.uq;this.nA=a[22];this.ye=this.Av=a[23];this.ay=a[24];this.tA=a[25];this.Bb=a[27]&&!this.qg;this.Wn=Date.now();F(this.tn);
this.Lz()};var l=!1;a.prototype.zv=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){l=a.hs=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.of?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){l=a.hs=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):(a.crossOrigin="anonymous",this.Lu(a,b)));this.Kj.push(a)};a.prototype.Wy=function(a){var b,c;b=0;for(c=this.Kj.length;b<
c;b++)if(this.Kj[b].Cx===a)return this.Kj[b];return null};var m=0,q=!1;a.prototype.Cz=function(){this.Pi&&(m=this.Pi.SA(this.nx))};a.prototype.as=function(){var a=m,b=0,c=0,d=!0,e,l,c=0;for(e=this.Kj.length;c<e;c++){l=this.Kj[c];var g=l.os;if(!g||0>=g)g=5E4;a+=g;l.src&&(l.complete||l.loaded)&&!l.hs?b+=g:d=!1}d&&this.tA&&this.Pi&&(q||(this.Pi.ZA(),q=!0),c=this.Pi.lz(),b+=c,c<m&&(d=!1));this.tf=0==a?1:b/a;return d};var p=!1;a.prototype.go=function(){if(this.rb||this.ga){var a=this.rb||this.wq;this.Zc&&
this.tu();this.tf=0;this.pt=-1;var b=this;if(this.as()&&(4!==this.uh||p))this.Dz();else{var c=Date.now()-this.Wn;if(a){var d=this.width,e=this.height,f=this.devicePixelRatio;if(3>this.uh&&(this.Te||500<=c&&this.pt!=this.tf)){a.clearRect(0,0,d,e);var c=d/2,e=e/2,d=0===this.uh&&this.sh.pn.complete,m=40*f,k=0,h=80*f,t;if(d){var n=this.sh.pn,h=n.width*f;t=n.height*f;m=h/2;k=t/2;a.drawImage(n,ta(c-m),ta(e-k),h,t)}1>=this.uh?(c=ta(c-m)+.5,e=ta(e+(k+(d?12*f:0)))+.5,a.fillStyle=l?"red":"DodgerBlue",a.fillRect(c,
e,Math.floor(h*this.tf),6*f),a.strokeStyle="black",a.strokeRect(c,e,h,6*f),a.strokeStyle="white",a.strokeRect(c-1*f,e-1*f,h+2*f,8*f)):2===this.uh&&(a.font=this.of?"12pt ArialMT":"12pt Arial",a.fillStyle=l?"#f00":"#999",a.yC="middle",f=Math.round(100*this.tf)+"%",d=a.measureText?a.measureText(f):null,a.fillText(f,c-(d?d.width:0)/2,e));this.pt=this.tf}else if(4===this.uh){this.gy(a);g?g(function(){b.go()}):setTimeout(function(){b.go()},16);return}}setTimeout(function(){b.go()},this.Te?10:100)}}};var v=
-1,r="undefined"===typeof cr_is_preview?200:0,u=!0,t=!1,y=0,z=0,B="undefined"===typeof cr_is_preview?3E3:0,E=null,C=null,G=0;a.prototype.gy=function(a){if(!p){for(var b=Math.ceil(this.width),d=Math.ceil(this.height),e=this.sh.pn,g=this.sh.sA,f=this.sh.oB,m=0;4>m;++m)if(!e[m].complete||!g[m].complete||!f[m].complete)return;0===G&&(v=Date.now());var m=Date.now(),k=!1,h=a,n,q;u||t?(a.clearRect(0,0,b,d),E&&E.width===b&&E.height===d||(E=document.createElement("canvas"),E.width=b,E.height=d,C=E.getContext("2d")),
h=C,k=!0,u&&1===G&&(v=Date.now())):a.globalAlpha=1;h.fillStyle="#333333";h.fillRect(0,0,b,d);256<this.Zj?(n=Ka(.22*d,105,.6*b),q=.25*n,h.drawImage(c(g,n),.5*b-n/2,.2*d-q/2,n,q),q=n=Math.min(.395*d,.95*b),h.drawImage(c(e,n),.5*b-n/2,.485*d-q/2,n,q),n=Ka(.22*d,105,.6*b),q=.25*n,h.drawImage(c(f,n),.5*b-n/2,.868*d-q/2,n,q),h.fillStyle="#3C3C3C",n=b,q=Math.max(.005*d,2),h.fillRect(0,.8*d-q/2,n,q),h.fillStyle=l?"red":"#E0FF65",n=b*this.tf,h.fillRect(.5*b-n/2,.8*d-q/2,n,q)):(q=n=.55*d,h.drawImage(c(e,n),
.5*b-n/2,.45*d-q/2,n,q),h.fillStyle="#3C3C3C",n=b,q=Math.max(.005*d,2),h.fillRect(0,.85*d-q/2,n,q),h.fillStyle=l?"red":"#E0FF65",n=b*this.tf,h.fillRect(.5*b-n/2,.85*d-q/2,n,q));k&&(u?a.globalAlpha=0===G?0:Math.min((m-v)/300,1):t&&(a.globalAlpha=Math.max(1-(m-z)/300,0)),a.drawImage(E,0,0,b,d));u&&300<=m-v&&2<=G&&(u=!1,y=m);!u&&m-y>=B&&!t&&1<=this.tf&&(t=!0,z=m);if(t&&m-z>=300+r||"undefined"!==typeof cr_is_preview&&1<=this.tf&&500>Date.now()-v)p=!0,t=u=!1,this.sh=C=E=null;++G}};a.prototype.Dz=function(){this.Zc&&
(this.canvas.parentNode.removeChild(this.Zc),this.Zc=this.wq=null);this.Wn=Date.now();this.pi=vb();var a,b,c;if(this.tr)for(a=0,b=this.ka.length;a<b;a++)c=this.ka[a],c.Da||c.Fp||!c.yb.ph||c.Ga();else this.kj=!1;a=0;for(b=this.pf.length;a<b;a++)this.pf[a].Dx();2<=this.Cd&&(a=this.Ec/this.Dc,b=this.width/this.height,this.Uj=2!==this.Cd&&b>a||2===this.Cd&&b<a?this.height/this.Dc:this.width/this.Ec);this.Fs?this.Wp[this.Fs].br():this.pf[0].br();this.tr||(this.nj=1,this.trigger(J.prototype.O.Jr,null));
navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.ka.length;a<b;a++)c=this.ka[a],c.gA&&c.gA();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Yb(!1);this.od&&AppMobi.webview.execute("onGameReady();")};a.prototype.Yb=function(a,b,c){if(this.Za){var d=vb();if(c||!this.Ak||a){a||(g?this.Eq=g(this.hv):this.ir=setTimeout(this.hv,this.rg?1:16));b=b||d;var e=this.Cd;((c=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.ee)||this.yk)&&0<this.ei&&(e=this.ei);if(0<e){var e=window.innerWidth,l=window.innerHeight;this.Ik===e&&this.Hk===l||this.setSize(e,l)}this.fc||(c?(this.Fm||(this.hp=jQuery(this.canvas).css("margin")||"0",this.Fm=!0),this.tk||this.nh||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/
2)+"px"})):this.Fm?(this.tk||this.nh||jQuery(this.canvas).css("margin",this.hp),this.hp="",this.Fm=!1,0===this.Cd&&this.setSize(Math.round(this.au/this.devicePixelRatio),Math.round(this.$t/this.devicePixelRatio),!0)):(this.au=this.width,this.$t=this.height));this.kj&&(c=this.as(),this.nj=this.tf,c&&(this.kj=!1,this.tf=1,this.trigger(J.prototype.O.Jr,null)));this.$z(b);!this.hb&&!this.Te||this.Kp||this.tl||a||(this.hb=!1,this.ga?this.be():this.Kf(),this.rl&&(this.canvas&&this.canvas.toDataURL&&(this.Vu=
this.canvas.toDataURL(this.rl[0],this.rl[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Vu),this.trigger(J.prototype.O.fw,null)),this.rl=null));this.mC||(this.qe++,this.di++,this.Im++);this.Sk+=vb()-d}}};a.prototype.$z=function(a){var b,c,d,e,l,g,f,m;1E3<=a-this.pi&&(this.pi+=1E3,1E3<=a-this.pi&&(this.pi=a),this.gp=this.Im,this.Im=0,this.Ro=this.Sk,this.Sk=0);0!==this.bn&&(b=a-this.bn,0>b&&(b=0),this.gh=b/1E3,.5<this.gh?this.gh=0:this.gh>1/this.Qt&&(this.gh=1/this.Qt));this.bn=a;this.La=this.gh*
this.Zf;this.Ac.add(this.La);this.Lg.add(this.gh);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.yk)&&!this.ee;2<=this.Cd||a&&0<this.ei?(b=this.Ec/this.Dc,c=this.width/this.height,d=this.Cd,a&&0<this.ei&&(d=this.ei),this.Uj=2!==d&&c>b||2===d&&c<b?this.height/this.Dc:this.width/this.Ec,this.Za&&(this.Za.Qq(this.Za.scrollX),this.Za.Rq(this.Za.scrollY))):this.Uj=this.mi?this.devicePixelRatio:1;this.dd();this.Be++;this.Wf.JA();this.Be--;
this.dd();this.Be++;c=this.Zt.te();a=0;for(b=c.length;a<b;a++)c[a].uC();a=0;for(b=this.ka.length;a<b;a++)if(g=this.ka[a],!g.Da&&(g.Ob.length||g.Kb.length))for(c=0,d=g.G.length;c<d;c++)for(f=g.G[c],e=0,l=f.Ba.length;e<l;e++)f.Ba[e].Yb();a=0;for(b=this.ka.length;a<b;a++)if(g=this.ka[a],!g.Da&&(g.Ob.length||g.Kb.length))for(c=0,d=g.G.length;c<d;c++)for(f=g.G[c],e=0,l=f.Ba.length;e<l;e++)m=f.Ba[e],m.rA&&m.rA();c=this.lq.te();a=0;for(b=c.length;a<b;a++)c[a].Yb();this.Be--;this.Ez();for(a=0;this.Xh&&10>
a++;)this.xs(this.Xh);a=0;for(b=this.jg.length;a<b;a++)this.jg[a].vp=!1;this.Za.bi&&this.Za.bi.pc();F(this.kl);this.Vp=!1;this.Be++;a=0;for(b=this.ka.length;a<b;a++)if(g=this.ka[a],!g.Da&&(g.Ob.length||g.Kb.length))for(c=0,d=g.G.length;c<d;c++)for(f=g.G[c],e=0,l=f.Ba.length;e<l;e++)m=f.Ba[e],m.yl&&m.yl();c=this.mq.te();a=0;for(b=c.length;a<b;a++)c[a].yl();this.Be--};a.prototype.xs=function(a){var b=this.Za;this.Za.aB();var c,d,e;if(this.ga)for(c=0,d=this.ka.length;c<d;c++)e=this.ka[c],e.Da||!e.or||
e.global&&0!==e.G.length||-1!==a.qk.indexOf(e)||e.or();b==a&&F(this.Wf.Xd);F(this.kl);this.Eu(!0);a.br();this.Eu(!1);this.Vp=this.hb=!0;this.dd()};a.prototype.Eu=function(a){var b,c,d,e,l,g,f,m,k;b=0;for(c=this.Ob.length;b<c;b++)d=this.Ob[b],a?d.Zk&&d.Zk():d.al&&d.al();b=0;for(c=this.ka.length;b<c;b++)if(d=this.ka[b],d.global||d.yb.Vn)for(e=0,l=d.G.length;e<l;e++)if(g=d.G[e],a?g.Zk&&g.Zk():g.al&&g.al(),g.Ba)for(f=0,m=g.Ba.length;f<m;f++)k=g.Ba[f],a?k.Zk&&k.Zk():k.al&&k.al()};a.prototype.co=function(a){this.lq.add(a)};
a.prototype.cB=function(a){this.mq.add(a)};a.prototype.Zi=function(a){return a&&-1!==a.Xk?this.gh*a.Xk:this.La};a.prototype.Kf=function(){this.Za.Kf(this.rb);this.od&&this.rb.present()};a.prototype.be=function(){this.Bb&&(this.ai=1,this.Za.$h(this.ga));this.Za.be(this.ga);this.ga.vA()};a.prototype.Tl=function(a){a&&this.xm.push(a)};a.prototype.Du=function(a){Ja(this.xm,a)};a.prototype.lh=function(a){a=a.toString();return this.yg.hasOwnProperty(a)?this.yg[a]:null};var A=[];a.prototype.Rg=function(a){var b,
c;b=a.type.name;var d=null;if(this.Zh.hasOwnProperty(b)){if(d=this.Zh[b],d.contains(a))return}else d=A.length?A.pop():new ca,this.Zh[b]=d;d.add(a);this.mh=!0;if(a.qd)for(b=0,c=a.siblings.length;b<c;b++)this.Rg(a.siblings[b]);this.Ep&&d.Ij.push(a);this.Dp||(this.Be++,this.trigger(Object.getPrototypeOf(a.type.yb).O.Gr,a),this.Be--)};a.prototype.dd=function(){if(this.mh){var a,b,c,d,e,l;this.Ep=!0;c=0;for(e=this.mf.length;c<e;++c)for(a=this.mf[c],b=a.type,b.G.push(a),d=0,l=b.Kb.length;d<l;++d)b.Kb[d].G.push(a),
b.Kb[d].Dj=!0;F(this.mf);this.Xv();tb(this.Zh);this.mh=this.Ep=!1}};a.prototype.Xv=function(){for(var a in this.Zh)this.Zh.hasOwnProperty(a)&&this.Gv(this.Zh[a])};a.prototype.Gv=function(a){var b=a.te(),c=b[0].type,d,e,l,g,f,m;Ab(c.G,a);c.Dj=!0;0===c.G.length&&(c.Wl=!1);d=0;for(e=c.Kb.length;d<e;++d)m=c.Kb[d],Ab(m.G,a),m.Dj=!0;d=0;for(e=this.Wf.Xd.length;d<e;++d)if(f=this.Wf.Xd[d],f.Gd.hasOwnProperty(c.index)&&Ab(f.Gd[c.index].ng,a),!c.Da)for(l=0,g=c.Kb.length;l<g;++l)m=c.Kb[l],f.Gd.hasOwnProperty(m.index)&&
Ab(f.Gd[m.index].ng,a);if(f=b[0].V){if(f.He)for(l=f.G,d=0,e=l.length;d<e;++d)g=l[d],a.contains(g)&&(g.bb(),f.$c.update(g,g.Ud,null),g.Ud.set(0,0,-1,-1));Ab(f.G,a);f.nl(0)}for(d=0;d<b.length;++d)this.Fv(b[d],c);a.clear();A.push(a);this.hb=!0};a.prototype.Fv=function(a,b){var c,d,e;c=0;for(d=this.xm.length;c<d;++c)this.xm[c](a);a.bh&&b.hm.update(a,a.bh,null);(c=a.V)&&c.xj(a,!0);if(a.Ba)for(c=0,d=a.Ba.length;c<d;++c)e=a.Ba[c],e.Ch&&e.Ch(),e.behavior.Wk.remove(a);this.Zt.remove(a);this.lq.remove(a);this.mq.remove(a);
a.Ch&&a.Ch();this.yg.hasOwnProperty(a.uid.toString())&&delete this.yg[a.uid.toString()];this.un--;100>b.tm.length&&b.tm.push(a)};a.prototype.So=function(a,b,c,d){if(a.Da){var e=ta(Math.random()*a.rj.length);return this.So(a.rj[e],b,c,d)}return a.Pe?this.dh(a.Pe,b,!1,c,d,!1):null};var w=[];a.prototype.dh=function(a,b,c,d,e,l){var g,f,m,k;if(!a)return null;var h=this.ka[a[1]],t=h.yb.ph;if(this.kj&&t&&!h.Fp||t&&!this.ga&&11===a[0][11])return null;var n=b;t||(b=null);var p;h.tm.length?(p=h.tm.pop(),p.Td=
!0,h.yb.ab.call(p,h)):(p=new h.yb.ab(h),p.Td=!1);!c||l||this.yg.hasOwnProperty(a[2].toString())?p.uid=this.Yk++:p.uid=a[2];this.yg[p.uid.toString()]=p;p.yu=this.Vt++;p.ji=h.G.length;g=0;for(f=this.mf.length;g<f;++g)this.mf[g].type===h&&p.ji++;p.lk=nc;p.toString=oc;m=a[3];if(p.Td)tb(p.fa);else{p.fa={};if("undefined"!==typeof cr_is_preview)for(p.bt=[],p.bt.length=m.length,g=0,f=m.length;g<f;g++)p.bt[g]=m[g][1];p.zc=[];p.zc.length=m.length}g=0;for(f=m.length;g<f;g++)p.zc[g]=m[g][0];if(t){var y=a[0];
p.x=ja(d)?y[0]:d;p.y=ja(e)?y[1]:e;p.z=y[2];p.width=y[3];p.height=y[4];p.depth=y[5];p.M=y[6];p.opacity=y[7];p.Nd=y[8];p.Od=y[9];p.ed=y[10];g=y[11];!this.ga&&h.Ma.length&&(p.ed=g);p.Vj=Sb(p.ed);this.la&&Tb(p,p.ed,this.la);if(p.Td){g=0;for(f=y[12].length;g<f;g++)for(m=0,k=y[12][g].length;m<k;m++)p.Pb[g][m]=y[12][g][m];p.Jb.set(0,0,0,0);p.bh.set(0,0,-1,-1);p.Ud.set(0,0,-1,-1);p.ub.Bj(p.Jb);F(p.Ho)}else{p.Pb=y[12].slice(0);g=0;for(f=p.Pb.length;g<f;g++)p.Pb[g]=y[12][g].slice(0);p.mb=[];p.Vg=[];p.Vg.length=
h.Ma.length;p.Jb=new wa(0,0,0,0);p.bh=new wa(0,0,-1,-1);p.Ud=new wa(0,0,-1,-1);p.ub=new ya;p.Ho=[];p.Aa=rc;p.iC=sc;p.wc=tc;p.bb=uc;p.jB=vc;p.vv=wc;p.Nf=xc}p.Yf=!1;p.fB=0;p.eB=0;p.dB=null;14===y.length&&(p.Yf=!0,p.fB=y[13][0],p.eB=y[13][1],p.dB=y[13][2]);g=0;for(f=h.Ma.length;g<f;g++)p.Vg[g]=!0;p.Gg=!0;p.xf=yc;p.xf();p.xv=!!p.mb.length;p.Go=!0;p.Ko=!0;h.Vl=!0;p.visible=!0;p.Xk=-1;p.V=b;p.yf=b.G.length;p.ai=0;"undefined"===typeof p.Ka&&(p.Ka=null);this.hb=p.If=!0}var q;F(w);g=0;for(f=h.Kb.length;g<
f;g++)w.push.apply(w,h.Kb[g].Ob);w.push.apply(w,h.Ob);if(p.Td)for(g=0,f=w.length;g<f;g++){var u=w[g];q=p.Ba[g];q.Td=!0;u.behavior.ab.call(q,u,p);y=a[4][g];m=0;for(k=y.length;m<k;m++)q.ea[m]=y[m];q.Ga();u.behavior.Wk.add(p)}else for(p.Ba=[],g=0,f=w.length;g<f;g++)u=w[g],q=new u.behavior.ab(u,p),q.Td=!1,q.ea=a[4][g].slice(0),q.Ga(),p.Ba.push(q),u.behavior.Wk.add(p);y=a[5];if(p.Td)for(g=0,f=y.length;g<f;g++)p.ea[g]=y[g];else p.ea=y.slice(0);this.mf.push(p);this.mh=!0;b&&(b.Tj(p,!0),1!==b.Rd||1!==b.Sd)&&
(h.Wl=!0);this.un++;if(h.qd){if(p.qd=!0,p.Td?F(p.siblings):p.siblings=[],!c&&!l){g=0;for(f=h.ae.length;g<f;g++)if(h.ae[g]!==h){if(!h.ae[g].Pe)return null;p.siblings.push(this.dh(h.ae[g].Pe,n,!1,t?p.x:d,t?p.y:e,!0))}g=0;for(f=p.siblings.length;g<f;g++)for(p.siblings[g].siblings.push(p),m=0;m<f;m++)g!==m&&p.siblings[g].siblings.push(p.siblings[m])}}else p.qd=!1,p.siblings=null;p.Ga();g=0;for(f=p.Ba.length;g<f;g++)p.Ba[g].uu&&p.Ba[g].uu();return p};a.prototype.ik=function(a){var b,c;b=0;for(c=this.Za.Oa.length;b<
c;b++){var d=this.Za.Oa[b];if(Vb(d.name,a))return d}return null};a.prototype.mg=function(a){a=ta(a);0>a&&(a=0);a>=this.Za.Oa.length&&(a=this.Za.Oa.length-1);return this.Za.Oa[a]};a.prototype.Oo=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].za().Ha=!0};a.prototype.hl=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].hl()};a.prototype.il=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].il()};a.prototype.Eh=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Eh()};a.prototype.tv=function(a){if(a.Vl){var b,
c,d=a.G;b=0;for(c=d.length;b<c;++b)d[b].vv();d=this.mf;b=0;for(c=d.length;b<c;++b)d[b].type===a&&d[b].vv();a.Vl=!1}};a.prototype.Ks=function(a,b,c,d){var e,g,l=a?1!==a.Rd||1!==a.Sd:!1;if(b.Da)for(a=0,e=b.rj.length;a<e;++a)g=b.rj[a],l||g.Wl?Fa(d,g.G):(this.tv(g),g.hm.Jn(c,d));else l||b.Wl?Fa(d,b.G):(this.tv(b),b.hm.Jn(c,d))};a.prototype.Ss=function(a,b,c,d){var e,g;e=0;for(g=b.length;e<g;++e)this.Ks(a,b[e],c,d)};a.prototype.Qs=function(a,b,c){var d=this.$q;d&&this.Ss(a,d.jq,b,c)};a.prototype.wl=function(a,
b,c){var d=a.za(),e,g,l,f,m,k;if(d.Ha)for(d.Ha=!1,F(d.G),e=0,f=a.G.length;e<f;e++)l=a.G[e],l.bb(),m=l.V.$b(b,c,!0),k=l.V.$b(b,c,!1),l.wc(m,k)&&d.G.push(l);else{e=g=0;for(f=d.G.length;e<f;e++)l=d.G[e],l.bb(),m=l.V.$b(b,c,!0),k=l.V.$b(b,c,!1),l.wc(m,k)&&(d.G[g]=d.G[e],g++);d.G.length=g}a.Le();return d.Qm()};a.prototype.Fi=function(a,b){if(!(a&&b&&a!==b&&a.If&&b.If))return!1;a.bb();b.bb();var c=a.V,d=b.V,e,g,l,f,m,k,h,t;if(c===d||c.Rd===d.Rd&&d.Sd===d.Sd&&c.scale===d.scale&&c.M===d.M&&c.yd===d.yd){if(!a.Jb.dt(b.Jb)||
!a.ub.ct(b.ub)||a.Yf&&b.Yf)return!1;if(a.Yf)return this.bv(a,b);if(b.Yf)return this.bv(b,a);h=a.Ka&&!a.Ka.oh();e=b.Ka&&!b.Ka.oh();if(!h&&!e)return!0;h?(a.Ka.Zg(a.width,a.height,a.M),h=a.Ka):(this.vf.Aj(a.ub,a.x,a.y,a.width,a.height),h=this.vf);e?(b.Ka.Zg(b.width,b.height,b.M),t=b.Ka):(this.vf.Aj(b.ub,b.x,b.y,b.width,b.height),t=this.vf);return h.rk(t,b.x-a.x,b.y-a.y)}h=a.Ka&&!a.Ka.oh();e=b.Ka&&!b.Ka.oh();h?(a.Ka.Zg(a.width,a.height,a.M),this.vf.Ou(a.Ka)):this.vf.Aj(a.ub,a.x,a.y,a.width,a.height);
h=this.vf;e?(b.Ka.Zg(b.width,b.height,b.M),this.dr.Ou(b.Ka)):this.dr.Aj(b.ub,b.x,b.y,b.width,b.height);t=this.dr;e=0;for(g=h.me;e<g;e++)l=2*e,f=l+1,m=h.Vb[l],k=h.Vb[f],h.Vb[l]=c.Lb(m+a.x,k+a.y,!0),h.Vb[f]=c.Lb(m+a.x,k+a.y,!1);h.bb();e=0;for(g=t.me;e<g;e++)l=2*e,f=l+1,m=t.Vb[l],k=t.Vb[f],t.Vb[l]=d.Lb(m+b.x,k+b.y,!0),t.Vb[f]=d.Lb(m+b.x,k+b.y,!1);t.bb();return h.rk(t,0,0)};var I=new ya,Y=new wa(0,0,0,0),L=[];a.prototype.bv=function(a,b){var c,d,e,g,l=b.Jb,f=a.x,m=a.y;a.cz(l,L);var k=b.Ka&&!b.Ka.oh();
c=0;for(d=L.length;c<d;++c)if(e=L[c],g=e.zu,l.et(g,f,m)&&(I.Bj(g),I.offset(f,m),I.ct(b.ub)))if(k)if(b.Ka.Zg(b.width,b.height,b.M),e.Ze){if(e.Ze.rk(b.Ka,b.x-(f+g.left),b.y-(m+g.top)))return F(L),!0}else{if(this.vf.Aj(I,0,0,g.right-g.left,g.bottom-g.top),this.vf.rk(b.Ka,b.x,b.y))return F(L),!0}else if(e.Ze){if(this.vf.Aj(b.ub,0,0,b.width,b.height),e.Ze.rk(this.vf,-(f+g.left),-(m+g.top)))return F(L),!0}else return F(L),!0;F(L);return!1};a.prototype.av=function(a,b,c,d,e){if(!e||!e.If)return!1;e.bb();
Y.set(qa(a,c),qa(b,d),pa(a,c),pa(b,d));if(!e.Jb.dt(Y))return!1;if(e.Yf){e.cz(Y,L);var g,l,f,m=e.x,k=e.y;e=0;for(g=L.length;e<g;++e)if(l=L[e],f=l.zu,Y.et(f,m,k)&&(I.Bj(f),I.offset(m,k),I.sk(a,b,c,d)))if(l.Ze){if(l.Ze.sk(m+f.left,k+f.top,a,b,c,d))return F(L),!0}else return F(L),!0;F(L);return!1}if(!e.ub.sk(a,b,c,d))return!1;if(!e.Ka||e.Ka.oh())return!0;e.Ka.Zg(e.width,e.height,e.M);return e.Ka.sk(e.x,e.y,a,b,c,d)};a.prototype.pv=function(a,b){if(!b)return!1;var c,d,e,g,l;c=0;for(d=a.Ob.length;c<d;c++)if(a.Ob[c].behavior instanceof
b)return!0;if(!a.Da)for(c=0,d=a.Kb.length;c<d;c++)for(l=a.Kb[c],e=0,g=l.Ob.length;e<g;e++)if(l.Ob[e].behavior instanceof b)return!0;return!1};a.prototype.mr=function(a){return this.pv(a,Xc.MB)};a.prototype.nr=function(a){return this.pv(a,Xc.NB)};var H=[];a.prototype.Gi=function(a){var b,c,d;a.bb();this.Qs(a.V,a.Jb,H);b=0;for(c=H.length;b<c;++b)if(d=H[b],d.fa.solidEnabled&&this.Fi(a,d))return F(H),d;F(H);return null};a.prototype.AA=function(a,b,c,d){d=d||50;var e=a.x,g=a.y,l,f=null,m=null;for(l=0;l<
d;l++)if(a.x=e+b*l,a.y=g+c*l,a.Aa(),!this.Fi(a,f)&&((f=this.Gi(a))&&(m=f),!f&&!f))return m&&this.xA(a,b,c,m),!0;a.x=e;a.y=g;a.Aa();return!1};a.prototype.xA=function(a,b,c,d){var e=2,g,l=!1;g=!1;for(var f=a.x,m=a.y;16>=e;)g=1/e,e*=2,a.x+=b*g*(l?1:-1),a.y+=c*g*(l?1:-1),a.Aa(),this.Fi(a,d)?g=l=!0:(g=l=!1,f=a.x,m=a.y);g&&(a.x=f,a.y=m,a.Aa())};a.prototype.BA=function(a){var b=0,c=a.x,d=a.y,e=0,g=0,l=0,f=this.Gi(a);if(f){for(;100>=b;){switch(e){case 0:g=0;l=-1;b++;break;case 1:g=1;l=-1;break;case 2:g=1;
l=0;break;case 3:l=g=1;break;case 4:g=0;l=1;break;case 5:g=-1;l=1;break;case 6:g=-1;l=0;break;case 7:l=g=-1}e=(e+1)%8;a.x=ta(c+g*b);a.y=ta(d+l*b);a.Aa();if(!this.Fi(a,f)&&(f=this.Gi(a),!f))return}a.x=c;a.y=d;a.Aa()}};a.prototype.Cu=function(a,b){a.If&&b.If&&this.kl.push([a,b])};a.prototype.yx=function(a,b){var c,d,e;c=0;for(d=this.kl.length;c<d;c++)if(e=this.kl[c],e[0]==a&&e[1]==b||e[0]==b&&e[1]==a)return!0;return!1};a.prototype.ux=function(a,b,c){var d=a.x,e=a.y,g=pa(10,mb(b,c,d,e)),l=Ua(b,c,d,e),
f=this.Gi(a);if(!f)return Ra(l+ra);var m=f,k,h,t,p,n=Ma(5);for(k=1;36>k;k++)if(h=l-k*n,a.x=b+Math.cos(h)*g,a.y=c+Math.sin(h)*g,a.Aa(),!this.Fi(a,m)&&(m=this.Gi(a),!m)){t=h;break}36===k&&(t=Ra(l+ra));m=f;for(k=1;36>k;k++)if(h=l+k*n,a.x=b+Math.cos(h)*g,a.y=c+Math.sin(h)*g,a.Aa(),!this.Fi(a,m)&&(m=this.Gi(a),!m)){p=h;break}36===k&&(p=Ra(l+ra));a.x=d;a.y=e;a.Aa();if(p===t)return p;a=ab(p,t)/2;a=eb(p,t)?Ra(t+a+ra):Ra(p+a);t=Math.cos(l);l=Math.sin(l);p=Math.cos(a);a=Math.sin(a);b=t*p+l*a;return Ua(0,0,
t-2*b*p,l-2*b*a)};var D=-1;a.prototype.trigger=function(a,b,c){if(!this.Za)return!1;var d=this.Za.bi;if(!d)return!1;var e=!1,g,l,f;D++;var m=d.Wo;l=0;for(f=m.length;l<f;++l)g=this.lv(a,b,m[l],c),e=e||g;g=this.lv(a,b,d,c);D--;return e||g};a.prototype.lv=function(a,b,c,d){var e=!1,g,l,f,m;if(b)for(f=this.kr(a,b,b.type.name,c,d),e=e||f,m=b.type.Kb,g=0,l=m.length;g<l;++g)f=this.kr(a,b,m[g].name,c,d),e=e||f;else f=this.kr(a,b,"system",c,d),e=e||f;return e};a.prototype.kr=function(a,b,c,d,e){var g,l=!1,
f=!1,f="undefined"!==typeof e,m=(f?d.Bs:d.nv)[c];if(!m)return l;var k=null;d=0;for(g=m.length;d<g;++d)if(m[d].method==a){k=m[d].bk;break}if(!k)return l;var h;f?h=k[e]:h=k;if(!h)return null;d=0;for(g=h.length;d<g;d++)a=h[d][0],e=h[d][1],f=this.Sy(b,c,a,e),l=l||f;return l};a.prototype.Sy=function(a,b,c,d){var e,g,l=!1;this.lr++;var f=this.Lc().Kc;f&&this.hl(f.Ih);var m=1<this.lr;this.hl(c.Ih);m&&this.yA();var k=this.In(c);k.Kc=c;a&&(e=this.types[b].za(),e.Ha=!1,F(e.G),e.G[0]=a,this.types[b].Le());a=
!0;if(c.parent){b=k.$u;for(e=c.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(g=b.length;e<g;e++)if(!b[e].LA()){a=!1;break}}a&&(this.di++,c.qf?c.KA(d):c.pc(),l=l||k.oi);this.En();m&&this.pA();this.Eh(c.Ih);f&&this.Eh(f.Ih);this.mh&&0===this.Be&&0===D&&!this.Gp&&this.dd();this.lr--;return l};a.prototype.Yi=function(){var a=this.Lc();return a.Kc.vc[a.uc]};a.prototype.ez=function(){return this.Yi().type};a.prototype.dz=function(){var a=this.Lc();return a.Kc.Ke[a.Kd]};a.prototype.yA=function(){this.nn++;
this.nn>=this.bq.length&&this.bq.push([])};a.prototype.pA=function(){this.nn--};a.prototype.Ls=function(){return this.bq[this.nn]};a.prototype.In=function(a){this.zm++;this.zm>=this.Zo.length&&this.Zo.push(new Bc);var b=this.Lc();b.reset(a);return b};a.prototype.En=function(){this.zm--};a.prototype.Lc=function(){return this.Zo[this.zm]};a.prototype.zA=function(){this.qn++;this.qn>=this.dq.length&&this.dq.push(aa({name:void 0,index:0,Rc:!1}));var a=this.fz();a.name=void 0;a.index=0;a.Rc=!1;return a};
a.prototype.qA=function(){this.qn--};a.prototype.fz=function(){return this.dq[this.qn]};a.prototype.Ms=function(a,b){for(var c,d,e,g,l,f;b;){c=0;for(d=b.df.length;c<d;c++)if(f=b.df[c],f instanceof Jc&&Vb(a,f.name))return f;b=b.parent}c=0;for(d=this.jg.length;c<d;c++)for(l=this.jg[c],e=0,g=l.ih.length;e<g;e++)if(f=l.ih[e],f instanceof Jc&&Vb(a,f.name))return f;return null};a.prototype.Os=function(a){var b,c;b=0;for(c=this.pf.length;b<c;b++)if(this.pf[b].$a===a)return this.pf[b];return null};a.prototype.jk=
function(a){var b,c;b=0;for(c=this.ka.length;b<c;b++)if(this.ka[b].$a===a)return this.ka[b];return null};a.prototype.gz=function(a){var b,c;b=0;for(c=this.Xg.length;b<c;b++)if(this.Xg[b].$a===a)return this.Xg[b];return null};a.prototype.Hx=function(a,b){this.rl=[a,b];this.hb=!0};a.prototype.Ez=function(){var a=this,c=this.Pq,d=this.ug,g=this.hn,l=!1;this.Tu&&(l=!0,c="__c2_continuouspreview",this.Tu=!1);if(c.length){this.dd();d=this.PA();if(b()&&!this.Te)f(c,d,function(){ga("Saved state to IndexedDB storage ("+
d.length+" bytes)");a.ug=d;a.trigger(J.prototype.O.wo,null);a.ug="";l&&e()},function(b){try{localStorage.setItem("__c2save_"+c,d),ga("Saved state to WebStorage ("+d.length+" bytes)"),a.ug=d,a.trigger(J.prototype.O.wo,null),a.ug="",l&&e()}catch(g){ga("Failed to save game state: "+b+"; "+g)}});else try{localStorage.setItem("__c2save_"+c,d),ga("Saved state to WebStorage ("+d.length+" bytes)"),a.ug=d,this.trigger(J.prototype.O.wo,null),a.ug="",l&&e()}catch(m){ga("Error saving to WebStorage: "+m)}this.td=
this.hn=this.Pq=""}if(g.length){if(b()&&!this.Te)h(g,function(b){b?(a.td=b,ga("Loaded state from IndexedDB storage ("+a.td.length+" bytes)")):(a.td=localStorage.getItem("__c2save_"+g)||"",ga("Loaded state from WebStorage ("+a.td.length+" bytes)"));a.tl=!1;a.td.length||a.trigger(J.prototype.O.uo,null)},function(){a.td=localStorage.getItem("__c2save_"+g)||"";ga("Loaded state from WebStorage ("+a.td.length+" bytes)");a.tl=!1;a.td.length||a.trigger(J.prototype.O.uo,null)});else{try{this.td=localStorage.getItem("__c2save_"+
g)||"",ga("Loaded state from WebStorage ("+this.td.length+" bytes)")}catch(k){this.td=""}this.tl=!1;a.td.length||a.trigger(J.prototype.O.uo,null)}this.Pq=this.hn=""}this.td.length&&(this.dd(),this.Zz(this.td),this.ug=this.td,this.trigger(J.prototype.O.ow,null),this.td=this.ug="")};a.prototype.PA=function(){var a,b,c,d,e,g,l,f={c2save:!0,version:1,rt:{time:this.Ac.Ia,walltime:this.Lg.Ia,timescale:this.Zf,tickcount:this.qe,execcount:this.di,next_uid:this.Yk,running_layout:this.Za.$a,start_time_offset:Date.now()-
this.Wn},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.ka.length;a<b;a++)if(e=this.ka[a],!e.Da&&!this.mr(e)){g={instances:[]};pb(e.fa)&&(g.ex=k(e.fa));c=0;for(d=e.G.length;c<d;c++)g.instances.push(this.Oq(e.G[c]));f.types[e.$a.toString()]=g}a=0;for(b=this.pf.length;a<b;a++)c=this.pf[a],f.layouts[c.$a.toString()]=c.Qc();d=f.events.groups;a=0;for(b=this.Xg.length;a<b;a++)c=this.Xg[a],d[c.$a.toString()]=this.nk[c.mk].aj;b=f.events.cnds;for(l in this.ah)this.ah.hasOwnProperty(l)&&
(a=this.ah[l],pb(a.fa)&&(b[l]={ex:k(a.fa)}));b=f.events.acts;for(l in this.Wg)this.Wg.hasOwnProperty(l)&&(a=this.Wg[l],pb(a.fa)&&(b[l]={ex:k(a.fa)}));b=f.events.vars;for(l in this.Jj)this.Jj.hasOwnProperty(l)&&(a=this.Jj[l],a.Wm||a.parent&&!a.Dk||(b[l]=a.data));f.system=this.Wf.Qc();return JSON.stringify(f)};a.prototype.Bu=function(){var a,b,c,d,e,g;this.yg={};a=0;for(b=this.ka.length;a<b;a++)if(c=this.ka[a],!c.Da)for(d=0,e=c.G.length;d<e;d++)g=c.G[d],this.yg[g.uid.toString()]=g};a.prototype.Zz=function(a){a=
JSON.parse(a);if(a.c2save&&!(1<a.version)){this.wk=!0;var b=a.rt;this.Ac.reset();this.Ac.Ia=b.time;this.Lg.reset();this.Lg.Ia=b.walltime||0;this.Zf=b.timescale;this.qe=b.tickcount;this.di=b.execcount;this.Wn=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.Za.$a)if(c=this.Os(c))this.xs(c);else return;var d,e,g,l,f,m,k;m=a.types;for(e in m)if(m.hasOwnProperty(e)&&(l=this.jk(parseInt(e,10)))&&!l.Da&&!this.mr(l)){m[e].ex?l.fa=m[e].ex:tb(l.fa);f=l.G;g=m[e].instances;c=0;for(d=qa(f.length,
g.length);c<d;c++)this.jn(f[c],g[c]);c=g.length;for(d=f.length;c<d;c++)this.Rg(f[c]);c=f.length;for(d=g.length;c<d;c++){f=null;if(l.yb.ph&&(f=this.Za.Mm(g[c].w.l),!f))continue;f=this.dh(l.Pe,f,!1,0,0,!0);this.jn(f,g[c])}l.Dj=!0}this.dd();this.Bu();d=a.layouts;for(e in d)d.hasOwnProperty(e)&&(c=this.Os(parseInt(e,10)))&&c.sd(d[e]);d=a.events.groups;for(e in d)d.hasOwnProperty(e)&&(c=this.gz(parseInt(e,10)))&&this.nk[c.mk]&&this.nk[c.mk].Ku(d[e]);c=a.events.cnds;for(e in this.ah)this.ah.hasOwnProperty(e)&&
(c.hasOwnProperty(e)?this.ah[e].fa=c[e].ex:this.ah[e].fa={});c=a.events.acts;for(e in this.Wg)this.Wg.hasOwnProperty(e)&&(c.hasOwnProperty(e)?this.Wg[e].fa=c[e].ex:this.Wg[e].fa={});c=a.events.vars;for(e in c)c.hasOwnProperty(e)&&this.Jj.hasOwnProperty(e)&&(this.Jj[e].data=c[e]);this.Yk=b.next_uid;this.wk=!1;c=0;for(d=this.Em.length;c<d;++c)f=this.Em[c],this.trigger(Object.getPrototypeOf(f.type.yb).O.Qh,f);F(this.Em);this.Wf.sd(a.system);c=0;for(d=this.ka.length;c<d;c++)if(l=this.ka[c],!l.Da&&!this.mr(l))for(e=
0,a=l.G.length;e<a;e++){f=l.G[e];if(l.qd)for(m=f.lk(),F(f.siblings),b=0,g=l.ae.length;b<g;b++)k=l.ae[b],l!==k&&f.siblings.push(k.G[m]);f.hf&&f.hf();if(f.Ba)for(b=0,g=f.Ba.length;b<g;b++)m=f.Ba[b],m.hf&&m.hf()}this.hb=!0}};a.prototype.Oq=function(a,b){var c,d,e,g,l;g=a.type;e=g.yb;var f={};b?f.c2=!0:f.uid=a.uid;pb(a.fa)&&(f.ex=k(a.fa));if(a.zc&&a.zc.length)for(f.ivs={},c=0,d=a.zc.length;c<d;c++)f.ivs[a.type.Bp[c].toString()]=a.zc[c];if(e.ph){e={x:a.x,y:a.y,w:a.width,h:a.height,l:a.V.$a,zi:a.Nf()};
0!==a.M&&(e.a=a.M);1!==a.opacity&&(e.o=a.opacity);.5!==a.Nd&&(e.hX=a.Nd);.5!==a.Od&&(e.hY=a.Od);0!==a.ed&&(e.bm=a.ed);a.visible||(e.v=a.visible);a.If||(e.ce=a.If);-1!==a.Xk&&(e.mts=a.Xk);if(g.Ma.length)for(e.fx=[],c=0,d=g.Ma.length;c<d;c++)l=g.Ma[c],e.fx.push({name:l.name,active:a.Vg[l.index],params:a.Pb[l.index]});f.w=e}if(a.Ba&&a.Ba.length)for(f.behs={},c=0,d=a.Ba.length;c<d;c++)g=a.Ba[c],g.Qc&&(f.behs[g.type.$a.toString()]=g.Qc());a.Qc&&(f.data=a.Qc());return f};a.prototype.iz=function(a,b){var c,
d;c=0;for(d=a.Bp.length;c<d;c++)if(a.Bp[c]===b)return c;return-1};a.prototype.bz=function(a,b){var c,d;c=0;for(d=a.Ba.length;c<d;c++)if(a.Ba[c].type.$a===b)return c;return-1};a.prototype.jn=function(a,b,c){var d,e,g,l,f;f=a.type;l=f.yb;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.fa=b.ex:tb(a.fa);if(e=b.ivs)for(d in e)e.hasOwnProperty(d)&&(g=this.iz(f,parseInt(d,10)),0>g||g>=a.zc.length||(a.zc[g]=e[d]));if(l.ph){g=b.w;a.V.$a!==g.l&&(e=a.V,a.V=this.Za.Mm(g.l),a.V?(e.xj(a,!0),a.V.Tj(a,!0),a.Aa(),a.V.nl(0)):
(a.V=e,c||this.Rg(a)));a.x=g.x;a.y=g.y;a.width=g.w;a.height=g.h;a.yf=g.zi;a.M=g.hasOwnProperty("a")?g.a:0;a.opacity=g.hasOwnProperty("o")?g.o:1;a.Nd=g.hasOwnProperty("hX")?g.hX:.5;a.Od=g.hasOwnProperty("hY")?g.hY:.5;a.visible=g.hasOwnProperty("v")?g.v:!0;a.If=g.hasOwnProperty("ce")?g.ce:!0;a.Xk=g.hasOwnProperty("mts")?g.mts:-1;a.ed=g.hasOwnProperty("bm")?g.bm:0;a.Vj=Sb(a.ed);this.la&&Tb(a,a.ed,this.la);a.Aa();if(g.hasOwnProperty("fx"))for(c=0,e=g.fx.length;c<e;c++)l=f.lp(g.fx[c].name),0>l||(a.Vg[l]=
g.fx[c].active,a.Pb[l]=g.fx[c].params);a.xf()}if(f=b.behs)for(d in f)f.hasOwnProperty(d)&&(c=this.bz(a,parseInt(d,10)),0>c||a.Ba[c].sd(f[d]));b.data&&a.sd(b.data)};a.prototype.Cs=function(a,b,c){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,c)},c)};a.prototype.Ty=function(a,b){this.Cs("data.js",function(c){var d=new FileReader;d.onload=function(b){a(b.target.result)};d.onerror=b;d.readAsText(c)},b)};a.prototype.Ds=function(a,b,c){this.Cs(a,function(a){var c=
new FileReader;c.onload=function(a){b(a.target.result)};c.readAsArrayBuffer(a)},c)};a.prototype.Uy=function(a,b,c){this.Ds(a,function(a){a=URL.createObjectURL(new Blob([a]));b(a)},c)};a.prototype.Lu=function(a,b){this.Bk?this.Uy(b,function(b){a.src=b},function(a){alert("Failed to load image: "+a)}):a.src=b};Kc=function(b){return new a(document.getElementById(b))};Lc=function(b,c){return new a({dc:!0,width:b,height:c})};window.cr_createRuntime=Kc;window.cr_createDCRuntime=Lc;window.createCocoonJSRuntime=
function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.k=!0;document.body.appendChild(b);b=new a(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new a(document.getElementById("canvas"));window.c2runtime=b;window.c2runtime.setSize(window.innerWidth,
window.innerHeight);return b}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(a,c){var b=window.cr_getC2Runtime();b&&b.Hx(a,c)};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.j=a;this.bi=null;this.scrollX=this.j.Ec/2;this.scrollY=this.j.Dc/2;this.scale=1;this.M=0;this.Xi=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.qv=b[3];this.Ru=b[4];this.$a=b[5];var c=b[6],d,e;this.Oa=[];this.qk=[];d=0;for(e=c.length;d<e;d++){var g=new Mc(this,c[d]);g.Xt=d;this.Oa.push(g)}c=b[7];this.li=[];d=0;for(e=c.length;d<e;d++){var g=c[d],f=this.j.ka[g[1]];f.Pe||(f.Pe=g);this.li.push(g);-1===this.qk.indexOf(f)&&this.qk.push(f)}this.Ma=[];this.mb=[];
this.Gg=!0;this.Pb=[];d=0;for(e=b[8].length;d<e;d++)this.Ma.push({id:b[8][d][0],name:b[8][d][1],qc:-1,sf:!1,tc:!0,index:d}),this.Pb.push(b[8][d][2].slice(0));this.xf();this.Fh=new wa(0,0,1,1);this.Gq=new wa(0,0,1,1);this.Dh={}}function c(a,b){return a.yf-b.yf}function b(a,b){this.Cc=a;this.j=a.j;this.G=[];this.scale=1;this.M=0;this.ig=!1;this.Jg=new wa(0,0,0,0);this.jv=new ya;this.Mb=this.Eb=this.Nb=this.Db=0;this.Ji=!1;this.Og=-1;this.Po=0;this.name=b[0];this.index=b[1];this.$a=b[2];this.visible=
b[3];this.kf=b[4];this.wf=b[5];this.Rd=b[6];this.Sd=b[7];this.opacity=b[8];this.Hm=b[9];this.He=b[10];this.yd=b[11];this.ed=b[12];this.hy=b[13];this.Vj="source-over";this.kd=this.ud=0;this.$c=null;this.vg=d();this.uf=!0;this.lj=new wa(0,0,-1,-1);this.Vc=new wa(0,0,-1,-1);this.He&&(this.$c=new Rb(this.j.Ec,this.j.Dc));this.Uf=!1;var c=b[14],e,g;this.Wu=[];this.Ae=[];this.Yj=[];e=0;for(g=c.length;e<g;e++){var f=c[e],k=this.j.ka[f[1]];k.Pe||(k.Pe=f,k.Fx=this.index);this.Ae.push(f);-1===this.Cc.qk.indexOf(k)&&
this.Cc.qk.push(k)}Ea(this.Wu,this.Ae);this.Ma=[];this.mb=[];this.Gg=!0;this.Pb=[];e=0;for(g=b[15].length;e<g;e++)this.Ma.push({id:b[15][e][0],name:b[15][e][1],qc:-1,sf:!1,tc:!0,index:e}),this.Pb.push(b[15][e][2].slice(0));this.xf();this.Fh=new wa(0,0,1,1);this.Gq=new wa(0,0,1,1)}function d(){return k.length?k.pop():[]}function f(a){F(a);k.push(a)}a.prototype.OA=function(a){var b=a.type.$a.toString();this.Dh.hasOwnProperty(b)||(this.Dh[b]=[]);this.Dh[b].push(this.j.Oq(a))};a.prototype.Ts=function(){var a=
this.Oa[0];return!a.wf&&1===a.opacity&&!a.Hm&&a.visible};a.prototype.xf=function(){F(this.mb);this.Gg=!0;var a,b,c;a=0;for(b=this.Ma.length;a<b;a++)c=this.Ma[a],c.tc&&(this.mb.push(c),c.sf||(this.Gg=!1))};a.prototype.kp=function(a){var b,c,d;b=0;for(c=this.Ma.length;b<c;b++)if(d=this.Ma[b],d.name===a)return d;return null};var h=[],e=!0;a.prototype.br=function(){this.Ru&&(this.bi=this.j.$o[this.Ru],this.bi.qr());this.j.Za=this;this.scrollX=this.j.Ec/2;this.scrollY=this.j.Dc/2;var a,b,d,g,f,k,n;a=0;
for(d=this.j.ka.length;a<d;a++)if(b=this.j.ka[a],!b.Da)for(f=b.G,b=0,g=f.length;b<g;b++)if(k=f[b],k.V){var t=k.V.Xt;t>=this.Oa.length&&(t=this.Oa.length-1);k.V=this.Oa[t];-1===k.V.G.indexOf(k)&&k.V.G.push(k);k.V.Ji=!0}if(!e)for(a=0,d=this.Oa.length;a<d;++a)this.Oa[a].G.sort(c);F(h);this.es();a=0;for(d=this.Oa.length;a<d;a++)k=this.Oa[a],k.Ex(),k.no();f=!1;if(!this.Xi){for(n in this.Dh)if(this.Dh.hasOwnProperty(n)&&(b=this.j.jk(parseInt(n,10)))&&!b.Da&&this.j.nr(b)){g=this.Dh[n];a=0;for(d=g.length;a<
d;a++){k=null;if(b.yb.ph&&(k=this.Mm(g[a].w.l),!k))continue;k=this.j.dh(b.Pe,k,!1,0,0,!0);this.j.jn(k,g[a]);f=!0;h.push(k)}F(g)}a=0;for(d=this.Oa.length;a<d;a++)this.Oa[a].G.sort(c),this.Oa[a].Ji=!0}f&&(this.j.dd(),this.j.Bu());for(a=0;a<h.length;a++)if(k=h[a],k.type.qd)for(d=k.lk(),b=0,g=k.type.ae.length;b<g;b++)n=k.type.ae[b],k.type!==n&&(n.G.length>d?k.siblings.push(n.G[d]):n.Pe&&(f=this.j.dh(n.Pe,k.V,!0,k.x,k.y,!0),this.j.dd(),n.ko(),k.siblings.push(f),h.push(f)));a=0;for(d=this.li.length;a<d;a++)this.j.dh(this.li[a],
null,!0);this.j.Xh=null;this.j.dd();if(this.j.rb&&!this.j.fc)for(a=0,d=this.j.ka.length;a<d;a++)n=this.j.ka[a],!n.Da&&n.G.length&&n.zq&&n.zq(this.j.rb);if(this.j.wk)Ea(this.j.Em,h);else for(a=0,d=h.length;a<d;a++)k=h[a],this.j.trigger(Object.getPrototypeOf(k.type.yb).O.Qh,k);F(h);this.j.wk||this.j.trigger(J.prototype.O.Ir,null);this.Xi=!1};a.prototype.Dx=function(){var a,b,c,d,e;b=a=0;for(c=this.li.length;a<c;a++)d=this.li[a],e=this.j.ka[d[1]],e.global?e.qd||this.j.dh(d,null,!0):(this.li[b]=d,b++);
Ca(this.li,b)};a.prototype.aB=function(){this.j.wk||this.j.trigger(J.prototype.O.mw,null);this.j.Dp=!0;F(this.j.Wf.Xd);var a,b,c,d,g,f;if(!this.Xi)for(a=0,b=this.Oa.length;a<b;a++)for(this.Oa[a].sr(),g=this.Oa[a].G,c=0,d=g.length;c<d;c++)f=g[c],f.type.global||this.j.nr(f.type)&&this.OA(f);a=0;for(b=this.Oa.length;a<b;a++){g=this.Oa[a].G;c=0;for(d=g.length;c<d;c++)f=g[c],f.type.global||this.j.Rg(f);this.j.dd();F(g);this.Oa[a].Ji=!0}a=0;for(b=this.j.ka.length;a<b;a++)if(g=this.j.ka[a],!(g.global||g.yb.ph||
g.yb.Vn||g.Da)){c=0;for(d=g.G.length;c<d;c++)this.j.Rg(g.G[c]);this.j.dd()}e=!1;this.j.Dp=!1};new wa(0,0,0,0);a.prototype.Kf=function(a){var b,c=a,d=!1,e=!this.j.ye;e&&(this.j.gn||(this.j.gn=document.createElement("canvas"),b=this.j.gn,b.width=this.j.ya,b.height=this.j.xa,this.j.tt=b.getContext("2d"),d=!0),b=this.j.gn,c=this.j.tt,b.width!==this.j.ya&&(b.width=this.j.ya,d=!0),b.height!==this.j.xa&&(b.height=this.j.xa,d=!0),d&&(c.webkitImageSmoothingEnabled=this.j.Xa,c.mozImageSmoothingEnabled=this.j.Xa,
c.msImageSmoothingEnabled=this.j.Xa,c.imageSmoothingEnabled=this.j.Xa));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.j.Do&&!this.Ts()&&c.clearRect(0,0,this.j.ya,this.j.xa);var g,f,d=0;for(g=this.Oa.length;d<g;d++)f=this.Oa[d],f.visible&&0<f.opacity&&11!==f.ed&&(f.G.length||!f.wf)?f.Kf(c):f.no();e&&a.drawImage(b,0,0,this.j.width,this.j.height)};a.prototype.$h=function(a){a.Ju(!0);this.j.nc||(this.j.nc=a.we(this.j.ya,this.j.xa,this.j.Xa));if(this.j.nc.Wh!==this.j.ya||this.j.nc.Vh!==
this.j.xa)a.deleteTexture(this.j.nc),this.j.nc=a.we(this.j.ya,this.j.xa,this.j.Xa);a.bf(this.j.nc);this.j.ye||a.Di(this.j.ya,this.j.xa);var b,c;for(b=this.Oa.length-1;0<=b;--b)c=this.Oa[b],c.visible&&1===c.opacity&&c.Gg&&0===c.ed&&(c.G.length||!c.wf)?c.$h(a):c.no();a.Ju(!1)};a.prototype.be=function(a){var b=0<this.mb.length||this.j.Hj||!this.j.ye||this.j.Bb;if(b){this.j.nc||(this.j.nc=a.we(this.j.ya,this.j.xa,this.j.Xa));if(this.j.nc.Wh!==this.j.ya||this.j.nc.Vh!==this.j.xa)a.deleteTexture(this.j.nc),
this.j.nc=a.we(this.j.ya,this.j.xa,this.j.Xa);a.bf(this.j.nc);this.j.ye||a.Di(this.j.ya,this.j.xa)}else this.j.nc&&(a.bf(null),a.deleteTexture(this.j.nc),this.j.nc=null);this.j.Do&&!this.Ts()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.Oa.length;c<d;c++)e=this.Oa[c],e.visible&&0<e.opacity&&(e.G.length||!e.wf)?e.be(a):e.no();b&&(0===this.mb.length||1===this.mb.length&&this.j.ye?(1===this.mb.length?(b=this.mb[0].index,a.Wd(this.mb[0].qc),a.zj(null,1/this.j.ya,1/this.j.xa,0,0,1,1,this.scale,this.M,0,
0,this.j.ya/2,this.j.xa/2,this.j.Ac.Ia,this.Pb[b]),a.Hn(this.mb[0].qc)&&(this.j.hb=!0)):a.Wd(0),this.j.ye||a.Di(this.j.width,this.j.height),a.bf(null),a.Iu(!1),a.Ci(1),a.oe(this.j.nc),a.Gu(),a.$e(),a.Ge(),b=this.j.width/2,c=this.j.height/2,a.jl(-b,c,b,c,b,-c,-b,-c),a.oe(null),a.Iu(!0)):this.Iq(a,null,null,null))};a.prototype.kk=function(){return 0<this.mb.length||this.j.Hj||!this.j.ye||this.j.Bb?this.j.nc:null};a.prototype.Ps=function(){var a=this.Oa[0].de(),b,c,d;b=1;for(c=this.Oa.length;b<c;b++)d=
this.Oa[b],(0!==d.Rd||0!==d.Sd)&&d.de()<a&&(a=d.de());return a};a.prototype.Qq=function(a){if(!this.qv){var b=1/this.Ps()*this.j.ya/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.j.hb=!0)};a.prototype.Rq=function(a){if(!this.qv){var b=1/this.Ps()*this.j.xa/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.j.hb=!0)};a.prototype.es=function(){this.Qq(this.scrollX);this.Rq(this.scrollY)};a.prototype.Iq=function(a,b,c,d){var e=
c?c.mb:b?b.mb:this.mb,g=1,f=0,k=0,h=0,n=this.j.ya,B=this.j.xa;c?(g=c.V.de(),f=c.V.ac(),k=c.V.Db,h=c.V.Eb,n=c.V.Nb,B=c.V.Mb):b&&(g=b.de(),f=b.ac(),k=b.Db,h=b.Eb,n=b.Nb,B=b.Mb);var E=this.j.ip,C,G,A,w,I=0,Y=1,L,H=this.j.ya,D=this.j.xa,X=H/2,N=D/2,W=b?b.Fh:this.Fh,O=b?b.Gq:this.Gq,P=0,Q=0,M=0,K=0,U=H,Pa=H,Z=D,Qa=D,Ba=A=0;w=c?c.V.ac():0;if(c){C=0;for(G=e.length;C<G;C++)A+=a.mz(e[C].qc),Ba+=a.nz(e[C].qc);K=c.Jb;P=b.Lb(K.left,K.top,!0,!0);M=b.Lb(K.left,K.top,!1,!0);U=b.Lb(K.right,K.bottom,!0,!0);Z=b.Lb(K.right,
K.bottom,!1,!0);0!==w&&(C=b.Lb(K.right,K.top,!0,!0),G=b.Lb(K.right,K.top,!1,!0),Q=b.Lb(K.left,K.bottom,!0,!0),K=b.Lb(K.left,K.bottom,!1,!0),w=Math.min(P,U,C,Q),U=Math.max(P,U,C,Q),P=w,w=Math.min(M,Z,G,K),Z=Math.max(M,Z,G,K),M=w);P-=A;M-=Ba;U+=A;Z+=Ba;O.left=P/H;O.top=1-M/D;O.right=U/H;O.bottom=1-Z/D;Q=P=ta(P);K=M=ta(M);Pa=U=ua(U);Qa=Z=ua(Z);Q-=A;K-=Ba;Pa+=A;Qa+=Ba;0>P&&(P=0);0>M&&(M=0);U>H&&(U=H);Z>D&&(Z=D);0>Q&&(Q=0);0>K&&(K=0);Pa>H&&(Pa=H);Qa>D&&(Qa=D);W.left=P/H;W.top=1-M/D;W.right=U/H;W.bottom=
1-Z/D}else W.left=O.left=0,W.top=O.top=0,W.right=O.right=1,W.bottom=O.bottom=1;Ba=c&&(a.fl(e[0].qc)||0!==A||0!==Ba||1!==c.opacity||c.type.yb.St)||b&&!c&&1!==b.opacity;a.Gu();if(Ba){E[I]||(E[I]=a.we(H,D,this.j.Xa));if(E[I].Wh!==H||E[I].Vh!==D)a.deleteTexture(E[I]),E[I]=a.we(H,D,this.j.Xa);a.Wd(0);a.bf(E[I]);L=Qa-K;a.clearRect(Q,D-K-L,Pa-Q,L);c?c.be(a):(a.oe(this.j.Bc),a.Ci(b.opacity),a.$e(),a.translate(-X,-N),a.Ge(),a.Tf(P,Z,U,Z,U,M,P,M,W));O.left=O.top=0;O.right=O.bottom=1;c&&(w=W.top,W.top=W.bottom,
W.bottom=w);I=1;Y=0}a.Ci(1);A=e.length-1;var qb=a.Cq(e[A].qc)||!b&&!c&&!this.j.ye,cb=0;C=0;for(G=e.length;C<G;C++){E[I]||(E[I]=a.we(H,D,this.j.Xa));if(E[I].Wh!==H||E[I].Vh!==D)a.deleteTexture(E[I]),E[I]=a.we(H,D,this.j.Xa);a.Wd(e[C].qc);cb=e[C].index;a.Hn(e[C].qc)&&(this.j.hb=!0);0!=C||Ba?(a.zj(d,1/H,1/D,O.left,O.top,O.right,O.bottom,g,f,k,h,(k+n)/2,(h+B)/2,this.j.Ac.Ia,c?c.Pb[cb]:b?b.Pb[cb]:this.Pb[cb]),a.oe(null),C!==A||qb?(a.bf(E[I]),L=Qa-K,w=D-K-L,a.clearRect(Q,w,Pa-Q,L)):(c?a.Hh(c.ud,c.kd):b&&
a.Hh(b.ud,b.kd),a.bf(d)),a.oe(E[Y]),a.$e(),a.translate(-X,-N),a.Ge(),a.Tf(P,Z,U,Z,U,M,P,M,W),C!==A||qb||a.oe(null)):(a.bf(E[I]),L=Qa-K,w=D-K-L,a.clearRect(Q,w,Pa-Q,L),c?(a.zj(d,1/c.width,1/c.height,O.left,O.top,O.right,O.bottom,g,f,k,h,(k+n)/2,(h+B)/2,this.j.Ac.Ia,c.Pb[cb]),c.be(a)):(a.zj(d,1/H,1/D,0,0,1,1,g,f,k,h,(k+n)/2,(h+B)/2,this.j.Ac.Ia,b?b.Pb[cb]:this.Pb[cb]),a.oe(b?this.j.Bc:this.j.nc),a.$e(),a.translate(-X,-N),a.Ge(),a.Tf(P,Z,U,Z,U,M,P,M,W)),O.left=O.top=0,O.right=O.bottom=1,c&&!qb&&(w=Z,
Z=M,M=w));I=0===I?1:0;Y=0===I?1:0}qb&&(a.Wd(0),c?a.Hh(c.ud,c.kd):b?a.Hh(b.ud,b.kd):this.j.ye||(a.Di(this.j.width,this.j.height),X=this.j.width/2,N=this.j.height/2,M=P=0,U=this.j.width,Z=this.j.height),a.bf(d),a.oe(E[Y]),a.$e(),a.translate(-X,-N),a.Ge(),c&&1===e.length&&!Ba?a.Tf(P,M,U,M,U,Z,P,Z,W):a.Tf(P,Z,U,Z,U,M,P,M,W),a.oe(null))};a.prototype.Mm=function(a){var b,c;b=0;for(c=this.Oa.length;b<c;b++)if(this.Oa[b].$a===a)return this.Oa[b];return null};a.prototype.Qc=function(){var a,b,c,d={sx:this.scrollX,
sy:this.scrollY,s:this.scale,a:this.M,w:this.width,h:this.height,fv:this.Xi,persist:this.Dh,fx:[],layers:{}};a=0;for(b=this.Ma.length;a<b;a++)c=this.Ma[a],d.fx.push({name:c.name,active:c.tc,params:this.Pb[c.index]});a=0;for(b=this.Oa.length;a<b;a++)c=this.Oa[a],d.layers[c.$a.toString()]=c.Qc();return d};a.prototype.sd=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.M=a.a;this.width=a.w;this.height=a.h;this.Dh=a.persist;"undefined"!==typeof a.fv&&(this.Xi=a.fv);var g=
a.fx;b=0;for(c=g.length;b<c;b++)if(d=this.kp(g[b].name))d.tc=g[b].active,this.Pb[d.index]=g[b].params;this.xf();b=a.layers;for(e in b)b.hasOwnProperty(e)&&(a=this.Mm(parseInt(e,10)))&&a.sd(b[e])};pc=a;b.prototype.xf=function(){F(this.mb);this.Gg=!0;var a,b,c;a=0;for(b=this.Ma.length;a<b;a++)c=this.Ma[a],c.tc&&(this.mb.push(c),c.sf||(this.Gg=!1))};b.prototype.kp=function(a){var b,c,d;b=0;for(c=this.Ma.length;b<c;b++)if(d=this.Ma[b],d.name===a)return d;return null};b.prototype.Ex=function(){var a,b,
c,d,e,g;b=a=0;for(c=this.Ae.length;a<c;a++){d=this.Ae[a];e=this.j.ka[d[1]];g=this.j.nr(e);e=!0;if(!g||this.Cc.Xi){d=this.j.dh(d,this,!0);if(!d)continue;h.push(d);d.type.global&&(e=!1,this.Yj.push(d.uid))}e&&(this.Ae[b]=this.Ae[a],b++)}this.Ae.length=b;this.j.dd();!this.j.ga&&this.Ma.length&&(this.ed=this.hy);this.Vj=Sb(this.ed);this.j.la&&Tb(this,this.ed,this.j.la);this.uf=!0};b.prototype.xj=function(a,b){var c=Ga(this.G,a);0>c||(b&&this.He&&a.Ud&&a.Ud.right>=a.Ud.left&&(a.bb(),this.$c.update(a,a.Ud,
null),a.Ud.set(0,0,-1,-1)),c===this.G.length-1?this.G.pop():(Aa(this.G,c),this.nl(c)),this.uf=!0)};b.prototype.Tj=function(a,b){a.yf=this.G.length;this.G.push(a);b&&this.He&&a.Ud&&a.Aa();this.uf=!0};b.prototype.uA=function(a){this.G.unshift(a);this.nl(0)};b.prototype.eA=function(a,b,c){var d=a.Nf();b=b.Nf();Aa(this.G,d);d<b&&b--;c&&b++;b===this.G.length?this.G.push(a):this.G.splice(b,0,a);this.nl(d<b?d:b)};b.prototype.nl=function(a){-1===this.Og?this.Og=a:a<this.Og&&(this.Og=a);this.uf=this.Ji=!0};
b.prototype.sr=function(){if(this.Ji){-1===this.Og&&(this.Og=0);var a,b,c;if(this.He)for(a=this.Og,b=this.G.length;a<b;++a)c=this.G[a],c.yf=a,this.$c.bA(c.Ud);else for(a=this.Og,b=this.G.length;a<b;++a)this.G[a].yf=a;this.Ji=!1;this.Og=-1}};b.prototype.de=function(a){return this.jz()*(this.j.ye||a?this.j.Uj:1)};b.prototype.jz=function(){return(this.scale*this.Cc.scale-1)*this.yd+1};b.prototype.ac=function(){return this.ig?0:Ra(this.Cc.M+this.M)};var k=[],g=[],n=[];b.prototype.op=function(){this.sr();
this.$c.Jn(this.Db,this.Eb,this.Nb,this.Mb,n);if(!n.length)return d();if(1===n.length){var a=d();Ea(a,n[0]);F(n);return a}for(var b=!0;1<n.length;){for(var a=n,c=void 0,e=void 0,k=void 0,h=void 0,u=void 0,c=0,e=a.length;c<e-1;c+=2){var k=a[c],h=a[c+1],u=d(),t=k,y=h,z=u,B=0,E=0,C=0,G=t.length,A=y.length,w=void 0,I=void 0;for(z.length=G+A;B<G&&E<A;++C)w=t[B],I=y[E],w.yf<I.yf?(z[C]=w,++B):(z[C]=I,++E);for(;B<G;++B,++C)z[C]=t[B];for(;E<A;++E,++C)z[C]=y[E];b||(f(k),f(h));g.push(u)}1===e%2&&(b?(k=d(),Ea(k,
a[e-1]),g.push(k)):g.push(a[e-1]));Ea(a,g);F(g);b=!1}a=n[0];F(n);return a};b.prototype.Kf=function(a){this.Uf=this.Hm||1!==this.opacity||0!==this.ed;var b=this.j.canvas,c=a,d=!1;this.Uf&&(this.j.en||(this.j.en=document.createElement("canvas"),b=this.j.en,b.width=this.j.ya,b.height=this.j.xa,this.j.qt=b.getContext("2d"),d=!0),b=this.j.en,c=this.j.qt,b.width!==this.j.ya&&(b.width=this.j.ya,d=!0),b.height!==this.j.xa&&(b.height=this.j.xa,d=!0),d&&(c.webkitImageSmoothingEnabled=this.j.Xa,c.mozImageSmoothingEnabled=
this.j.Xa,c.msImageSmoothingEnabled=this.j.Xa,c.imageSmoothingEnabled=this.j.Xa),this.wf&&c.clearRect(0,0,this.j.ya,this.j.xa));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.wf||(c.fillStyle="rgb("+this.kf[0]+","+this.kf[1]+","+this.kf[2]+")",c.fillRect(0,0,this.j.ya,this.j.xa));c.save();this.ig=!0;var d=this.$b(0,0,!0,!0),e=this.$b(0,0,!1,!0);this.ig=!1;this.j.rf&&(d=Math.round(d),e=Math.round(e));this.Ln(d,e,c);var g=this.de();c.scale(g,g);c.translate(-d,-e);this.He?(this.Vc.left=
this.$c.Id(this.Db),this.Vc.top=this.$c.Jd(this.Eb),this.Vc.right=this.$c.Id(this.Nb),this.Vc.bottom=this.$c.Jd(this.Mb),this.uf||!this.Vc.ak(this.lj)?(f(this.vg),d=this.op(),this.uf=!1,this.lj.Wj(this.Vc)):d=this.vg):d=this.G;for(var k,h=null,e=0,g=d.length;e<g;++e)k=d[e],k!==h&&(this.by(k,c),h=k);this.He&&(this.vg=d);c.restore();this.Uf&&(a.globalCompositeOperation=this.Vj,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.by=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.bb();
var c=a.Jb;c.right<this.Db||c.bottom<this.Eb||c.left>this.Nb||c.top>this.Mb||(b.globalCompositeOperation=a.Vj,a.Kf(b))}};b.prototype.no=function(){this.ig=!0;var a=this.$b(0,0,!0,!0),b=this.$b(0,0,!1,!0);this.ig=!1;this.j.rf&&(a=Math.round(a),b=Math.round(b));this.Ln(a,b,null)};b.prototype.Ln=function(a,b,c){var d=this.de();this.Db=a;this.Eb=b;this.Nb=a+1/d*this.j.ya;this.Mb=b+1/d*this.j.xa;a=this.ac();0!==a&&(c&&(c.translate(this.j.ya/2,this.j.xa/2),c.rotate(-a),c.translate(this.j.ya/-2,this.j.xa/
-2)),this.Jg.set(this.Db,this.Eb,this.Nb,this.Mb),this.Jg.offset((this.Db+this.Nb)/-2,(this.Eb+this.Mb)/-2),this.jv.Pu(this.Jg,a),this.jv.gs(this.Jg),this.Jg.offset((this.Db+this.Nb)/2,(this.Eb+this.Mb)/2),this.Db=this.Jg.left,this.Eb=this.Jg.top,this.Nb=this.Jg.right,this.Mb=this.Jg.bottom)};b.prototype.$h=function(a){if(this.Uf=this.Hm){this.j.Bc||(this.j.Bc=a.we(this.j.ya,this.j.xa,this.j.Xa));if(this.j.Bc.Wh!==this.j.ya||this.j.Bc.Vh!==this.j.xa)a.deleteTexture(this.j.Bc),this.j.Bc=a.we(this.j.ya,
this.j.xa,this.j.Xa);a.bf(this.j.Bc)}this.ig=!0;var b=this.$b(0,0,!0,!0),c=this.$b(0,0,!1,!0);this.ig=!1;this.j.rf&&(b=Math.round(b),c=Math.round(c));this.Ln(b,c,null);b=this.de();a.$e();a.scale(b,b);a.Mn(-this.ac());a.translate((this.Db+this.Nb)/-2,(this.Eb+this.Mb)/-2);a.Ge();this.He?(this.Vc.left=this.$c.Id(this.Db),this.Vc.top=this.$c.Jd(this.Eb),this.Vc.right=this.$c.Id(this.Nb),this.Vc.bottom=this.$c.Jd(this.Mb),this.uf||!this.Vc.ak(this.lj)?(f(this.vg),b=this.op(),this.uf=!1,this.lj.Wj(this.Vc)):
b=this.vg):b=this.G;for(var d,e=null,c=b.length-1;0<=c;--c)d=b[c],d!==e&&(this.ey(b[c],a),e=d);this.He&&(this.vg=b);this.wf||(this.Po=this.j.ai++,a.Rn(this.Po),a.Hu(1,1,1),a.Gs(),a.GA())};b.prototype.be=function(a){var b=0,c=0;if(this.Uf=this.Hm||1!==this.opacity||0<this.mb.length||0!==this.ed){this.j.Bc||(this.j.Bc=a.we(this.j.ya,this.j.xa,this.j.Xa));if(this.j.Bc.Wh!==this.j.ya||this.j.Bc.Vh!==this.j.xa)a.deleteTexture(this.j.Bc),this.j.Bc=a.we(this.j.ya,this.j.xa,this.j.Xa);a.bf(this.j.Bc);this.wf&&
a.clear(0,0,0,0)}this.wf||(this.j.Bb?(a.Rn(this.Po),a.Hu(this.kf[0]/255,this.kf[1]/255,this.kf[2]/255),a.Gs(),a.UA()):a.clear(this.kf[0]/255,this.kf[1]/255,this.kf[2]/255,1));this.ig=!0;var d=this.$b(0,0,!0,!0),b=this.$b(0,0,!1,!0);this.ig=!1;this.j.rf&&(d=Math.round(d),b=Math.round(b));this.Ln(d,b,null);d=this.de();a.$e();a.scale(d,d);a.Mn(-this.ac());a.translate((this.Db+this.Nb)/-2,(this.Eb+this.Mb)/-2);a.Ge();this.He?(this.Vc.left=this.$c.Id(this.Db),this.Vc.top=this.$c.Jd(this.Eb),this.Vc.right=
this.$c.Id(this.Nb),this.Vc.bottom=this.$c.Jd(this.Mb),this.uf||!this.Vc.ak(this.lj)?(f(this.vg),b=this.op(),this.uf=!1,this.lj.Wj(this.Vc)):b=this.vg):b=this.G;var e,g,k=null,c=0;for(e=b.length;c<e;++c)g=b[c],g!==k&&(this.cy(b[c],a),k=g);this.He&&(this.vg=b);this.Uf&&(b=this.mb.length?this.mb[0].qc:0,c=this.mb.length?this.mb[0].index:0,0===this.mb.length||1===this.mb.length&&!a.Cq(b)&&1===this.opacity?(1===this.mb.length?(a.Wd(b),a.zj(this.Cc.kk(),1/this.j.ya,1/this.j.xa,0,0,1,1,d,this.ac(),this.Db,
this.Eb,(this.Db+this.Nb)/2,(this.Eb+this.Mb)/2,this.j.Ac.Ia,this.Pb[c]),a.Hn(b)&&(this.j.hb=!0)):a.Wd(0),a.bf(this.Cc.kk()),a.Ci(this.opacity),a.oe(this.j.Bc),a.Hh(this.ud,this.kd),a.$e(),a.Ge(),d=this.j.ya/2,b=this.j.xa/2,a.jl(-d,b,d,b,d,-b,-d,-b),a.oe(null)):this.Cc.Iq(a,this,null,this.Cc.kk()))};b.prototype.cy=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.bb();var c=a.Jb;c.right<this.Db||c.bottom<this.Eb||c.left>this.Nb||c.top>this.Mb||(b.Rn(a.ai),a.xv?this.fy(a,b):(b.Wd(0),b.Hh(a.ud,
a.kd),a.be(b)))}};b.prototype.ey=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.bb();var c=a.Jb;c.right<this.Db||c.bottom<this.Eb||c.left>this.Nb||c.top>this.Mb||(a.ai=this.j.ai++,0===a.ed&&1===a.opacity&&a.Gg&&a.$h&&(b.Rn(a.ai),a.$h(b)))}};b.prototype.fy=function(a,b){var c=a.mb[0].qc,d=a.mb[0].index,e=this.de();if(1!==a.mb.length||b.Cq(c)||b.wA(c)||(a.M||a.V.ac())&&b.fl(c)||1!==a.opacity||a.type.yb.St)this.Cc.Iq(b,this,a,this.Uf?this.j.Bc:this.Cc.kk()),b.$e(),b.scale(e,e),b.Mn(-this.ac()),
b.translate((this.Db+this.Nb)/-2,(this.Eb+this.Mb)/-2),b.Ge();else{b.Wd(c);b.Hh(a.ud,a.kd);b.Hn(c)&&(this.j.hb=!0);var g=0,f=0,k=0,h=0;b.fl(c)&&(c=a.Jb,g=this.Lb(c.left,c.top,!0,!0),f=this.Lb(c.left,c.top,!1,!0),k=this.Lb(c.right,c.bottom,!0,!0),c=this.Lb(c.right,c.bottom,!1,!0),g=g/windowWidth,f=1-f/windowHeight,k=k/windowWidth,h=1-c/windowHeight);b.zj(this.Uf?this.j.Bc:this.Cc.kk(),1/a.width,1/a.height,g,f,k,h,e,this.ac(),this.Db,this.Eb,(this.Db+this.Nb)/2,(this.Eb+this.Mb)/2,this.j.Ac.Ia,a.Pb[d]);
a.be(b)}};b.prototype.$b=function(a,b,c,d){var e=this.j.devicePixelRatio;this.j.mi&&(a*=e,b*=e);var e=this.j.nu,g=this.j.ou,e=(this.Cc.scrollX-e)*this.Rd+e,g=(this.Cc.scrollY-g)*this.Sd+g,f=e,k=g,h=1/this.de(!d);d?(f-=this.j.ya*h/2,k-=this.j.xa*h/2):(f-=this.j.width*h/2,k-=this.j.height*h/2);f+=a*h;k+=b*h;b=this.ac();0!==b&&(f-=e,k-=g,a=Math.cos(b),b=Math.sin(b),d=f*a-k*b,k=k*a+f*b,f=d+e,k+=g);return c?f:k};b.prototype.Lb=function(a,b,c,d){var e=this.j.nu,g=this.j.ou,f=(this.Cc.scrollX-e)*this.Rd+
e,k=(this.Cc.scrollY-g)*this.Sd+g,g=f,e=k,h=this.ac();if(0!==h){a-=f;b-=k;var n=Math.cos(-h),h=Math.sin(-h),B=a*n-b*h;b=b*n+a*h;a=B+f;b+=k}f=1/this.de(!d);d?(g-=this.j.ya*f/2,e-=this.j.xa*f/2):(g-=this.j.width*f/2,e-=this.j.height*f/2);g=(a-g)/f;e=(b-e)/f;a=this.j.devicePixelRatio;this.j.mi&&!d&&(g/=a,e/=a);return c?g:e};b.prototype.Qc=function(){var a,b,c,d={s:this.scale,a:this.M,vl:this.Db,vt:this.Eb,vr:this.Nb,vb:this.Mb,v:this.visible,bc:this.kf,t:this.wf,px:this.Rd,py:this.Sd,o:this.opacity,
zr:this.yd,fx:[],cg:this.Yj,instances:[]};a=0;for(b=this.Ma.length;a<b;a++)c=this.Ma[a],d.fx.push({name:c.name,active:c.tc,params:this.Pb[c.index]});return d};b.prototype.sd=function(a){var b,d,e;this.scale=a.s;this.M=a.a;this.Db=a.vl;this.Eb=a.vt;this.Nb=a.vr;this.Mb=a.vb;this.visible=a.v;this.kf=a.bc;this.wf=a.t;this.Rd=a.px;this.Sd=a.py;this.opacity=a.o;this.yd=a.zr;this.Yj=a.cg||[];Ea(this.Ae,this.Wu);var g=new ca;b=0;for(e=this.Yj.length;b<e;++b)g.add(this.Yj[b]);d=b=0;for(e=this.Ae.length;b<
e;++b)g.contains(this.Ae[b][2])||(this.Ae[d]=this.Ae[b],++d);Ca(this.Ae,d);d=a.fx;b=0;for(e=d.length;b<e;b++)if(a=this.kp(d[b].name))a.tc=d[b].active,this.Pb[a.index]=d[b].params;this.xf();this.G.sort(c);this.Ji=!0};Mc=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,g,f;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=v.length&&(v.length=b.length+1);v[b.length]||(v[b.length]=[]);f=v[b.length];d=0;for(e=f.length;d<e;d++)if(g=f[d],a(b,g))return g;f.push(b);return b}
function d(a,b){this.j=a;this.nv={};this.Bs={};this.vp=!1;this.Xs=new ca;this.Wo=[];this.Eo=[];this.name=b[0];var c=b[1];this.ih=[];var d,e;d=0;for(e=c.length;d<e;d++)this.Zs(c[d],null,this.ih)}function f(a){this.type=a;this.G=[];this.Wa=[];this.Ha=!0}function h(a,b,c){this.sheet=a;this.parent=b;this.j=a.j;this.sb=[];this.Ih=[];this.Us=this.eo=this.jr=this.Rm=this.group=this.Zq=!1;this.vc=[];this.Ke=[];this.df=[];this.mk="";this.aj=this.Rm=this.group=!1;this.jm=null;c[1]&&(this.mk=c[1][1].toLowerCase(),
this.group=!0,this.Rm=!!c[1][0],this.jm=[],this.aj=this.Rm,this.j.Xg.push(this),this.j.nk[this.mk]=this);this.qf=c[2];this.$a=c[4];this.group||(this.j.ds[this.$a.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Nc(this,d[a]);e.index=a;this.vc.push(e);this.Xr(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Oc(this,d[a]),e.index=a,this.Ke.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Zs(c[a],this,this.df);this.Xm=!1;this.vc.length&&(this.Xm=null==this.vc[0].type&&
this.vc[0].Xc==J.prototype.O.Er)}function e(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.qd))for(c=0,d=a.ae.length;c<d;c++)e=a.ae[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function k(a,b){this.ve=a;this.sheet=a.sheet;this.j=a.j;this.Ua=[];this.Wb=[];this.fa={};this.index=-1;this.Rj=!1;this.Xc=this.j.Tg(b[1]);this.trigger=0<b[3];this.As=2===b[3];this.Pf=b[4];this.Sm=b[5];this.Wz=b[6];this.$a=b[7];this.j.ah[this.$a.toString()]=this;-1===b[0]?(this.type=null,this.pc=this.Nq,this.Uh=null,this.lf=
-1):(this.type=this.j.ka[b[0]],this.pc=this.Wz?this.MA:this.Mq,b[2]?(this.Uh=this.type.Lm(b[2]),this.lf=this.type.jp(b[2])):(this.Uh=null,this.lf=-1),this.ve.parent&&this.ve.parent.Tn());this.As&&(this.pc=this.NA);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var g=new Pc(this,e[c]);this.Ua.push(g)}this.Wb.length=e.length}}function g(a,b){this.ve=a;this.sheet=a.sheet;this.j=a.j;this.Ua=[];this.Wb=[];this.fa={};this.index=-1;this.Rj=!1;this.Xc=this.j.Tg(b[1]);-1===b[0]?(this.type=null,
this.pc=this.Nq,this.Uh=null,this.lf=-1):(this.type=this.j.ka[b[0]],this.pc=this.Mq,b[2]?(this.Uh=this.type.Lm(b[2]),this.lf=this.type.jp(b[2])):(this.Uh=null,this.lf=-1));this.$a=b[3];this.j.Wg[this.$a.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var g=new Pc(this,e[c]);this.Ua.push(g)}this.Wb.length=e.length}}function n(){u++;r.length===u&&r.push(new Qc);return r[u]}function l(a,b){this.Ye=a;this.ve=a.ve;this.sheet=a.sheet;this.j=a.j;this.type=b[0];this.Lf=null;this.Hg=
0;this.get=null;this.ns=0;this.Cc=null;this.key=0;this.object=null;this.index=0;this.Al=this.Ei=this.Al=this.Ei=this.Es=this.ci=this.Bl=null;this.ff=!1;var c,d,e;switch(b[0]){case 0:case 7:this.Lf=new Rc(this,b[1]);this.Hg=0;this.get=this.sz;break;case 1:this.Lf=new Rc(this,b[1]);this.Hg=0;this.get=this.uz;break;case 5:this.Lf=new Rc(this,b[1]);this.Hg=0;this.get=this.yz;break;case 3:case 8:this.ns=b[1];this.get=this.qz;break;case 6:this.Cc=this.j.Wp[b[1]];this.get=this.zz;break;case 9:this.key=b[1];
this.get=this.xz;break;case 4:this.object=this.j.ka[b[1]];this.get=this.Az;this.ve.Xr(this.object);this.Ye instanceof Oc?this.ve.Tn():this.ve.parent&&this.ve.parent.Tn();break;case 10:this.index=b[1];a.type.Da?(this.get=this.vz,this.ff=!0):this.get=this.wz;break;case 11:this.Bl=b[1];this.ci=null;this.get=this.rz;break;case 2:case 12:this.Es=b[1];this.get=this.pz;break;case 13:for(this.get=this.Bz,this.Ei=[],this.Al=[],c=1,d=b.length;c<d;c++)e=new Pc(this.Ye,b[c]),this.Ei.push(e),this.Al.push(0)}}
function m(a,b,c){this.sheet=a;this.parent=b;this.j=a.j;this.sb=[];this.name=c[1];this.Cl=c[2];this.zp=c[3];this.Dk=!!c[4];this.Wm=!!c[5];this.$a=c[6];this.j.Jj[this.$a.toString()]=this;this.data=this.zp;this.parent?(this.vi=this.Dk||this.Wm?-1:this.j.YA++,this.j.mx.push(this)):(this.vi=-1,this.j.kx.push(this))}function q(a,b,c){this.sheet=a;this.parent=b;this.j=a.j;this.sb=[];this.pk=null;this.Jz=c[1];this.tc=!0}function p(){this.$u=[];this.reset(null)}var v=[];d.prototype.toString=function(){return this.name};
d.prototype.Zs=function(a,b,c){switch(a[0]){case 0:a=new Sc(this,b,a);if(a.qf)for(c.push(a),c=0,b=a.vc.length;c<b;c++)a.vc[c].trigger&&this.$s(a,c);else a.kt()?this.$s(a,0):c.push(a);break;case 1:a=new Jc(this,b,a);c.push(a);break;case 2:a=new Tc(this,b,a),c.push(a)}};d.prototype.jc=function(){var a,b;a=0;for(b=this.ih.length;a<b;a++)this.ih[a].jc(a<b-1&&this.ih[a+1].Xm)};d.prototype.qr=function(){F(this.Wo);F(this.Eo);this.Wr(this);F(this.Eo)};d.prototype.Wr=function(a){var b,c,d,e,g=a.Wo,f=a.Eo,
k=this.Xs.te();b=0;for(c=k.length;b<c;++b)d=k[b],e=d.pk,!d.tc||a===e||-1<f.indexOf(e)||(f.push(e),e.Wr(a),g.push(e))};d.prototype.pc=function(a){this.j.xC||(this.vp=!0,a||(this.j.Gp=!0));var b,c;b=0;for(c=this.ih.length;b<c;b++){var d=this.ih[b];d.pc();this.j.Oo(d.sb);this.j.mh&&this.j.dd()}a||(this.j.Gp=!1)};d.prototype.$s=function(a,b){a.qf||this.j.jo.push(a);var c,d,e=a.vc[b],g;e.type?g=e.type.name:g="system";var f=(c=e.As)?this.Bs:this.nv;f[g]||(f[g]=[]);g=f[g];f=e.Xc;if(c){if(e.Ua.length&&(e=
e.Ua[0],1===e.type&&2===e.Lf.type)){e=e.Lf.value.toLowerCase();c=0;for(d=g.length;c<d;c++)if(g[c].method==f){c=g[c].bk;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];g.push({method:f,bk:c})}}else{c=0;for(d=g.length;c<d;c++)if(g[c].method==f){g[c].bk.push([a,b]);return}pd&&f===pd.prototype.O.Ni?g.unshift({method:f,bk:[[a,b]]}):g.push({method:f,bk:[[a,b]]})}};qc=d;f.prototype.Qm=function(){return this.Ha?this.type.G.length:this.G.length};f.prototype.md=function(){return this.Ha?this.type.G:
this.G};f.prototype.cl=function(a){a&&(a.j.Lc().Kc.qf?(this.Ha&&(F(this.G),Ea(this.Wa,a.type.G),this.Ha=!1),a=this.Wa.indexOf(a),-1!==a&&(this.G.push(this.Wa[a]),this.Wa.splice(a,1))):(this.Ha=!1,F(this.G),this.G[0]=a))};Zb=f;window._c2hh_="42C62024787E6D2F84A0015373E5821BC3C7BEFB";h.prototype.jc=function(a){var c,d=this.parent;if(this.group)for(this.eo=!0;d;){if(!d.group){this.eo=!1;break}d=d.parent}this.jr=!this.kt()&&(!this.parent||this.parent.group&&this.parent.eo);this.Us=!!a;this.Ih=this.sb.slice(0);
for(d=this.parent;d;){a=0;for(c=d.sb.length;a<c;a++)this.ix(d.sb[a]);d=d.parent}this.sb=b(this.sb);this.Ih=b(this.Ih);a=0;for(c=this.vc.length;a<c;a++)this.vc[a].jc();a=0;for(c=this.Ke.length;a<c;a++)this.Ke[a].jc();a=0;for(c=this.df.length;a<c;a++)this.df[a].jc(a<c-1&&this.df[a+1].Xm)};h.prototype.Ku=function(a){if(this.aj!==!!a){this.aj=!!a;var b;a=0;for(b=this.jm.length;a<b;++a)this.jm[a].sv();0<b&&this.j.Za.bi&&this.j.Za.bi.qr()}};h.prototype.Xr=function(a){e(a,this.sb)};h.prototype.ix=function(a){e(a,
this.Ih)};h.prototype.Tn=function(){this.Zq=!0;this.parent&&this.parent.Tn()};h.prototype.kt=function(){return this.vc.length?this.vc[0].trigger:!1};h.prototype.pc=function(){var a,b,c=!1,d=this.j,e=this.j.Lc();e.Kc=this;var g=this.vc;this.Xm||(e.Yo=!1);if(this.qf){0===g.length&&(c=!0);e.uc=0;for(a=g.length;e.uc<a;e.uc++)b=g[e.uc],b.trigger||(b=b.pc())&&(c=!0);(e.oi=c)&&this.Nn()}else{e.uc=0;for(a=g.length;e.uc<a;e.uc++)if(b=g[e.uc].pc(),!b){e.oi=!1;this.jr&&d.mh&&d.dd();return}e.oi=!0;this.Nn()}this.jy(e)};
h.prototype.jy=function(a){a.oi&&this.Us&&(a.Yo=!0);this.jr&&this.j.mh&&this.j.dd()};h.prototype.KA=function(a){this.j.Lc().Kc=this;this.vc[a].pc()&&(this.Nn(),this.j.Lc().oi=!0)};h.prototype.Nn=function(){var a=this.j.Lc(),b;a.Kd=0;for(b=this.Ke.length;a.Kd<b;a.Kd++)if(this.Ke[a.Kd].pc())return;this.Fu()};h.prototype.IA=function(){var a=this.j.Lc(),b;for(b=this.Ke.length;a.Kd<b;a.Kd++)if(this.Ke[a.Kd].pc())return;this.Fu()};h.prototype.Fu=function(){if(this.df.length){var a,b,c,d,e=this.df.length-
1;this.j.In(this);if(this.Zq)for(a=0,b=this.df.length;a<b;a++)c=this.df[a],(d=!this.eo||!this.group&&a<e)&&this.j.il(c.sb),c.pc(),d?this.j.Eh(c.sb):this.j.Oo(c.sb);else for(a=0,b=this.df.length;a<b;a++)this.df[a].pc();this.j.En()}};h.prototype.LA=function(){var a=this.j.Lc();a.Kc=this;var b=!1,c;a.uc=0;for(c=this.vc.length;a.uc<c;a.uc++)if(this.vc[a.uc].pc())b=!0;else if(!this.qf)return!1;return this.qf?b:!0};h.prototype.Lq=function(){this.j.di++;var a=this.j.Lc().uc,b=this.j.In(this);if(!this.qf)for(b.uc=
a+1,a=this.vc.length;b.uc<a;b.uc++)if(!this.vc[b.uc].pc()){this.j.En();return}this.Nn();this.j.En()};h.prototype.Oz=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.vc[b].type===a.type)return!1;return!0};Sc=h;k.prototype.jc=function(){var a,b,c;a=0;for(b=this.Ua.length;a<b;a++)c=this.Ua[a],c.jc(),c.ff&&(this.Rj=!0)};k.prototype.NA=function(){return!0};k.prototype.Nq=function(){var a,b;a=0;for(b=this.Ua.length;a<b;a++)this.Wb[a]=this.Ua[a].get();return nb(this.Xc.apply(this.j.Wf,
this.Wb),this.Sm)};k.prototype.MA=function(){var a,b;a=0;for(b=this.Ua.length;a<b;a++)this.Wb[a]=this.Ua[a].get();a=this.Xc.apply(this.Uh?this.Uh:this.type,this.Wb);this.type.Le();return a};k.prototype.Mq=function(){var a,b,c,d,e,g,f,k,h=this.type,l=h.za(),n=this.ve.qf&&!this.trigger;b=0;var m=h.qd,p=h.Da,u=h.kg,q=this.lf,r=-1<q,v=this.Rj,O=this.Ua,P=this.Wb,Q=this.Sm,M=this.Xc,K;if(v)for(b=0,e=O.length;b<e;++b)g=O[b],g.ff||(P[b]=g.get(0));else for(b=0,e=O.length;b<e;++b)P[b]=O[b].get(0);if(l.Ha){F(l.G);
F(l.Wa);K=h.G;a=0;for(d=K.length;a<d;++a){k=K[a];if(v)for(b=0,e=O.length;b<e;++b)g=O[b],g.ff&&(P[b]=g.get(a));r?(b=0,p&&(b=k.type.Vi[u]),b=M.apply(k.Ba[q+b],P)):b=M.apply(k,P);(f=nb(b,Q))?l.G.push(k):n&&l.Wa.push(k)}h.finish&&h.finish(!0);l.Ha=!1;h.Le();return l.Qm()}c=0;K=(f=n&&!this.ve.Oz(this))?l.Wa:l.G;var U=!1;a=0;for(d=K.length;a<d;++a){k=K[a];if(v)for(b=0,e=O.length;b<e;++b)g=O[b],g.ff&&(P[b]=g.get(a));r?(b=0,p&&(b=k.type.Vi[u]),b=M.apply(k.Ba[q+b],P)):b=M.apply(k,P);if(nb(b,Q))if(U=!0,f){if(l.G.push(k),
m)for(b=0,e=k.siblings.length;b<e;b++)g=k.siblings[b],g.type.za().G.push(g)}else{K[c]=k;if(m)for(b=0,e=k.siblings.length;b<e;b++)g=k.siblings[b],g.type.za().G[c]=g;c++}else if(f){K[c]=k;if(m)for(b=0,e=k.siblings.length;b<e;b++)g=k.siblings[b],g.type.za().Wa[c]=g;c++}else if(n&&(l.Wa.push(k),m))for(b=0,e=k.siblings.length;b<e;b++)g=k.siblings[b],g.type.za().Wa.push(g)}Ca(K,c);if(m)for(p=h.ae,a=0,d=p.length;a<d;a++)k=p[a].za(),f?Ca(k.Wa,c):Ca(k.G,c);c=U;if(f&&!U)for(a=0,d=l.G.length;a<d;a++){k=l.G[a];
if(v)for(b=0,e=O.length;b<e;b++)g=O[b],g.ff&&(P[b]=g.get(a));b=r?M.apply(k.Ba[q],P):M.apply(k,P);if(nb(b,Q)){U=!0;break}}h.finish&&h.finish(c||n);return n?U:l.Qm()};Nc=k;g.prototype.jc=function(){var a,b,c;a=0;for(b=this.Ua.length;a<b;a++)c=this.Ua[a],c.jc(),c.ff&&(this.Rj=!0)};g.prototype.Nq=function(){var a=this.j,b,c,d=this.Ua,e=this.Wb;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.Xc.apply(a.Wf,e)};g.prototype.Mq=function(){var a=this.type,b=this.lf,c=a.kg,d=this.Rj,e=this.Ua,g=this.Wb,
f=this.Xc,k=a.za().md(),a=a.Da,h=-1<b,l,n,m,p,u,q;if(d)for(n=0,p=e.length;n<p;++n)u=e[n],u.ff||(g[n]=u.get(0));else for(n=0,p=e.length;n<p;++n)g[n]=e[n].get(0);l=0;for(m=k.length;l<m;++l){q=k[l];if(d)for(n=0,p=e.length;n<p;++n)u=e[n],u.ff&&(g[n]=u.get(l));h?(n=0,a&&(n=q.type.Vi[c]),f.apply(q.Ba[b+n],g)):f.apply(q,g)}return!1};Oc=g;var r=[],u=-1;l.prototype.jc=function(){var a,b;if(11===this.type)this.ci=this.j.Ms(this.Bl,this.ve.parent);else if(13===this.type)for(a=0,b=this.Ei.length;a<b;a++)this.Ei[a].jc();
this.Lf&&this.Lf.jc()};l.prototype.dA=function(a){this.ff||!a||a.yb.Vn||(this.ff=!0)};l.prototype.Nu=function(){this.ff=!0};l.prototype.sz=function(a){this.Hg=a||0;a=n();this.Lf.get(a);u--;return a.data};l.prototype.uz=function(a){this.Hg=a||0;a=n();this.Lf.get(a);u--;return la(a.data)?a.data:""};l.prototype.Az=function(){return this.object};l.prototype.qz=function(){return this.ns};l.prototype.yz=function(a){this.Hg=a||0;a=n();this.Lf.get(a);u--;return a.Mc()?this.j.mg(a.data):this.j.ik(a.data)};
l.prototype.zz=function(){return this.Cc};l.prototype.xz=function(){return this.key};l.prototype.wz=function(){return this.index};l.prototype.vz=function(a){a=a||0;var b=this.Ye.type,c=null,c=b.za(),d=c.md();if(d.length)c=d[a%d.length].type;else if(c.Wa.length)c=c.Wa[a%c.Wa.length].type;else if(b.G.length)c=b.G[a%b.G.length].type;else return 0;return this.index+c.Cm[b.kg]};l.prototype.rz=function(){return this.ci};l.prototype.pz=function(){return this.Es};l.prototype.Bz=function(){var a,b;a=0;for(b=
this.Ei.length;a<b;a++)this.Al[a]=this.Ei[a].get();return this.Al};Pc=l;m.prototype.jc=function(){this.sb=b(this.sb)};m.prototype.Fg=function(a){var b=this.j.Ls();this.parent&&!this.Dk&&b?(this.vi>=b.length&&(b.length=this.vi+1),b[this.vi]=a):this.data=a};m.prototype.gi=function(){var a=this.j.Ls();return!this.parent||this.Dk||!a||this.Wm?this.data:this.vi>=a.length||"undefined"===typeof a[this.vi]?this.zp:a[this.vi]};m.prototype.pc=function(){!this.parent||this.Dk||this.Wm||this.Fg(this.zp)};Jc=
m;q.prototype.toString=function(){return"include:"+this.pk.toString()};q.prototype.jc=function(){this.pk=this.j.$o[this.Jz];this.sheet.Xs.add(this);this.sb=b(this.sb);for(var a=this.parent;a;)a.group&&a.jm.push(this),a=a.parent;this.sv()};q.prototype.pc=function(){this.parent&&this.j.hl(this.j.ka);this.pk.vp||this.pk.pc(!0);this.parent&&this.j.Eh(this.j.ka)};q.prototype.sv=function(){for(var a=this.parent;a;){if(a.group&&!a.aj){this.tc=!1;return}a=a.parent}this.tc=!0};Tc=q;p.prototype.reset=function(a){this.Kc=
a;this.Kd=this.uc=0;F(this.$u);this.Yo=this.oi=!1};p.prototype.Qz=function(){return this.Kc.Zq?!0:this.uc<this.Kc.vc.length-1?!!this.Kc.sb.length:!1};Bc=p})();
(function(){function a(a,b){this.Ye=a;this.j=a.j;this.type=b[0];this.get=[this.Fy,this.By,this.Oy,this.Ry,this.ny,this.Py,this.Jy,this.yy,this.Iy,this.Ny,this.oy,this.My,this.zy,this.Ky,this.Gy,this.Hy,this.Cy,this.Dy,this.xy,this.Qy,this.Ly,this.Ey,this.wy,this.Ay][this.type];var c=null;this.xg=this.Ua=this.Wb=this.Xc=this.bo=this.second=this.first=this.value=null;this.lf=-1;this.nf=null;this.yv=-1;this.ci=this.Bl=null;this.yj=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Rc(a,b[1]);break;case 18:this.first=new Rc(a,b[1]);this.second=new Rc(a,b[2]);this.bo=new Rc(a,b[3]);break;case 19:this.Xc=this.j.Tg(b[1]);this.Xc!==J.prototype.wb.random&&this.Xc!==J.prototype.wb.zx||this.Ye.Nu();this.Wb=[];this.Ua=[];3===b.length?(c=b[2],this.Wb.length=c.length+1):this.Wb.length=1;break;case 20:this.xg=this.j.ka[b[1]];this.lf=-1;this.Xc=this.j.Tg(b[2]);this.yj=b[3];Wc.Function&&this.Xc===Wc.Function.prototype.wb.vB&&this.Ye.Nu();b[4]?this.nf=new Rc(a,b[4]):this.nf=null;this.Wb=
[];this.Ua=[];6===b.length?(c=b[5],this.Wb.length=c.length+1):this.Wb.length=1;break;case 21:this.xg=this.j.ka[b[1]];this.yj=b[2];b[3]?this.nf=new Rc(a,b[3]):this.nf=null;this.yv=b[4];break;case 22:this.xg=this.j.ka[b[1]];this.xg.Lm(b[2]);this.lf=this.xg.jp(b[2]);this.Xc=this.j.Tg(b[3]);this.yj=b[4];b[5]?this.nf=new Rc(a,b[5]):this.nf=null;this.Wb=[];this.Ua=[];7===b.length?(c=b[6],this.Wb.length=c.length+1):this.Wb.length=1;break;case 23:this.Bl=b[1],this.ci=null}this.Ye.dA(this.xg);4<=this.type&&
17>=this.type&&(this.first=new Rc(a,b[1]),this.second=new Rc(a,b[2]));if(c){var d,f;d=0;for(f=c.length;d<f;d++)this.Ua.push(new Rc(a,c[d]))}}function c(){++h;f.length===h&&f.push(new Qc);return f[h]}function b(a,b,c){var d,f;d=0;for(f=a.length;d<f;++d)a[d].get(c),b[d+1]=c.data}function d(a,b){this.type=a||Uc.Mi;this.data=b||0;this.Ai=null;this.type==Uc.Mi&&(this.data=Math.floor(this.data))}a.prototype.jc=function(){23===this.type&&(this.ci=this.Ye.j.Ms(this.Bl,this.Ye.ve.parent));this.first&&this.first.jc();
this.second&&this.second.jc();this.bo&&this.bo.jc();this.nf&&this.nf.jc();if(this.Ua){var a,b;a=0;for(b=this.Ua.length;a<b;a++)this.Ua[a].jc()}};var f=[],h=-1;a.prototype.Qy=function(a){var d=this.Ua,g=this.Wb;g[0]=a;a=c();b(d,g,a);--h;this.Xc.apply(this.j.Wf,g)};a.prototype.Ly=function(a){var d=this.xg,g=this.Wb,f=this.Ua,l=this.nf,m=this.Xc,q=this.Ye.Hg,p=d.za(),v=p.md();if(!v.length)if(p.Wa.length)v=p.Wa;else{this.yj?a.bd(""):a.Cb(0);return}g[0]=a;a.Ai=d;a=c();b(f,g,a);l&&(l.get(a),a.Mc()&&(q=
a.data,v=d.G));--h;d=v.length;if(q>=d||q<=-d)q%=d;0>q&&(q+=d);m.apply(v[q],g)};a.prototype.wy=function(a){var d=this.xg,g=this.Wb,f=this.Ua,l=this.nf,m=this.lf,q=this.Xc,p=this.Ye.Hg,v=d.za(),r=v.md();if(!r.length)if(v.Wa.length)r=v.Wa;else{this.yj?a.bd(""):a.Cb(0);return}g[0]=a;a.Ai=d;a=c();b(f,g,a);l&&(l.get(a),a.Mc()&&(p=a.data,r=d.G));--h;f=r.length;if(p>=f||p<=-f)p%=f;0>p&&(p+=f);p=r[p];r=0;d.Da&&(r=p.type.Vi[d.kg]);q.apply(p.Ba[m+r],g)};a.prototype.Ey=function(a){var b=this.nf,d=this.xg,f=this.yv,
l=this.Ye.Hg,m=d.za(),q=m.md();if(!q.length)if(m.Wa.length)q=m.Wa;else{this.yj?a.bd(""):a.Cb(0);return}if(b){m=c();b.get(m);if(m.Mc()){l=m.data;q=d.G;0!==q.length&&(l%=q.length,0>l&&(l+=q.length));l=d.mp(l);d=l.zc[f];la(d)?a.bd(d):a.ma(d);--h;return}--h}b=q.length;if(l>=b||l<=-b)l%=b;0>l&&(l+=b);l=q[l];q=0;d.Da&&(q=l.type.Cm[d.kg]);d=l.zc[f+q];la(d)?a.bd(d):a.ma(d)};a.prototype.Fy=function(a){a.type=Uc.Mi;a.data=this.value};a.prototype.By=function(a){a.type=Uc.Li;a.data=this.value};a.prototype.Oy=
function(a){a.type=Uc.String;a.data=this.value};a.prototype.Ry=function(a){this.first.get(a);a.Mc()&&(a.data=-a.data)};a.prototype.ny=function(a){this.first.get(a);var b=c();this.second.get(b);a.Mc()&&b.Mc()&&(a.data+=b.data,b.fj()&&a.qj());--h};a.prototype.Py=function(a){this.first.get(a);var b=c();this.second.get(b);a.Mc()&&b.Mc()&&(a.data-=b.data,b.fj()&&a.qj());--h};a.prototype.Jy=function(a){this.first.get(a);var b=c();this.second.get(b);a.Mc()&&b.Mc()&&(a.data*=b.data,b.fj()&&a.qj());--h};a.prototype.yy=
function(a){this.first.get(a);var b=c();this.second.get(b);a.Mc()&&b.Mc()&&(a.data/=b.data,a.qj());--h};a.prototype.Iy=function(a){this.first.get(a);var b=c();this.second.get(b);a.Mc()&&b.Mc()&&(a.data%=b.data,b.fj()&&a.qj());--h};a.prototype.Ny=function(a){this.first.get(a);var b=c();this.second.get(b);a.Mc()&&b.Mc()&&(a.data=Math.pow(a.data,b.data),b.fj()&&a.qj());--h};a.prototype.oy=function(a){this.first.get(a);var b=c();this.second.get(b);b.ij()||a.ij()?this.ry(a,b):this.qy(a,b);--h};a.prototype.ry=
function(a,b){a.ij()&&b.ij()?this.uy(a,b):this.ty(a,b)};a.prototype.uy=function(a,b){a.data+=b.data};a.prototype.ty=function(a,b){a.ij()?a.data+=(Math.round(1E10*b.data)/1E10).toString():a.bd(a.data.toString()+b.data)};a.prototype.qy=function(a,b){a.Cb(a.data&&b.data?1:0)};a.prototype.My=function(a){this.first.get(a);var b=c();this.second.get(b);a.Mc()&&b.Mc()&&(a.data||b.data?a.Cb(1):a.Cb(0));--h};a.prototype.xy=function(a){this.first.get(a);a.data?this.second.get(a):this.bo.get(a)};a.prototype.zy=
function(a){this.first.get(a);var b=c();this.second.get(b);a.Cb(a.data===b.data?1:0);--h};a.prototype.Ky=function(a){this.first.get(a);var b=c();this.second.get(b);a.Cb(a.data!==b.data?1:0);--h};a.prototype.Gy=function(a){this.first.get(a);var b=c();this.second.get(b);a.Cb(a.data<b.data?1:0);--h};a.prototype.Hy=function(a){this.first.get(a);var b=c();this.second.get(b);a.Cb(a.data<=b.data?1:0);--h};a.prototype.Cy=function(a){this.first.get(a);var b=c();this.second.get(b);a.Cb(a.data>b.data?1:0);--h};
a.prototype.Dy=function(a){this.first.get(a);var b=c();this.second.get(b);a.Cb(a.data>=b.data?1:0);--h};a.prototype.Ay=function(a){var b=this.ci.gi();ka(b)?a.ma(b):a.bd(b)};Rc=a;d.prototype.fj=function(){return this.type===Uc.Li};d.prototype.Mc=function(){return this.type===Uc.Mi||this.type===Uc.Li};d.prototype.ij=function(){return this.type===Uc.String};d.prototype.qj=function(){this.fj()||(this.ij()&&(this.data=parseFloat(this.data)),this.type=Uc.Li)};d.prototype.Cb=function(a){this.type=Uc.Mi;
this.data=Math.floor(a)};d.prototype.ma=function(a){this.type=Uc.Li;this.data=a};d.prototype.bd=function(a){this.type=Uc.String;this.data=a};d.prototype.VA=function(a){ka(a)?(this.type=Uc.Li,this.data=a):la(a)?(this.type=Uc.String,this.data=a.toString()):(this.type=Uc.Mi,this.data=0)};Qc=d;Uc={Mi:0,Li:1,String:2}})();function J(a){this.j=a;this.Xd=[]}
J.prototype.Qc=function(){var a={},c,b,d,f,h,e,k,g;a.waits=[];var n=a.waits,l;c=0;for(b=this.Xd.length;c<b;c++){e=this.Xd[c];l={t:e.time,st:e.Uu,s:e.Yq,ev:e.Si.$a,sm:[],sols:{}};e.Si.Ke[e.Kd]&&(l.act=e.Si.Ke[e.Kd].$a);d=0;for(f=e.sb.length;d<f;d++)l.sm.push(e.sb[d].$a);for(h in e.Gd)if(e.Gd.hasOwnProperty(h)){k=this.j.ka[parseInt(h,10)];g={sa:e.Gd[h].On,insts:[]};d=0;for(f=e.Gd[h].ng.length;d<f;d++)g.insts.push(e.Gd[h].ng[d].uid);l.sols[k.$a.toString()]=g}n.push(l)}return a};
J.prototype.sd=function(a){a=a.waits;var c,b,d,f,h,e,k,g,n,l,m;F(this.Xd);c=0;for(b=a.length;c<b;c++)if(e=a[c],g=this.j.ds[e.ev.toString()]){n=-1;d=0;for(f=g.Ke.length;d<f;d++)if(g.Ke[d].$a===e.act){n=d;break}if(-1!==n){k={Gd:{},sb:[],Xo:!1};k.time=e.t;k.Uu=e.st||"";k.Yq=!!e.s;k.Si=g;k.Kd=n;d=0;for(f=e.sm.length;d<f;d++)(g=this.j.jk(e.sm[d]))&&k.sb.push(g);for(h in e.sols)if(e.sols.hasOwnProperty(h)&&(g=this.j.jk(parseInt(h,10)))){n=e.sols[h];l={On:n.sa,ng:[]};d=0;for(f=n.insts.length;d<f;d++)(m=
this.j.lh(n.insts[d]))&&l.ng.push(m);k.Gd[g.index.toString()]=l}this.Xd.push(k)}}};
(function(){function a(){}function c(){}function b(){}var d=J.prototype;a.prototype.Nv=function(){return!0};a.prototype.Ir=function(){return!0};a.prototype.mw=function(){return!0};var f=[],h=-1;a.prototype.Ov=function(a){var b=a.za();h++;f.length===h&&f.push([]);var c=f[h];Ea(c,b.md());var d=this.j.Lc(),e=d.Kc,k=d.Qz(),d=this.j.zA(),v,r,u,t,y,z,B=a.qd;if(k)for(k=0,v=c.length;k<v&&!d.Rc;k++){this.j.il(e.sb);t=c[k];b=a.za();b.Ha=!1;F(b.G);b.G[0]=t;if(B)for(r=0,u=t.siblings.length;r<u;r++)y=t.siblings[r],
z=y.type.za(),z.Ha=!1,F(z.G),z.G[0]=y;d.index=k;e.Lq();this.j.Eh(e.sb)}else for(b.Ha=!1,F(b.G),k=0,v=c.length;k<v&&!d.Rc;k++){t=c[k];b.G[0]=t;if(B)for(r=0,u=t.siblings.length;r<u;r++)y=t.siblings[r],z=y.type.za(),z.Ha=!1,F(z.G),z.G[0]=y;d.index=k;e.Lq()}F(c);this.j.qA();h--;return!1};a.prototype.Yw=function(){var a=this.j.Yi().fa;"undefined"===typeof a.TriggerOnce_lastTick&&(a.TriggerOnce_lastTick=-1);var b=a.TriggerOnce_lastTick,c=this.j.qe;a.TriggerOnce_lastTick=c;return this.j.Vp||b!==c-1};a.prototype.Mv=
function(a){var b=this.j.Yi(),c=b.fa.Every_lastTime||0,d=this.j.Ac.Ia;"undefined"===typeof b.fa.Every_seconds&&(b.fa.Every_seconds=a);var e=b.fa.Every_seconds;if(d>=c+e)return b.fa.Every_lastTime=c+e,d>=b.fa.Every_lastTime+.04&&(b.fa.Every_lastTime=d),b.fa.Every_seconds=a,!0;d<c-.1&&(b.fa.Every_lastTime=d);return!1};a.prototype.Jv=function(a,b,c){return Vc(a.gi(),b,c)};a.prototype.Uv=function(a){return(a=this.j.nk[a.toLowerCase()])&&a.aj};a.prototype.Er=function(){var a=this.j.Lc();return a.Yo?!1:
!a.oi};a.prototype.Jr=function(){return!0};a.prototype.fw=function(){return!0};a.prototype.wo=function(){return!0};a.prototype.ow=function(){return!0};a.prototype.uo=function(){return!0};a.prototype.Dv=function(a,b,c){return ab(Ma(a),Ma(c))<=Ma(b)};a.prototype.Tv=function(a,b){return eb(Ma(a),Ma(b))};a.prototype.Rv=function(a,b,c){a=Ta(a);b=Ta(b);c=Ta(c);return eb(c,b)?eb(a,b)&&!eb(a,c):!(!eb(a,b)&&eb(a,c))};d.O=new a;c.prototype.Pv=function(a){this.j.kj||this.j.Xh||(this.j.Xh=a)};c.prototype.Lv=
function(a,b,c,d){if(b&&a&&(b=this.j.So(a,b,c,d))){this.j.Be++;var e;this.j.trigger(Object.getPrototypeOf(a.yb).O.Qh,b);if(b.qd)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],this.j.trigger(Object.getPrototypeOf(e.type.yb).O.Qh,e);this.j.Be--;a=a.za();a.Ha=!1;F(a.G);a.G[0]=b;if(b.qd)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.za(),a.Ha=!1,F(a.G),a.G[0]=e}};c.prototype.Kw=function(a){this.j.Za&&this.j.Za.scale!==a&&(this.j.Za.scale=a,this.j.Za.es(),this.j.hb=!0)};c.prototype.Rw=
function(a,b){0===a.Cl?ka(b)?a.Fg(b):a.Fg(parseFloat(b)):1===a.Cl&&a.Fg(b.toString())};c.prototype.Bv=function(a,b){0===a.Cl?ka(b)?a.Fg(a.gi()+b):a.Fg(a.gi()+parseFloat(b)):1===a.Cl&&a.Fg(a.gi()+b.toString())};c.prototype.Ww=function(a,b){0===a.Cl&&(ka(b)?a.Fg(a.gi()-b):a.Fg(a.gi()-parseFloat(b)))};c.prototype.Qw=function(a){0>a&&(a=0);this.j.Zf=a};var e=[],k=[];c.prototype.$w=function(a){if(!(0>a)){var b,c,d,f=this.j.Lc(),h;e.length?h=e.pop():h={Gd:{},sb:[]};h.Xo=!1;h.time=this.j.Ac.Ia+a;h.Uu="";
h.Yq=!1;h.Si=f.Kc;h.Kd=f.Kd+1;a=0;for(b=this.j.ka.length;a<b;a++)d=this.j.ka[a],c=d.za(),c.Ha&&-1===f.Kc.sb.indexOf(d)||(h.sb.push(d),d=void 0,k.length?d=k.pop():d={ng:[]},d.On=!1,d.On=c.Ha,Ea(d.ng,c.G),h.Gd[a.toString()]=d);this.Xd.push(h);return!0}};c.prototype.Dw=function(){if(!this.j.kj&&!this.j.Xh&&this.j.Za){this.j.Xh=this.j.Za;var a,b,c;a=0;for(b=this.j.Xg.length;a<b;a++)c=this.j.Xg[a],c.Ku(c.Rm)}};d.na=new c;b.prototype["int"]=function(a,b){la(b)?(a.Cb(parseInt(b,10)),isNaN(a.data)&&(a.data=
0)):a.Cb(b)};b.prototype["float"]=function(a,b){la(b)?(a.ma(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.ma(b)};b.prototype.random=function(a,b,c){void 0===c?a.ma(Math.random()*b):a.ma(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.ma(Math.sqrt(b))};b.prototype.abs=function(a,b){a.ma(Math.abs(b))};b.prototype.round=function(a,b){a.Cb(Math.round(b))};b.prototype.floor=function(a,b){a.Cb(Math.floor(b))};b.prototype.ceil=function(a,b){a.Cb(Math.ceil(b))};b.prototype.sin=function(a,b){a.ma(Math.sin(Ma(b)))};
b.prototype.cos=function(a,b){a.ma(Math.cos(Ma(b)))};b.prototype.tan=function(a,b){a.ma(Math.tan(Ma(b)))};b.prototype.asin=function(a,b){a.ma(Na(Math.asin(b)))};b.prototype.acos=function(a,b){a.ma(Na(Math.acos(b)))};b.prototype.atan=function(a,b){a.ma(Na(Math.atan(b)))};b.prototype.exp=function(a,b){a.ma(Math.exp(b))};b.prototype.log10=function(a,b){a.ma(Math.log(b)/Math.LN10)};b.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=
arguments[c],"number"===typeof e&&b<e&&(b=e);a.ma(b)};b.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.ma(b)};b.prototype.La=function(a){a.ma(this.j.La)};b.prototype.Zf=function(a){a.ma(this.j.Zf)};b.prototype.time=function(a){a.ma(this.j.Ac.Ia)};b.prototype.qe=function(a){a.Cb(this.j.qe)};b.prototype.un=function(a){a.Cb(this.j.un)};b.prototype.gp=function(a){a.Cb(this.j.gp)};b.prototype.M=
function(a,b,c,d,e){a.ma(Na(Ua(b,c,d,e)))};b.prototype.Yz=function(a,b,c,d){a.ma(ob(b,c,d))};b.prototype.Xz=function(a){this.j.Za?a.ma(this.j.Za.scale):a.ma(0)};b.prototype.left=function(a,b,c){a.bd(la(b)?b.substr(0,c):"")};b.prototype.right=function(a,b,c){a.bd(la(b)?b.substr(b.length-c):"")};b.prototype.replace=function(a,b,c,d){la(b)&&la(c)&&la(d)?a.bd(b.replace(new RegExp(Ib(c),"gi"),d)):a.bd(la(b)?b:"")};b.prototype.trim=function(a,b){a.bd(la(b)?b.trim():"")};b.prototype.zx=function(a){var b=
ta(Math.random()*(arguments.length-1));a.VA(arguments[b+1])};b.prototype.Ro=function(a){a.ma(this.j.Ro/1E3)};b.prototype.nj=function(a){a.ma(this.j.nj)};d.wb=new b;d.JA=function(){var a,b,c,d,f,h,v=this.j.Lc();a=0;for(c=this.Xd.length;a<c;a++){d=this.Xd[a];if(-1===d.time){if(!d.Yq)continue}else if(d.time>this.j.Ac.Ia)continue;v.Kc=d.Si;v.Kd=d.Kd;v.uc=0;for(b in d.Gd)d.Gd.hasOwnProperty(b)&&(f=this.j.ka[parseInt(b,10)].za(),h=d.Gd[b],f.Ha=h.On,Ea(f.G,h.ng),f=h,F(f.ng),k.push(f));d.Si.IA();this.j.Oo(d.sb);
d.Xo=!0}b=a=0;for(c=this.Xd.length;a<c;a++)d=this.Xd[a],this.Xd[b]=d,d.Xo?(tb(d.Gd),F(d.sb),e.push(d)):b++;Ca(this.Xd,b)}})();
(function(){Yb=function(a,b){var d=a[1],f=a[3],h=a[4],e=a[5],k=a[6],g=a[7],n=a[8];b.O||(b.O={});b.na||(b.na={});b.wb||(b.wb={});var l=b.O,m=b.na,q=b.wb;f&&(l.zB=function(a,b){return Vc(this.x,a,b)},l.Kv=function(a,b){return Vc(this.y,a,b)},l.EB=function(){var a=this.V;this.bb();var b=this.Jb;return!(b.right<a.Db||b.bottom<a.Eb||b.left>a.Nb||b.top>a.Mb)},l.GB=function(){this.bb();var a=this.Jb,b=this.j.Za;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},l.PB=function(a,b,c){var d=this.za(),
e=d.md();if(!e.length)return!1;var f=e[0],g=f,h=mb(f.x,f.y,b,c),k,l,m;k=1;for(l=e.length;k<l;k++)if(f=e[k],m=mb(f.x,f.y,b,c),0===a&&m<h||1===a&&m>h)h=m,g=f;d.cl(g);return!0},m.Sw=function(a){this.x!==a&&(this.x=a,this.Aa())},m.bC=function(a){this.y!==a&&(this.y=a,this.Aa())},m.Mw=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Aa()},m.ZB=function(a,b){var c=a.kz(this);if(c){var d;c.Se?(d=c.Se(b,!0),c=c.Se(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Aa()}},
m.bw=function(a){0!==a&&(this.x+=Math.cos(this.M)*a,this.y+=Math.sin(this.M)*a,this.Aa())},m.aw=function(a,b){0!==b&&(this.x+=Math.cos(Ma(a))*b,this.y+=Math.sin(Ma(a))*b,this.Aa())},q.Pl=function(a){a.ma(this.x)},q.Ql=function(a){a.ma(this.y)},q.La=function(a){a.ma(this.j.Zi(this))});h&&(l.yB=function(a,b){return Vc(this.width,a,b)},l.wB=function(a,b){return Vc(this.height,a,b)},m.Rr=function(a){this.width!==a&&(this.width=a,this.Aa())},m.YB=function(a){this.height!==a&&(this.height=a,this.Aa())},
m.$B=function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Aa()},q.fC=function(a){a.ma(this.width)},q.BB=function(a){a.ma(this.height)},q.sB=function(a){this.bb();a.ma(this.Jb.left)},q.uB=function(a){this.bb();a.ma(this.Jb.top)},q.tB=function(a){this.bb();a.ma(this.Jb.right)},q.rB=function(a){this.bb();a.ma(this.Jb.bottom)});e&&(l.Dv=function(a,b){return ab(this.M,Ma(b))<=Ma(a)},l.Tv=function(a){return eb(this.M,Ma(a))},l.Rv=function(a,b){var c=Ta(a),d=Ta(b),e=Ra(this.M);
return eb(d,c)?eb(e,c)&&!eb(e,d):!(!eb(e,c)&&eb(e,d))},m.Pr=function(a){a=Ma(Oa(a));isNaN(a)||this.M===a||(this.M=a,this.Aa())},m.TB=function(a){0===a||isNaN(a)||(this.M+=Ma(a),this.M=Ra(this.M),this.Aa())},m.UB=function(a){0===a||isNaN(a)||(this.M-=Ma(a),this.M=Ra(this.M),this.Aa())},m.VB=function(a,b){var c=bb(this.M,Ma(b),Ma(a));isNaN(c)||this.M===c||(this.M=c,this.Aa())},m.Ew=function(a,b,c){a=bb(this.M,Math.atan2(c-this.y,b-this.x),Ma(a));isNaN(a)||this.M===a||(this.M=a,this.Aa())},m.aC=function(a,
b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||this.M===c||(this.M=c,this.Aa())},q.Cv=function(a){a.ma(Sa(this.M))});d||(l.Iv=function(a,b,c){return Vc(this.zc[a],b,c)},l.Sv=function(a){return this.zc[a]},l.QB=function(a,b){var c=this.za(),d=c.md();if(!d.length)return!1;var e=d[0],f=e,g=e.zc[b],h,k,l;h=1;for(k=d.length;h<k;h++)if(e=d[h],l=e.zc[b],0===a&&l<g||1===a&&l>g)g=l,f=e;c.cl(f);return!0},l.OB=function(a){var b,c,d,e,f;if(this.j.Yi().Sm){f=this.za();if(f.Ha)for(f.Ha=!1,F(f.G),F(f.Wa),d=this.G,
b=0,c=d.length;b<c;b++)e=d[b],e.uid===a?f.Wa.push(e):f.G.push(e);else{d=b=0;for(c=f.G.length;b<c;b++)e=f.G[b],f.G[d]=e,e.uid===a?f.Wa.push(e):d++;Ca(f.G,d)}this.Le();return!!f.G.length}e=this.j.lh(a);if(!e)return!1;f=this.za();if(!f.Ha&&-1===f.G.indexOf(e))return!1;if(this.Da)for(a=e.type.Kb,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.cl(e),this.Le(),!0}else if(e.type===this)return f.cl(e),this.Le(),!0;return!1},l.Qh=function(){return!0},l.Gr=function(){return!0},m.Jw=function(a,b){var c=this.zc;
ka(c[a])?c[a]=ka(b)?b:parseFloat(b):la(c[a])&&(c[a]=la(b)?b:b.toString())},m.qB=function(a,b){var c=this.zc;ka(c[a])?c[a]=ka(b)?c[a]+b:c[a]+parseFloat(b):la(c[a])&&(c[a]=la(b)?c[a]+b:c[a]+b.toString())},m.cC=function(a,b){var c=this.zc;ka(c[a])&&(c[a]=ka(b)?c[a]-b:c[a]-parseFloat(b))},m.Gw=function(a,b){this.zc[a]=b?1:0},m.dC=function(a){this.zc[a]=1-this.zc[a]},m.zd=function(){this.j.Rg(this)},m.Yv||(m.Yv=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.j.jn(this,b,!0);this.hf&&this.hf();
if(this.Ba)for(a=0,b=this.Ba.length;a<b;++a)c=this.Ba[a],c.hf&&c.hf()}),q.AB=function(a){var b=a.Ai.G.length,c,d,e;c=0;for(d=this.j.mf.length;c<d;c++)e=this.j.mf[c],a.Ai.Da?0<=e.type.Kb.indexOf(a.Ai)&&b++:e.type===a.Ai&&b++;a.Cb(b)},q.SB=function(a){a.Cb(a.Ai.za().md().length)},q.eC=function(a){a.Cb(this.uid)},q.CB=function(a){a.Cb(this.lk())},q.Cr||(q.Cr=function(a){a.bd(JSON.stringify(this.j.Oq(this,!0)))}));k&&(l.Wv=function(){return this.visible},m.Qr=function(a){!a!==!this.visible&&(this.visible=
!!a,this.j.hb=!0)},l.xB=function(a,b){return Vc(Ub(100*this.opacity),a,b)},m.Lw=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.j.hb=!0)},q.Opacity=function(a){a.ma(Ub(100*this.opacity))});g&&(l.DB=function(a){return a?this.V===a:!1},l.RB=function(a){var b=this.za(),c=b.md();if(!c.length)return!1;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.V.index>e.V.index||d.V.index===e.V.index&&d.Nf()>e.Nf())e=d}else if(d.V.index<e.V.index||d.V.index===e.V.index&&
d.Nf()<e.Nf())e=d;b.cl(e);return!0},m.LB=function(){var a=this.V,b=a.G;b.length&&b[b.length-1]===this||(a.xj(this,!1),a.Tj(this,!1),this.j.hb=!0)},m.JB=function(){var a=this.V,b=a.G;b.length&&b[0]===this||(a.xj(this,!1),a.uA(this),this.j.hb=!0)},m.KB=function(a){a&&a!=this.V&&(this.V.xj(this,!0),this.V=a,a.Tj(this,!0),this.j.hb=!0)},m.hC=function(a,b){var c=0===a;if(b){var d=b.Ns(this);d&&d.uid!==this.uid&&(this.V.index!==d.V.index&&(this.V.xj(this,!0),this.V=d.V,d.V.Tj(this,!0)),this.V.eA(this,d,
c),this.j.hb=!0)}},q.IB=function(a){a.Cb(this.V.Xt)},q.HB=function(a){a.bd(this.V.name)},q.gC=function(a){a.Cb(this.Nf())});n&&(m.WB=function(a,b){if(this.j.ga){var c=this.type.lp(b);if(!(0>c)){var d=1===a;this.Vg[c]!==d&&(this.Vg[c]=d,this.xf(),this.j.hb=!0)}}},m.XB=function(a,b,c){if(this.j.ga){var d=this.type.lp(a);0>d||(a=this.type.Ma[d],d=this.Pb[d],b=Math.floor(b),0>b||b>=d.length||(1===this.j.ga.oz(a.qc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.tc&&(this.j.hb=!0))))}})};rc=function(){this.Ko=this.Go=
!0;this.type.Vl=!0;this.j.hb=!0;var a,b,d=this.Ho;a=0;for(b=d.length;a<b;++a)d[a](this);this.V.He&&this.bb()};sc=function(a){a&&this.Ho.push(a)};uc=function(){if(this.Go){var a=this.Jb,b=this.ub;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.Nd*this.width,-this.Od*this.height);this.M?(a.offset(-this.x,-this.y),b.Pu(a,this.M),b.offset(this.x,this.y),b.gs(a)):b.Bj(a);a.normalize();this.Go=!1;this.jB()}};var a=new wa(0,0,0,0);vc=function(){if(this.V.He){var c=this.V.$c,b=this.Jb;
a.set(c.Id(b.left),c.Jd(b.top),c.Id(b.right),c.Jd(b.bottom));this.Ud.ak(a)||(this.Ud.right<this.Ud.left?c.update(this,null,a):c.update(this,this.Ud,a),this.Ud.Wj(a),this.V.uf=!0)}};wc=function(){if(this.Ko&&this.If){this.bb();var c=this.type.hm,b=this.Jb;a.set(c.Id(b.left),c.Jd(b.top),c.Id(b.right),c.Jd(b.bottom));this.bh.ak(a)||(this.bh.right<this.bh.left?c.update(this,null,a):c.update(this,this.bh,a),this.bh.Wj(a),this.Ko=!1)}};tc=function(a,b){return this.Jb.wc(a,b)&&this.ub.wc(a,b)?this.Ka&&!this.Ka.oh()?
(this.Ka.Zg(this.width,this.height,this.M),this.Ka.wc(a-this.x,b-this.y)):!0:!1};nc=function(){this.type.ko();return this.ji};xc=function(){this.V.sr();return this.yf};yc=function(){F(this.mb);var a,b,d,f=!0;a=0;for(b=this.Vg.length;a<b;a++)this.Vg[a]&&(d=this.type.Ma[a],this.mb.push(d),d.sf||(f=!1));this.xv=!!this.mb.length;this.Gg=f};oc=function(){return"Inst"+this.yu};ac=function(a){if(a&&a.qd&&a.type!=this){var b,d,f;b=0;for(d=a.siblings.length;b<d;b++)if(f=a.siblings[b],f.type==this)return f}a=
this.za().md();return a.length?a[0]:null};bc=function(a){var b=this.za().md();return b.length?b[a.lk()%b.length]:null};$b=function(){if(this.Dj&&!this.Da){var a,b;a=0;for(b=this.G.length;a<b;a++)this.G[a].ji=a;var d=a,f=this.j.mf;a=0;for(b=f.length;a<b;++a)f[a].type===this&&(f[a].ji=d++);this.Dj=!1}};lc=function(a){if(a<this.G.length)return this.G[a];a-=this.G.length;var b=this.j.mf,d,f;d=0;for(f=b.length;d<f;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};cc=function(){return this.Ig[this.Jf]};
dc=function(){this.Jf++;this.Jf===this.Ig.length?this.Ig.push(new Zb(this)):(this.Ig[this.Jf].Ha=!0,F(this.Ig[this.Jf].Wa))};ec=function(){this.Jf++;this.Jf===this.Ig.length&&this.Ig.push(new Zb(this));var a=this.Ig[this.Jf],b=this.Ig[this.Jf-1];b.Ha?(a.Ha=!0,F(a.Wa)):(a.Ha=!1,Ea(a.G,b.G),Ea(a.Wa,b.Wa))};fc=function(){this.Jf--};gc=function(a){var b,d,f,h,e,k=0;if(!this.Da)for(b=0,d=this.Kb.length;b<d;b++)for(e=this.Kb[b],f=0,h=e.Ob.length;f<h;f++){if(a===e.Ob[f].name)return this.fa.lastBehIndex=
k,e.Ob[f];k++}b=0;for(d=this.Ob.length;b<d;b++){if(a===this.Ob[b].name)return this.fa.lastBehIndex=k,this.Ob[b];k++}return null};hc=function(a){return this.Lm(a)?this.fa.lastBehIndex:-1};ic=function(a){var b,d;b=0;for(d=this.Ma.length;b<d;b++)if(this.Ma[b].name===a)return b;return-1};kc=function(){if(this.qd&&!this.Da){var a,b,d,f,h,e,k;this.ko();e=this.za();var g=e.Ha,n=(a=this.j.Lc())&&a.Kc&&a.Kc.qf;a=0;for(b=this.ae.length;a<b;a++)if(h=this.ae[a],h!==this&&(h.ko(),k=h.za(),k.Ha=g,!g)){F(k.G);d=
0;for(f=e.G.length;d<f;++d)k.G[d]=h.mp(e.G[d].ji);if(n)for(F(k.Wa),d=0,f=e.Wa.length;d<f;++d)k.Wa[d]=h.mp(e.Wa[d].ji)}}};mc=function(){return"Type"+this.$a};Vc=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();var nd={};function qd(a){this.j=a}
(function(){function a(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function c(a){a=a.toLowerCase();return da.hasOwnProperty(a)&&da[a].length?da[a][0].ze():D.destination}function b(){return D.createGain?D.createGain():D.createGainNode()}function d(a){return D.createDelay?D.createDelay(a):D.createDelayNode(a)}function f(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function h(a,b,c,d){a.start?a.start(d||0,b):a.noteGrainOn(d||0,b,c-b)}function e(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}
function k(a,c,d,e,f,g){this.type="filter";this.Ub=[a,c,d,e,f,g];this.fb=b();this.Ja=b();this.Ja.gain.value=g;this.Ca=b();this.Ca.gain.value=1-g;this.mc=D.createBiquadFilter();this.mc.type="number"===typeof this.mc.type?a:Dd[a];this.mc.frequency.value=c;this.mc.detune&&(this.mc.detune.value=d);this.mc.Q.value=e;this.mc.gain.value=f;this.fb.connect(this.mc);this.fb.connect(this.Ca);this.mc.connect(this.Ja)}function g(a,c,e){this.type="delay";this.Ub=[a,c,e];this.fb=b();this.Ja=b();this.Ja.gain.value=
e;this.Ca=b();this.Ca.gain.value=1-e;this.Tk=b();this.Qe=d(a);this.Qe.delayTime.value=a;this.um=b();this.um.gain.value=c;this.fb.connect(this.Tk);this.fb.connect(this.Ca);this.Tk.connect(this.Ja);this.Tk.connect(this.Qe);this.Qe.connect(this.um);this.um.connect(this.Tk)}function n(a,c,d,e){this.type="convolve";this.Ub=[c,d,e];this.fb=b();this.Ja=b();this.Ja.gain.value=d;this.Ca=b();this.Ca.gain.value=1-d;this.Yh=D.createConvolver();a&&(this.Yh.normalize=c,this.Yh.buffer=a);this.fb.connect(this.Yh);
this.fb.connect(this.Ca);this.Yh.connect(this.Ja)}function l(a,c,e,g,h){this.type="flanger";this.Ub=[a,c,e,g,h];this.fb=b();this.Ca=b();this.Ca.gain.value=1-h/2;this.Ja=b();this.Ja.gain.value=h/2;this.Dm=b();this.Dm.gain.value=g;this.Qe=d(a+c);this.Qe.delayTime.value=a;this.Pc=D.createOscillator();this.Pc.frequency.value=e;this.le=b();this.le.gain.value=c;this.fb.connect(this.Qe);this.fb.connect(this.Ca);this.Qe.connect(this.Ja);this.Qe.connect(this.Dm);this.Dm.connect(this.Qe);this.Pc.connect(this.le);
this.le.connect(this.Qe.delayTime);f(this.Pc)}function m(a,c,d,e,g,h){this.type="phaser";this.Ub=[a,c,d,e,g,h];this.fb=b();this.Ca=b();this.Ca.gain.value=1-h/2;this.Ja=b();this.Ja.gain.value=h/2;this.mc=D.createBiquadFilter();this.mc.type="number"===typeof this.mc.type?7:"allpass";this.mc.frequency.value=a;this.mc.detune&&(this.mc.detune.value=c);this.mc.Q.value=d;this.Pc=D.createOscillator();this.Pc.frequency.value=g;this.le=b();this.le.gain.value=e;this.fb.connect(this.mc);this.fb.connect(this.Ca);
this.mc.connect(this.Ja);this.Pc.connect(this.le);this.le.connect(this.mc.frequency);f(this.Pc)}function q(a){this.type="gain";this.Ub=[a];this.lb=b();this.lb.gain.value=a}function p(a,c){this.type="tremolo";this.Ub=[a,c];this.lb=b();this.lb.gain.value=1-c/2;this.Pc=D.createOscillator();this.Pc.frequency.value=a;this.le=b();this.le.gain.value=c/2;this.Pc.connect(this.le);this.le.connect(this.lb.gain);f(this.Pc)}function v(a,c){this.type="ringmod";this.Ub=[a,c];this.fb=b();this.Ja=b();this.Ja.gain.value=
c;this.Ca=b();this.Ca.gain.value=1-c;this.ll=b();this.ll.gain.value=0;this.Pc=D.createOscillator();this.Pc.frequency.value=a;this.Pc.connect(this.ll.gain);f(this.Pc);this.fb.connect(this.ll);this.fb.connect(this.Ca);this.ll.connect(this.Ja)}function r(a,c,d,e,f){this.type="distortion";this.Ub=[a,c,d,e,f];this.fb=b();this.Gn=b();this.Fn=b();this.QA(d,Math.pow(10,e/20));this.Ja=b();this.Ja.gain.value=f;this.Ca=b();this.Ca.gain.value=1-f;this.qo=D.createWaveShaper();this.rm=new Float32Array(65536);this.$y(a,
c);this.qo.rm=this.rm;this.fb.connect(this.Gn);this.fb.connect(this.Ca);this.Gn.connect(this.qo);this.qo.connect(this.Fn);this.Fn.connect(this.Ja)}function u(a,b,c,d,e){this.type="compressor";this.Ub=[a,b,c,d,e];this.lb=D.createDynamicsCompressor();try{this.lb.threshold.value=a,this.lb.knee.value=b,this.lb.ratio.value=c,this.lb.attack.value=d,this.lb.release.value=e}catch(f){}}function t(a,b){this.type="analyser";this.Ub=[a,b];this.lb=D.createAnalyser();this.lb.fftSize=a;this.lb.smoothingTimeConstant=
b;this.Yy=new Float32Array(this.lb.frequencyBinCount);this.Su=new Uint8Array(a);this.bl=0}function y(){this.Fa=null;this.ln=0;this.Jh=[];this.iq=this.an=this.$m=0}function z(a,c){this.src=a;this.Ya=H;this.Ue=c;this.Ul=!1;var d=this;this.gq=this.vq=null;this.wj=[];this.Pn=0;this.xr=this.Bm=this.Xu=this.An=!1;1===H&&c&&!xb&&(this.Ya=0,this.vq=b());this.dg=this.nb=null;var e;switch(this.Ya){case 0:this.nb=new Audio;this.nb.crossOrigin="anonymous";this.nb.addEventListener("canplaythrough",function(){d.xr=
!0});1===H&&D.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.Xu=!0,this.nb.addEventListener("canplay",function(){d.gq||(d.gq=D.createMediaElementSource(d.nb),d.gq.connect(d.vq))}));this.nb.autoplay=!1;this.nb.tC="auto";this.nb.src=a;break;case 1:w.Bk?w.Ds(a,function(a){d.dg=a;d.us()},function(){d.Bm=!0}):(e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){d.dg=e.response;d.us()},e.onerror=function(){d.Bm=!0},e.send());break;case 2:this.nb=
!0;break;case 3:this.nb=!0}}function B(a,d){var e=this;this.tag=d;this.Rc=this.Mf=!0;this.src=a.src;this.buffer=a;this.Ya=H;this.Ue=a.Ue;this.playbackRate=1;this.bj=!0;this.fe=this.Fe=!1;this.Vd=0;this.Ck=this.gj=this.Pf=!1;this.volume=1;this.tq=function(a){if(!e.fe&&!e.Fe){var b=this;b||(b=a.target);b===e.Sl&&(e.bj=!0,e.Rc=!0,Y=e.tag,w.trigger(qd.prototype.O.Ll,I))}};this.Sl=null;this.dj=1===P&&!this.Ue||2===P;this.sj=1;this.startTime=this.dj?w.Ac.Ia:w.Lg.Ia;this.ic=this.xc=null;this.Rf=!1;this.hc=
null;this.ku=this.ju=this.iu=this.hu=this.mu=this.lu=0;this.X=null;var f=!1;1!==this.Ya||0!==this.buffer.Ya||this.buffer.Xu||(this.Ya=0);switch(this.Ya){case 0:this.Ue?(this.X=a.nb,f=!a.Ul,a.Ul=!0):(this.X=new Audio,this.X.crossOrigin="anonymous",this.X.autoplay=!1,this.X.src=a.nb.src,f=!0);f&&this.X.addEventListener("ended",function(){Y=e.tag;e.Rc=!0;w.trigger(qd.prototype.O.Ll,I)});break;case 1:this.xc=b();this.xc.connect(c(d));1===this.buffer.Ya?a.nb&&(this.X=D.createBufferSource(),this.X.buffer=
a.nb,this.X.connect(this.xc)):(this.X=this.buffer.nb,this.buffer.vq.connect(this.xc),this.buffer.Ul||(this.buffer.Ul=!0,this.buffer.nb.addEventListener("ended",function(){Y=e.tag;e.Rc=!0;w.trigger(qd.prototype.O.Ll,I)})));break;case 2:this.X=new window.Media(L+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(e.bj=!0,e.Rc=!0,Y=e.tag,w.trigger(qd.prototype.O.Ll,I))});break;case 3:this.X=!0}}function E(a,b){da.hasOwnProperty(a)?da[a].push(b):da[a]=[b];var c,d,e,f,g=D.destination;if(da.hasOwnProperty(a)&&
(e=da[a],e.length))for(g=e[0].ze(),c=0,d=e.length;c<d;c++)f=e[c],c+1===d?f.Oe(D.destination):f.Oe(e[c+1].ze());F(yb);if(a.length)for(c=0,d=N.length;c<d;c++)e=N[c],Vb(a,e.tag)&&yb.push(e);else W&&!W.ii()&&(F(yb),yb[0]=W);c=0;for(d=yb.length;c<d;c++)yb[c].CA(g);wb&&db===a&&(wb.disconnect(),wb.connect(g))}function C(){}function G(){}var A=qd.prototype;A.pb=function(a){this.yb=a;this.j=a.j};A.pb.prototype.Ga=function(){};var w=null,I=null,Y="",L="",H=0,D=null,X=[],N=[],W=null,O=!1,P=0,Q=!1,M=1,K=0,U=
0,Pa=!1,Z=1,Qa=1,Ba=10,qb=1E4,cb=1,wb=null,db="",rb=!1,sa=[],xb=!1,da={},Dd="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");k.prototype.Oe=function(a){this.Ja.disconnect();this.Ja.connect(a);this.Ca.disconnect();this.Ca.connect(a)};k.prototype.remove=function(){this.fb.disconnect();this.mc.disconnect();this.Ja.disconnect();this.Ca.disconnect()};k.prototype.ze=function(){return this.fb};g.prototype.Oe=function(a){this.Ja.disconnect();this.Ja.connect(a);this.Ca.disconnect();
this.Ca.connect(a)};g.prototype.remove=function(){this.fb.disconnect();this.Tk.disconnect();this.Qe.disconnect();this.um.disconnect();this.Ja.disconnect();this.Ca.disconnect()};g.prototype.ze=function(){return this.fb};n.prototype.Oe=function(a){this.Ja.disconnect();this.Ja.connect(a);this.Ca.disconnect();this.Ca.connect(a)};n.prototype.remove=function(){this.fb.disconnect();this.Yh.disconnect();this.Ja.disconnect();this.Ca.disconnect()};n.prototype.ze=function(){return this.fb};l.prototype.Oe=function(a){this.Ca.disconnect();
this.Ca.connect(a);this.Ja.disconnect();this.Ja.connect(a)};l.prototype.remove=function(){this.fb.disconnect();this.Qe.disconnect();this.Pc.disconnect();this.le.disconnect();this.Ca.disconnect();this.Ja.disconnect();this.Dm.disconnect()};l.prototype.ze=function(){return this.fb};m.prototype.Oe=function(a){this.Ca.disconnect();this.Ca.connect(a);this.Ja.disconnect();this.Ja.connect(a)};m.prototype.remove=function(){this.fb.disconnect();this.mc.disconnect();this.Pc.disconnect();this.le.disconnect();
this.Ca.disconnect();this.Ja.disconnect()};m.prototype.ze=function(){return this.fb};q.prototype.Oe=function(a){this.lb.disconnect();this.lb.connect(a)};q.prototype.remove=function(){this.lb.disconnect()};q.prototype.ze=function(){return this.lb};p.prototype.Oe=function(a){this.lb.disconnect();this.lb.connect(a)};p.prototype.remove=function(){this.Pc.disconnect();this.le.disconnect();this.lb.disconnect()};p.prototype.ze=function(){return this.lb};v.prototype.Oe=function(a){this.Ja.disconnect();this.Ja.connect(a);
this.Ca.disconnect();this.Ca.connect(a)};v.prototype.remove=function(){this.Pc.disconnect();this.ll.disconnect();this.fb.disconnect();this.Ja.disconnect();this.Ca.disconnect()};v.prototype.ze=function(){return this.fb};r.prototype.QA=function(a,b){.01>a&&(a=.01);this.Gn.gain.value=a;this.Fn.gain.value=Math.pow(1/a,.6)*b};r.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};r.prototype.$y=function(a,b){for(var c=Math.pow(10,a/20),
d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.rm[32768+f]=e,this.rm[32768-f-1]=-e};r.prototype.Oe=function(a){this.Ja.disconnect();this.Ja.connect(a);this.Ca.disconnect();this.Ca.connect(a)};r.prototype.remove=function(){this.fb.disconnect();this.Gn.disconnect();this.qo.disconnect();this.Fn.disconnect();this.Ja.disconnect();this.Ca.disconnect()};r.prototype.ze=function(){return this.fb};u.prototype.Oe=function(a){this.lb.disconnect();this.lb.connect(a)};u.prototype.remove=
function(){this.lb.disconnect()};u.prototype.ze=function(){return this.lb};t.prototype.Yb=function(){this.lb.getFloatFrequencyData(this.Yy);this.lb.getByteTimeDomainData(this.Su);for(var b=this.lb.fftSize,c=0,d=this.bl=0,e=0;c<b;c++)e=(this.Su[c]-128)/128,0>e&&(e=-e),this.bl<e&&(this.bl=e),d+=e*e;this.bl=a(this.bl);a(Math.sqrt(d/b))};t.prototype.Oe=function(a){this.lb.disconnect();this.lb.connect(a)};t.prototype.remove=function(){this.lb.disconnect()};t.prototype.ze=function(){return this.lb};y.prototype.ml=
function(a){if(this.Fa=a)this.$m=this.Fa.x,this.an=this.Fa.y;F(this.Jh)};y.prototype.Pm=function(){return!!this.Fa};y.prototype.Yb=function(a){this.Fa&&0!==a&&(this.iq=Ua(this.$m,this.an,this.Fa.x,this.Fa.y),a=mb(this.$m,this.an,this.Fa.x,this.Fa.y)/a,4>this.Jh.length||this.Jh.shift(),this.Jh.push(a),this.$m=this.Fa.x,this.an=this.Fa.y)};y.prototype.Rs=function(){if(!this.Jh.length)return 0;var a,b,c=0;a=0;for(b=this.Jh.length;a<b;a++)c+=this.Jh[a];return c/this.Jh.length};y.prototype.qp=function(){return Math.cos(this.iq)*
this.Rs()};y.prototype.rp=function(){return Math.sin(this.iq)*this.Rs()};var jc=!1;z.prototype.DA=function(){var a,b,c,d;c=a=0;for(b=N.length;a<b;++a)d=N[a],N[c]=d,d.buffer===this?d.stop():++c;N.length=c;this.dg=this.nb=null};z.prototype.us=function(){if(!this.nb&&this.dg){var a=this;if(D.decodeAudioData)D.decodeAudioData(this.dg,function(b){a.nb=b;a.dg=null;var c,d,e;if(ja(a.Cn)||Q)ja(a.lm)||(c=a.lm.Yh,c.normalize=a.Wt,c.buffer=b);else if(a.wj.length){c=0;for(d=a.wj.length;c<d;c++){b=a.wj[c];e=new B(a,
b.gv);e.Uq(!0);if("undefined"!==typeof b.Yt&&(b.Fa=w.lh(b.Yt),!b.Fa))continue;if(b.Fa){var f=fb(b.Fa.x,b.Fa.y,-b.Fa.V.ac(),K,U,!0),g=fb(b.Fa.x,b.Fa.y,-b.Fa.V.ac(),K,U,!1);e.Tq(f,g,Na(b.Fa.M-b.Fa.V.ac()),b.wp,b.kq,b.nq);e.ml(b.Fa)}else e.Tq(b.x,b.y,b.T,b.wp,b.kq,b.nq);e.play(a.cq,a.ur,a.Pn);a.An&&e.pause();N.push(e)}F(a.wj)}else e=new B(a,a.Cn||""),e.play(a.cq,a.ur,a.Pn),a.An&&e.pause(),N.push(e)},function(){a.Bm=!0});else if(this.nb=D.createBuffer(this.dg,!1),this.dg=null,ja(this.Cn)||Q)ja(this.lm)||
(b=this.lm.Yh,b.normalize=this.Wt,b.buffer=this.nb);else{var b=new B(this,this.Cn);b.play(this.cq,this.ur,this.Pn);this.An&&b.pause();N.push(b)}}};z.prototype.gt=function(){switch(this.Ya){case 0:var a=4<=this.nb.readyState;a&&(this.xr=!0);return a||this.xr;case 1:return!!this.dg||!!this.nb;case 2:return!0;case 3:return!0}return!1};z.prototype.Pz=function(){switch(this.Ya){case 0:return this.gt();case 1:return!!this.nb;case 2:return!0;case 3:return!0}return!1};z.prototype.Gz=function(){switch(this.Ya){case 0:return!!this.nb.error;
case 1:return this.Bm}return!1};B.prototype.ii=function(){switch(this.Ya){case 0:return this.X.ended;case 1:return 1===this.buffer.Ya?!this.Mf&&!this.Rc&&this.X.loop||this.fe?!1:this.bj:this.X.ended;case 2:return this.bj;case 3:!0}return!0};B.prototype.wx=function(){return this.Mf||this.Rc?!0:this.ii()};B.prototype.Uq=function(a){1===H&&(!this.Rf&&a?this.xc&&(this.ic||(this.ic=D.createPanner(),this.ic.panningModel="number"===typeof this.ic.panningModel?Z:["equalpower","HRTF","soundfield"][Z],this.ic.distanceModel=
"number"===typeof this.ic.distanceModel?Qa:["linear","inverse","exponential"][Qa],this.ic.refDistance=Ba,this.ic.maxDistance=qb,this.ic.rolloffFactor=cb),this.xc.disconnect(),this.xc.connect(this.ic),this.ic.connect(c(this.tag)),this.Rf=!0):this.Rf&&!a&&this.xc&&(this.ic.disconnect(),this.xc.disconnect(),this.xc.connect(c(this.tag)),this.Rf=!1))};B.prototype.Tq=function(a,b,c,d,e,f){this.Rf&&1===H&&(this.ic.setPosition(a,b,0),this.ic.setOrientation(Math.cos(Ma(c)),Math.sin(Ma(c)),0),this.ic.coneInnerAngle=
d,this.ic.coneOuterAngle=e,this.ic.coneOuterGain=f,this.lu=a,this.mu=b,this.hu=c,this.iu=d,this.ju=e,this.ku=f)};B.prototype.ml=function(a){this.Rf&&1===H&&(this.hc||(this.hc=new y),this.hc.ml(a))};B.prototype.Yb=function(a){if(this.Rf&&1===H&&this.hc&&this.hc.Pm()&&this.zk()){this.hc.Yb(a);a=this.hc.Fa;var b=fb(a.x,a.y,-a.V.ac(),K,U,!0),c=fb(a.x,a.y,-a.V.ac(),K,U,!1);this.ic.setPosition(b,c,0);b=0;"undefined"!==typeof this.hc.Fa.M&&(b=a.M-a.V.ac(),this.ic.setOrientation(Math.cos(b),Math.sin(b),0));
b=fb(this.hc.qp(),this.hc.rp(),-a.V.ac(),0,0,!0);c=fb(this.hc.qp(),this.hc.rp(),-a.V.ac(),0,0,!1);this.ic.setVelocity(b,c,0)}};B.prototype.play=function(a,b,c,d){var e=this.X;this.Pf=a;this.volume=b;c=c||0;d=d||0;switch(this.Ya){case 0:1!==e.playbackRate&&(e.playbackRate=1);e.volume!==b*M&&(e.volume=b*M);e.loop!==a&&(e.loop=a);e.muted&&(e.muted=!1);if(e.currentTime!==c)try{e.currentTime=c}catch(g){}if(this.Ue&&rb&&!w.Yc)sa.push(this);else try{this.X.play()}catch(k){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+
this.buffer.src+"': ",k)}break;case 1:this.muted=!1;this.sj=1;if(1===this.buffer.Ya)this.xc.gain.value=b*M,this.Mf||(this.X=D.createBufferSource(),this.X.buffer=this.buffer.nb,this.X.connect(this.xc)),this.X.onended=this.tq,this.Sl=this.X,this.X.loop=a,this.bj=!1,0===c?f(this.X,d):h(this.X,c,this.fi(),d);else{1!==e.playbackRate&&(e.playbackRate=1);e.loop!==a&&(e.loop=a);e.volume=b*M;if(e.currentTime!==c)try{e.currentTime=c}catch(l){}this.Ue&&rb&&!w.Yc?sa.push(this):e.play()}break;case 2:(!this.Mf&&
this.Rc||0!==c)&&e.seekTo(c);e.play();this.bj=!1;break;case 3:w.od?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.dj?w.Ac.Ia:w.Lg.Ia)-c;this.fe=this.Rc=this.Mf=!1};B.prototype.stop=function(){switch(this.Ya){case 0:this.X.paused||this.X.pause();break;case 1:1===this.buffer.Ya?e(this.X):this.X.paused||this.X.pause();break;case 2:this.X.stop();break;case 3:w.od&&AppMobi.context.stopSound(this.src)}this.Rc=!0;this.fe=!1};B.prototype.pause=
function(){if(!(this.Mf||this.Rc||this.ii()||this.fe)){switch(this.Ya){case 0:this.X.paused||this.X.pause();break;case 1:1===this.buffer.Ya?(this.Vd=this.np(!0),this.Pf&&(this.Vd=this.Vd%this.fi()),this.fe=!0,e(this.X)):this.X.paused||this.X.pause();break;case 2:this.X.pause();break;case 3:w.od&&AppMobi.context.stopSound(this.src)}this.fe=!0}};B.prototype.HA=function(){if(!(this.Mf||this.Rc||this.ii())&&this.fe){switch(this.Ya){case 0:this.X.play();break;case 1:1===this.buffer.Ya?(this.X=D.createBufferSource(),
this.X.buffer=this.buffer.nb,this.X.connect(this.xc),this.X.onended=this.tq,this.Sl=this.X,this.X.loop=this.Pf,this.xc.gain.value=M*this.volume*this.sj,this.lo(),this.startTime=(this.dj?w.Ac.Ia:w.Lg.Ia)-this.Vd/(this.playbackRate||.001),h(this.X,this.Vd,this.fi())):this.X.play();break;case 2:this.X.play();break;case 3:w.od&&AppMobi.context.resumeSound(this.src)}this.fe=!1}};B.prototype.seek=function(a){if(!(this.Mf||this.Rc||this.ii()))switch(this.Ya){case 0:try{this.X.currentTime=a}catch(b){}break;
case 1:if(1===this.buffer.Ya)this.fe?this.Vd=a:(this.pause(),this.Vd=a,this.HA());else try{this.X.currentTime=a}catch(c){}break;case 3:w.od&&AppMobi.context.seekSound(this.src,a)}};B.prototype.CA=function(a){1===this.Ya&&(this.Rf?(this.ic.disconnect(),this.ic.connect(a)):(this.xc.disconnect(),this.xc.connect(a)))};B.prototype.fi=function(){var a=0;switch(this.Ya){case 0:"undefined"!==typeof this.X.duration&&(a=this.X.duration);break;case 1:a=this.buffer.nb.duration;break;case 2:a=this.X.getDuration();
break;case 3:w.od&&(a=AppMobi.context.getDurationSound(this.src))}return a};B.prototype.np=function(a){var b=this.fi(),c=0;switch(this.Ya){case 0:"undefined"!==typeof this.X.currentTime&&(c=this.X.currentTime);break;case 1:if(1===this.buffer.Ya){if(this.fe)return this.Vd;c=(this.dj?w.Ac.Ia:w.Lg.Ia)-this.startTime}else"undefined"!==typeof this.X.currentTime&&(c=this.X.currentTime);break;case 3:w.od&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.Pf&&c>b&&(c=b);return c};
B.prototype.zk=function(){return!this.fe&&!this.Mf&&!this.Rc&&!this.ii()};B.prototype.WA=function(){return!this.Mf&&!this.Rc&&!this.ii()};B.prototype.hB=function(){var a=this.volume*M;isFinite(a)||(a=0);switch(this.Ya){case 0:"undefined"!==typeof this.X.volume&&this.X.volume!==a&&(this.X.volume=a);break;case 1:1===this.buffer.Ya?this.xc.gain.value=a*this.sj:"undefined"!==typeof this.X.volume&&this.X.volume!==a&&(this.X.volume=a)}};B.prototype.ym=function(a){switch(this.Ya){case 0:this.X.muted!==!!a&&
(this.X.muted=!!a);break;case 1:1===this.buffer.Ya?(this.sj=a?0:1,this.xc.gain.value=M*this.volume*this.sj):this.X.muted!==!!a&&(this.X.muted=!!a)}};B.prototype.RA=function(){this.gj=!0;this.ym(this.gj||this.Ck)};B.prototype.Sn=function(a){this.Ck=!!a;this.ym(this.gj||this.Ck)};B.prototype.lo=function(){var a=this.playbackRate;this.dj&&(a*=w.Zf);switch(this.Ya){case 0:this.X.playbackRate!==a&&(this.X.playbackRate=a);break;case 1:1===this.buffer.Ya?this.X.playbackRate.value!==a&&(this.X.playbackRate.value=
a):this.X.playbackRate!==a&&(this.X.playbackRate=a)}};B.prototype.TA=function(a){switch(this.Ya){case 0:a?this.zk()?(this.Fe=!0,this.X.pause()):this.Fe=!1:this.Fe&&(this.X.play(),this.Fe=!1);break;case 1:a?this.zk()?(this.Fe=!0,1===this.buffer.Ya?(this.Vd=this.np(!0),this.Pf&&(this.Vd=this.Vd%this.fi()),e(this.X)):this.X.pause()):this.Fe=!1:this.Fe&&(1===this.buffer.Ya?(this.X=D.createBufferSource(),this.X.buffer=this.buffer.nb,this.X.connect(this.xc),this.X.onended=this.tq,this.Sl=this.X,this.X.loop=
this.Pf,this.xc.gain.value=M*this.volume*this.sj,this.lo(),this.startTime=(this.dj?w.Ac.Ia:w.Lg.Ia)-this.Vd/(this.playbackRate||.001),h(this.X,this.Vd,this.fi())):this.X.play(),this.Fe=!1);break;case 2:a?this.zk()?(this.X.pause(),this.Fe=!0):this.Fe=!1:this.Fe&&(this.Fe=!1,this.X.play())}};A.ab=function(a){this.type=a;w=this.j=a.j;I=this;this.Dd=null;this.Kk=-600;this.j.Bk&&(xb=!0);!(this.j.jj||this.j.Tm&&(this.j.tk||this.j.Um))||this.j.uk||this.j.fc||this.j.Cp||xb||(rb=!0);D=null;"undefined"!==typeof AudioContext?
(H=1,D=new AudioContext):"undefined"!==typeof webkitAudioContext&&(H=1,D=new webkitAudioContext);this.j.jj&&D&&(D.close&&D.close(),"undefined"!==typeof AudioContext?D=new AudioContext:"undefined"!==typeof webkitAudioContext&&(D=new webkitAudioContext));rb&&document.addEventListener("touchend",function(){if(!jc&&D){if(!Pa&&D.createBuffer){var a=D.createBuffer(1,220,22050),b=D.createBufferSource();b.buffer=a;b.connect(D.destination);f(b)}jc=!0}var c;if(rb){if(!Q)for(a=0,b=sa.length;a<b;++a)c=sa[a],
c.Rc||c.fe||c.X.play();F(sa)}},!0);1!==H&&(this.j.ee&&"undefined"!==typeof window.Media?H=2:this.j.ft&&(H=3));2===H&&(L=location.href,a=L.lastIndexOf("/"),-1<a&&(L=L.substr(0,a+1)),L=L.replace("file://",""));if(this.j.Rz&&this.j.Sz&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.j.Rg(this);else{if(this.j.od)O=this.j.Tm;else try{O=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(b){O=
!1}this.j.co(this)}};var Ha=A.ab.prototype;Ha.Ga=function(){this.j.Pi=this;P=this.ea[0];this.Eg=this.ea[1];this.oA=0!==this.ea[2];this.Ut=0;Z=this.ea[3];Qa=this.ea[4];this.Kk=-this.ea[5];Ba=this.ea[6];qb=this.ea[7];cb=this.ea[8];this.Dd=new y;var a=this.j.ya||this.j.width,b=this.j.xa||this.j.height;1===H&&("undefined"!==typeof D.listener.dopplerFactor&&(D.listener.dopplerFactor=0),D.listener.setPosition(a/2,b/2,this.Kk),D.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,
b){wb&&wb.disconnect();db=b.toLowerCase();wb=D.createMediaStreamSource(a);wb.connect(c(db))});this.j.Yr(function(a){I.kA(a)});var d=this;this.j.Tl(function(a){d.$k(a)})};Ha.$k=function(a){var b,c,d;b=0;for(c=N.length;b<c;b++)d=N[b],d.hc&&d.hc.Fa===a&&(d.hc.Fa=null,d.Rf&&d.zk()&&d.Pf&&d.stop());this.Dd.Fa===a&&(this.Dd.Fa=null)};Ha.Qc=function(){var a={silent:Q,masterVolume:M,listenerZ:this.Kk,listenerUid:this.Dd.Pm()?this.Dd.Fa.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,g,h;c=0;for(d=N.length;c<
d;c++)e=N[c],!e.WA()||3===this.Eg||e.Ue&&1===this.Eg||!e.Ue&&2===this.Eg||(f=e.np(),e.Pf&&(f=f%e.fi()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.Ue,playbackTime:f,volume:e.volume,looping:e.Pf,muted:e.gj,playbackRate:e.playbackRate,paused:e.fe,resume_position:e.Vd},e.Rf&&(f.pan={},h=f.pan,e.hc&&e.hc.Pm()?h.objUid=e.hc.Fa.uid:(h.x=e.lu,h.y=e.mu,h.a=e.hu),h.ia=e.iu,h.oa=e.ju,h.og=e.ku),b.push(f));b=a.effects;for(g in da)if(da.hasOwnProperty(g)){e=[];c=0;for(d=da[g].length;c<d;c++)e.push({type:da[g][c].type,
params:da[g][c].Ub});b[g]=e}return a};var zb=[];Ha.sd=function(a){var b=a.silent;M=a.masterVolume;this.Kk=a.listenerZ;this.Dd.ml(null);var c=a.listenerUid;-1!==c&&(this.Dd.ln=c,zb.push(this.Dd));var c=a.playing,d,e,f,h,z,B,A,G,C,w,D;if(3!==this.Eg)for(d=0,e=N.length;d<e;d++)C=N[d],C.Ue&&1===this.Eg||(C.Ue||2!==this.Eg)&&C.stop();for(z in da)if(da.hasOwnProperty(z))for(d=0,e=da[z].length;d<e;d++)da[z][d].remove();tb(da);for(z in a.effects)if(a.effects.hasOwnProperty(z))for(B=a.effects[z],d=0,e=B.length;d<
e;d++)switch(f=B[d].type,w=B[d].params,f){case "filter":E(z,new k(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "delay":E(z,new g(w[0],w[1],w[2]));break;case "convolve":f=w[2];C=this.Km(f,!1);C.nb?f=new n(C.nb,w[0],w[1],f):(f=new n(null,w[0],w[1],f),C.Wt=w[0],C.lm=f);E(z,f);break;case "flanger":E(z,new l(w[0],w[1],w[2],w[3],w[4]));break;case "phaser":E(z,new m(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "gain":E(z,new q(w[0]));break;case "tremolo":E(z,new p(w[0],w[1]));break;case "ringmod":E(z,new v(w[0],
w[1]));break;case "distortion":E(z,new r(w[0],w[1],w[2],w[3],w[4]));break;case "compressor":E(z,new u(w[0],w[1],w[2],w[3],w[4]));break;case "analyser":E(z,new t(w[0],w[1]))}d=0;for(e=c.length;d<e;d++)3===this.Eg||(a=c[d],f=a.buffersrc,h=a.is_music,z=a.tag,B=a.playbackTime,A=a.looping,G=a.volume,D=(w=a.pan)&&w.hasOwnProperty("objUid")?w.objUid:-1,h&&1===this.Eg)||!h&&2===this.Eg||((C=this.Js(f,z,h,A,G))?(C.Vd=a.resume_position,C.Uq(!!w),C.play(A,G,B),C.lo(),C.hB(),C.ym(C.gj||C.Ck),a.paused&&C.pause(),
a.muted&&C.RA(),C.ym(C.gj||C.Ck),w&&(-1!==D?(C.hc=C.hc||new y,C.hc.ln=D,zb.push(C.hc)):C.Tq(w.x,w.y,w.a,w.ia,w.oa,w.og))):(C=this.Km(f,h),C.Pn=B,C.An=a.paused,w&&(-1!==D?C.wj.push({Yt:D,wp:w.ia,kq:w.oa,nq:w.og,gv:z}):C.wj.push({x:w.x,y:w.y,T:w.a,wp:w.ia,kq:w.oa,nq:w.og,gv:z}))));if(b&&!Q){d=0;for(e=N.length;d<e;d++)N[d].Sn(!0);Q=!0}else if(!b&&Q){d=0;for(e=N.length;d<e;d++)N[d].Sn(!1);Q=!1}};Ha.hf=function(){var a,b,c,d;a=0;for(b=zb.length;a<b;a++)c=zb[a],d=this.j.lh(c.ln),c.ml(d),c.ln=-1,d&&(K=d.x,
U=d.y);F(zb)};Ha.kA=function(a){if(!this.oA){!a&&D&&D.resume&&(D.resume(),Pa=!1);var b,c;b=0;for(c=N.length;b<c;b++)N[b].TA(a);a&&D&&D.suspend&&(D.suspend(),Pa=!0)}};Ha.Yb=function(){var a=this.j.La,b,c,d;b=0;for(c=N.length;b<c;b++)d=N[b],d.Yb(a),0!==P&&d.lo();var e,f;for(e in da)if(da.hasOwnProperty(e))for(d=da[e],b=0,c=d.length;b<c;b++)f=d[b],f.Yb&&f.Yb();1===H&&this.Dd.Pm()&&(this.Dd.Yb(a),K=this.Dd.Fa.x,U=this.Dd.Fa.y,D.listener.setPosition(this.Dd.Fa.x,this.Dd.Fa.y,this.Kk),D.listener.setVelocity(this.Dd.qp(),
this.Dd.rp(),0))};var Jb=[];Ha.SA=function(a){var b,c,d,e,f,g=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&O||!f&&!O)Jb.push({filename:e,size:d,Fa:null}),g+=d;return g};Ha.ZA=function(){var a,b,c,d;a=0;for(b=Jb.length;a<b;++a)c=Jb[a],d=this.j.ep+c.filename,c.Fa=this.Km(d,!1)};Ha.lz=function(){var a=0,b,c,d;b=0;for(c=Jb.length;b<c;++b)d=Jb[b],d.Fa.Pz()||d.Fa.Gz()||this.j.fc||this.j.Um?a+=d.size:d.Fa.gt()&&(a+=Math.floor(d.size/2));return a};
Ha.EA=function(){var a,b,c,d;c=a=0;for(b=X.length;a<b;++a)d=X[a],X[c]=d,d.Ue?d.DA():++c;X.length=c};Ha.Km=function(a,b){var c,d,e,f=null;c=0;for(d=X.length;c<d;c++)if(e=X[c],e.src===a){f=e;break}f||(xb&&b&&this.EA(),f=new z(a,b),X.push(f));return f};Ha.Js=function(a,b,c,d,e){var f,g,h;f=0;for(g=N.length;f<g;f++)if(h=N[f],h.src===a&&(h.wx()||c))return h.tag=b,h;a=this.Km(a,c);if(!a.nb)return"<preload>"!==b&&(a.Cn=b,a.cq=d,a.ur=e),null;h=new B(a,b);N.push(h);return h};var yb=[];C.prototype.Ll=function(a){return Vb(Y,
a)};A.O=new C;G.prototype.Play=function(a,b,c,d){!Q&&(c=Math.pow(10,c/20),isFinite(c)||(c=0),0>c&&(c=0),1<c&&(c=1),W=this.Js(this.j.ep+a[0]+(O?".ogg":".m4a"),d,a[1],0!==b,c))&&(W.Uq(!1),W.play(0!==b,c,0,this.Ut),this.Ut=0)};G.prototype.Ow=function(a){var b;2===a&&(a=Q?1:0);if(0===a&&!Q){a=0;for(b=N.length;a<b;a++)N[a].Sn(!0);Q=!0}else if(1===a&&Q){a=0;for(b=N.length;a<b;a++)N[a].Sn(!1);Q=!1}};A.na=new G;A.wb=new function(){}})();function rd(a){this.j=a}
(function(){function a(){}var c=rd.prototype;c.pb=function(a){this.yb=a;this.j=a.j};c.pb.prototype.Ga=function(){};c.ab=function(a){this.type=a;this.j=a.j};c.ab.prototype.Ga=function(){var a=this;window.addEventListener("resize",function(){a.j.trigger(rd.prototype.O.ww,a)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.j.trigger(rd.prototype.O.qw,a)}),window.addEventListener("offline",function(){a.j.trigger(rd.prototype.O.pw,a)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){a.j.nj=1;a.j.trigger(rd.prototype.O.Or,a)}),window.applicationCache.addEventListener("progress",function(c){a.j.nj=c.loaded/c.total||0}));this.j.od||(document.addEventListener("appMobi.device.update.available",function(){a.j.trigger(rd.prototype.O.Or,a)}),document.addEventListener("backbutton",function(){a.j.trigger(rd.prototype.O.Kl,a)}),document.addEventListener("menubutton",function(){a.j.trigger(rd.prototype.O.vo,a)}),document.addEventListener("searchbutton",
function(){a.j.trigger(rd.prototype.O.xw,a)}),document.addEventListener("tizenhwkey",function(c){var f;switch(c.keyName){case "back":f=a.j.trigger(rd.prototype.O.Kl,a);!f&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(f=a.j.trigger(rd.prototype.O.vo,a))||c.preventDefault()}}));this.j.Ip&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!a.j.trigger(rd.prototype.O.Kl,a)});this.j.Yr(function(c){c?a.j.trigger(rd.prototype.O.rw,a):a.j.trigger(rd.prototype.O.sw,
a)})};a.prototype.qw=function(){return!0};a.prototype.pw=function(){return!0};a.prototype.Or=function(){return!0};a.prototype.sw=function(){return!0};a.prototype.rw=function(){return!0};a.prototype.ww=function(){return!0};a.prototype.Kl=function(){return!0};a.prototype.vo=function(){return!0};a.prototype.xw=function(){return!0};c.O=new a;c.na=new function(){};c.wb=new function(){}})();function sd(a){this.j=a}
(function(){function a(){}function c(){}var b=sd.prototype;b.pb=function(a){this.yb=a;this.j=a.j};b.pb.prototype.Ga=function(){};b.ab=function(a){this.type=a;this.j=a.j;this.Io=Array(4);this.kv=this.ho=this.Fj=this.Bh=this.Ah=0;this.up=!1};var d=b.ab.prototype;d.Ga=function(){var a=this;if(!this.j.fc){jQuery(document).mousemove(function(b){a.pq(b)});jQuery(document).mousedown(function(b){a.oq(b)});jQuery(document).mouseup(function(b){a.qq(b)});jQuery(document).dblclick(function(b){a.jA(b)});var b=
function(b){a.lA(b)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var f={left:0,top:0};d.pq=function(a){var b=this.j.fc?f:jQuery(this.j.canvas).offset();this.Ah=a.pageX-b.left;this.Bh=a.pageY-b.top};d.Rt=function(){return 0<this.j.Cd?!0:0<=this.Ah&&0<=this.Bh&&this.Ah<this.j.width&&this.Bh<this.j.height};d.oq=function(a){this.Rt()&&(this.Io[a.which]=!0,this.j.Yc=!0,this.j.trigger(sd.prototype.O.ew,this),this.Fj=a.which-1,this.ho=0,this.j.trigger(sd.prototype.O.Fr,
this),this.j.trigger(sd.prototype.O.Mr,this),this.j.Yc=!1)};d.qq=function(a){this.Io[a.which]&&(this.j.Nm&&!this.j.rg&&a.preventDefault(),this.j.Nm=!0,this.Io[a.which]=!1,this.j.Yc=!0,this.Fj=a.which-1,this.j.trigger(sd.prototype.O.vw,this),this.j.Yc=!1)};d.jA=function(a){this.Rt()&&(a.preventDefault(),this.j.Yc=!0,this.Fj=a.which-1,this.ho=1,this.j.trigger(sd.prototype.O.Fr,this),this.j.trigger(sd.prototype.O.Mr,this),this.j.Yc=!1)};d.lA=function(a){this.kv=0>(a.wheelDelta?a.wheelDelta:a.detail?
-a.detail:0)?0:1;this.up=!1;this.j.Yc=!0;this.j.trigger(sd.prototype.O.Bw,this);this.j.Yc=!1;this.up&&Wb(a)&&a.preventDefault()};a.prototype.Fr=function(a,b){return a===this.Fj&&b===this.ho};a.prototype.ew=function(){return!0};a.prototype.vw=function(a){return a===this.Fj};a.prototype.Mr=function(a,b,c){return a!==this.Fj||b!==this.ho?!1:this.j.wl(c,this.Ah,this.Bh)};a.prototype.Bw=function(a){this.up=!0;return a===this.kv};b.O=new a;b.na=new function(){};c.prototype.Pl=function(a,b){var c,d,f,l,
m;ja(b)?(c=this.j.mg(0),d=c.scale,f=c.yd,l=c.Rd,m=c.M,c.scale=1,c.yd=1,c.Rd=1,c.M=0,a.ma(c.$b(this.Ah,this.Bh,!0)),c.scale=d,c.yd=f,c.Rd=l,c.M=m):(c=ka(b)?this.j.mg(b):this.j.ik(b))?a.ma(c.$b(this.Ah,this.Bh,!0)):a.ma(0)};c.prototype.Ql=function(a,b){var c,d,f,l,m;ja(b)?(c=this.j.mg(0),d=c.scale,f=c.yd,l=c.Sd,m=c.M,c.scale=1,c.yd=1,c.Sd=1,c.M=0,a.ma(c.$b(this.Ah,this.Bh,!1)),c.scale=d,c.yd=f,c.Sd=l,c.M=m):(c=ka(b)?this.j.mg(b):this.j.ik(b))?a.ma(c.$b(this.Ah,this.Bh,!1)):a.ma(0)};b.wb=new c})();
function pd(a){this.j=a}
(function(){function a(){if(0===this.Vo.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Cj?b.drawImage(this.ob,this.uj,this.vj,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.ob,0,0,this.width,this.height);this.Vo=a.toDataURL("image/png")}return this.Vo}function c(){}function b(a){a[0]=0;a[1]=0;a[2]=0;q.push(a)}function d(a,b){return a<b?""+a+","+b:""+b+","+a}function f(a,b,c,e){b=b.uid;c=c.uid;var f=d(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var g=q.length?q.pop():[0,0,0];g[0]=b;g[1]=c;g[2]=e;a[f]=g}}function h(a,c,e){c=d(c.uid,e.uid);a.hasOwnProperty(c)&&(b(a[c]),delete a[c])}function e(a,b,c){b=d(b.uid,c.uid);if(a.hasOwnProperty(b))return p=a[b][2],!0;p=-2;return!1}function k(){}var g=pd.prototype;g.pb=function(a){this.yb=a;this.j=a.j};var n=g.pb.prototype;n.Ga=function(){if(!this.Da){var b,c,d,e,f,g,h,k,l;this.jf=[];this.ok=!1;b=0;for(c=this.Ld.length;b<c;b++){f=this.Ld[b];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.Jq=f[3];
h.Kq=f[4];h.qu=f[5];h.$a=f[6];h.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],k={},k.er=g[0],k.gr=g[1],k.uj=g[2],k.vj=g[3],k.width=g[4],k.height=g[5],k.duration=g[6],k.Nd=g[7],k.Od=g[8],k.xp=g[9],k.Dn=g[10],k.ru=g[11],k.Cj=0!==k.width,k.Vo="",k.lC=a,l={left:0,top:0,right:1,bottom:1},k.Xq=l,k.Fb=null,(l=this.j.Wy(g[0]))?k.ob=l:(k.ob=new Image,k.ob.Cx=g[0],k.ob.os=g[1],k.ob.tx=null,this.j.zv(k.ob,g[0])),h.frames.push(k),this.jf.push(k);this.Ld[b]=h}}};n.uv=function(){var a,b,c;a=0;for(b=this.G.length;a<
b;a++)c=this.G[a],c.pm=c.xe.Fb};n.vn=function(){if(!this.Da){var a,b,c;a=0;for(b=this.jf.length;a<b;++a)c=this.jf[a],c.ob.tx=null,c.Fb=null;this.ok=!1;this.uv()}};n.rq=function(){if(!this.Da&&this.G.length){var a,b,c;a=0;for(b=this.jf.length;a<b;++a)c=this.jf[a],c.Fb=this.j.ga.kn(c.ob,!1,this.j.Xa,c.ru);this.uv()}};n.Yp=function(){if(!this.Da&&!this.ok&&this.j.ga){var a,b,c;a=0;for(b=this.jf.length;a<b;++a)c=this.jf[a],c.Fb=this.j.ga.kn(c.ob,!1,this.j.Xa,c.ru);this.ok=!0}};n.or=function(){if(!this.Da&&
!this.G.length&&this.ok){var a,b,c;a=0;for(b=this.jf.length;a<b;++a)c=this.jf[a],this.j.ga.deleteTexture(c.Fb),c.Fb=null;this.ok=!1}};var l=[];n.zq=function(a){var b,c,d;F(l);b=0;for(c=this.jf.length;b<c;++b)d=this.jf[b].ob,-1===l.indexOf(d)&&(a.drawImage(d,0,0),l.push(d))};g.ab=function(a){this.type=a;this.j=a.j;a=this.type.Ld[0].frames[0].Dn;this.Td?this.Ka.ol(a):this.Ka=new Kb(a)};var m=g.ab.prototype;m.Ga=function(){this.visible=0===this.ea[0];this.yp=this.Hp=!1;this.If=0!==this.ea[3];1===this.type.Ld.length&&
1===this.type.Ld[0].frames.length||0===this.type.Ld[0].speed||(this.j.co(this),this.Hp=!0);this.zb=this.Is(this.ea[1])||this.type.Ld[0];this.qa=this.ea[2];0>this.qa&&(this.qa=0);this.qa>=this.zb.frames.length&&(this.qa=this.zb.frames.length-1);var a=this.zb.frames[this.qa];this.Ka.ol(a.Dn);this.Nd=a.Nd;this.Od=a.Od;this.$j=this.zb.speed;this.eh=this.zb.Kq;this.Td?this.Ff.reset():this.Ff=new Db;this.lg=this.Ff.Ia;this.Th=!0;this.bg=0;this.Sh=!0;this.No=this.Zr="";this.xx=0;this.gm=-1;this.type.Yp();
var b,c,d,e,f,g,h,a=0;for(b=this.type.Ld.length;a<b;a++)for(e=this.type.Ld[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.ob.width,f.height=f.ob.height),f.Cj&&(h=f.ob,g=f.Xq,g.left=f.uj/h.width,g.top=f.vj/h.height,g.right=(f.uj+f.width)/h.width,g.bottom=(f.vj+f.height)/h.height,0===f.uj&&0===f.vj&&f.width===h.width&&f.height===h.height&&(f.Cj=!1));this.xe=this.zb.frames[this.qa];this.pm=this.xe.Fb};m.Qc=function(){var a={a:this.zb.$a,f:this.qa,cas:this.$j,fs:this.lg,ar:this.bg,
at:this.Ff.Ia,rt:this.eh};this.Th||(a.ap=this.Th);this.Sh||(a.af=this.Sh);return a};m.sd=function(a){var b=this.az(a.a);b&&(this.zb=b);this.qa=a.f;0>this.qa&&(this.qa=0);this.qa>=this.zb.frames.length&&(this.qa=this.zb.frames.length-1);this.$j=a.cas;this.lg=a.fs;this.bg=a.ar;this.Ff.reset();this.Ff.Ia=a.at;this.Th=a.hasOwnProperty("ap")?a.ap:!0;this.Sh=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.eh=a.rt:this.eh=this.zb.Kq;this.xe=this.zb.frames[this.qa];this.pm=this.xe.Fb;this.Ka.ol(this.xe.Dn);
this.Nd=this.xe.Nd;this.Od=this.xe.Od};m.Fo=function(a){this.qa=a?0:this.zb.frames.length-1;this.Th=!1;this.Zr=this.zb.name;this.yp=!0;this.j.trigger(pd.prototype.O.dw,this);this.j.trigger(pd.prototype.O.cw,this);this.yp=!1;this.bg=0};m.k=function(){return this.Ff.Ia};m.Yb=function(){this.Ff.add(this.j.Zi(this));this.No.length&&this.Ix();0<=this.gm&&this.ws();var a=this.Ff.Ia,b=this.zb,c=b.frames[this.qa],d=c.duration/this.$j;this.Th&&a>=this.lg+d&&(this.Sh?this.qa++:this.qa--,this.lg+=d,this.qa>=
b.frames.length&&(b.qu?(this.Sh=!1,this.qa=b.frames.length-2):b.loop?this.qa=this.eh:(this.bg++,this.bg>=b.Jq?this.Fo(!1):this.qa=this.eh)),0>this.qa&&(b.qu?(this.qa=1,this.Sh=!0,b.loop||(this.bg++,this.bg>=b.Jq&&this.Fo(!0))):b.loop?this.qa=this.eh:(this.bg++,this.bg>=b.Jq?this.Fo(!0):this.qa=this.eh)),0>this.qa?this.qa=0:this.qa>=b.frames.length&&(this.qa=b.frames.length-1),a>this.lg+b.frames[this.qa].duration/this.$j&&(this.lg=a),a=b.frames[this.qa],this.Ni(c,a),this.j.hb=!0)};m.Is=function(a){var b,
c,d;b=0;for(c=this.type.Ld.length;b<c;b++)if(d=this.type.Ld[b],Vb(d.name,a))return d;return null};m.az=function(a){var b,c,d;b=0;for(c=this.type.Ld.length;b<c;b++)if(d=this.type.Ld[b],d.$a===a)return d;return null};m.Ix=function(){var a=this.zb.frames[this.qa],b=this.Is(this.No);this.No="";!b||Vb(b.name,this.zb.name)&&this.Th||(this.zb=b,this.$j=b.speed,this.eh=b.Kq,0>this.qa&&(this.qa=0),this.qa>=this.zb.frames.length&&(this.qa=this.zb.frames.length-1),1===this.xx&&(this.qa=0),this.Th=!0,this.lg=
this.Ff.Ia,this.Sh=!0,this.Ni(a,this.zb.frames[this.qa]),this.j.hb=!0)};m.ws=function(){var a=this.zb.frames[this.qa],b=this.qa;this.qa=ta(this.gm);0>this.qa&&(this.qa=0);this.qa>=this.zb.frames.length&&(this.qa=this.zb.frames.length-1);b!==this.qa&&(this.Ni(a,this.zb.frames[this.qa]),this.lg=this.Ff.Ia,this.j.hb=!0);this.gm=-1};m.Ni=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Nd=b.Nd;this.Od=b.Od;this.Ka.ol(b.Dn);this.Aa();this.xe=
b;this.pm=b.Fb;c=0;for(d=this.Ba.length;c<d;c++)e=this.Ba[c],e.du&&e.du(a,b);this.j.trigger(pd.prototype.O.Ni,this)};m.Kf=function(a){a.globalAlpha=this.opacity;var b=this.xe,c=b.Cj,d=b.ob,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.M&&0<=g&&0<=h)e-=this.Nd*g,f-=this.Od*h,this.j.rf&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.uj,b.vj,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h);else{this.j.rf&&(e=Math.round(e),f=Math.round(f));a.save();var k=0<g?1:-1,l=0<h?1:-1;a.translate(e,
f);1===k&&1===l||a.scale(k,l);a.rotate(this.M*k*l);e=0-this.Nd*oa(g);f=0-this.Od*oa(h);c?a.drawImage(d,b.uj,b.vj,b.width,b.height,e,f,oa(g),oa(h)):a.drawImage(d,e,f,oa(g),oa(h));a.restore()}};m.$h=function(a){this.be(a)};m.be=function(a){a.oe(this.pm);a.Ci(this.opacity);var b=this.xe,c=this.ub;if(this.j.rf){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Cj?a.Tf(c.Gc+d,c.Hc+e,c.wd+d,c.xd+e,c.hd+d,c.jd+e,c.fd+d,c.gd+e,b.Xq):a.jl(c.Gc+d,c.Hc+e,c.wd+d,c.xd+e,c.hd+d,c.jd+e,c.fd+d,c.gd+e)}else b.Cj?
a.Tf(c.Gc,c.Hc,c.wd,c.xd,c.hd,c.jd,c.fd,c.gd,b.Xq):a.jl(c.Gc,c.Hc,c.wd,c.xd,c.hd,c.jd,c.fd,c.gd)};m.hz=function(a){var b=this.xe,c,d;c=0;for(d=b.xp.length;c<d;c++)if(Vb(a,b.xp[c][0]))return c;return-1};m.Se=function(a,b){var c=this.xe,d=c.xp,e;la(a)?e=this.hz(a):e=a-1;e=ta(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Nd)*this.width,d=d[e][2],d=(d-c.Od)*this.height,c=Math.cos(this.M);e=Math.sin(this.M);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var q=[],p=-2,v=[];
c.prototype.gw=function(a){if(!a)return!1;var c=this.j,d=c.Yi(),g=d.type,k=null;d.fa.collmemory?k=d.fa.collmemory:(k={},d.fa.collmemory=k);d.fa.spriteCreatedDestroyCallback||(d.fa.spriteCreatedDestroyCallback=!0,c.Tl(function(a){var c=d.fa.collmemory;a=a.uid;var e,f;for(e in c)c.hasOwnProperty(e)&&(f=c[e],f[0]===a||f[1]===a)&&(b(c[e]),delete c[e])}));var l=g.za(),m=a.za(),l=l.md(),n,u,q,r,L,H,D,X=this.j.qe,N=X-1,W=c.Lc().Kc;for(u=0;u<l.length;u++){q=l[u];m.Ha?(q.bb(),this.j.Ks(q.V,a,q.Jb,v),n=v):
n=m.md();for(r=0;r<n.length;r++)L=n[r],c.Fi(q,L)||c.yx(q,L)?(H=e(k,q,L),H=!H||p<N,f(k,q,L,X),H&&(c.il(W.sb),H=g.za(),D=a.za(),H.Ha=!1,D.Ha=!1,g===a?(H.G.length=2,H.G[0]=q,H.G[1]=L,g.Le()):(H.G.length=1,D.G.length=1,H.G[0]=q,D.G[0]=L,g.Le(),a.Le()),W.Lq(),c.Eh(W.sb))):h(k,q,L);F(v)}return!1};var r=new ca,u=!1;new wa(0,0,0,0);n.finish=function(a){if(u){if(a){var b=this.j.Lc().Kc.qf;a=null.za();var c=r.te(),d,e;if(a.Ha){a.Ha=!1;F(a.G);d=0;for(e=c.length;d<e;++d)a.G[d]=c[d];if(b)for(F(a.Wa),d=0,e=null.G.length;d<
e;++d)c=null.G[d],r.contains(c)||a.Wa.push(c)}else if(b)for(b=a.G.length,d=0,e=c.length;d<e;++d)a.G[b+d]=c[d],Ja(a.Wa,c[d]);else Ea(a.G,c);null.Le()}r.clear();u=!1}};c.prototype.Hv=function(a,b){return Vc(this.qa,a,b)};c.prototype.cw=function(a){return Vb(this.Zr,a)};c.prototype.dw=function(){return!0};c.prototype.Ni=function(){return!0};g.O=new c;k.prototype.Tw=function(a,b,c){if(a&&b&&(b=this.j.So(a,b,this.Se(c,!0),this.Se(c,!1)))){"undefined"!==typeof b.M&&(b.M=this.M,b.Aa());this.j.Be++;var d,
e,f;this.j.trigger(Object.getPrototypeOf(a.yb).O.Qh,b);if(b.qd)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.j.trigger(Object.getPrototypeOf(f.type.yb).O.Qh,f);this.j.Be--;d=this.j.dz();c=!1;if(ja(d.fa.Spawn_LastExec)||d.fa.Spawn_LastExec<this.j.di)c=!0,d.fa.Spawn_LastExec=this.j.di;if(a!=this.type&&(a=a.za(),a.Ha=!1,c?(F(a.G),a.G[0]=b):a.G.push(b),b.qd))for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.za(),a.Ha=!1,c?(F(a.G),a.G[0]=f):a.G.push(f)}};k.prototype.Fw=function(a){this.gm=
a;this.Hp||(this.j.co(this),this.Hp=!0);this.yp||this.ws()};k.prototype.Nw=function(a){var b=this.xe,c=b.width*a*(0>this.width?-1:1);a=b.height*a*(0>this.height?-1:1);if(this.width!==c||this.height!==a)this.width=c,this.height=a,this.Aa()};g.na=new k;g.wb=new function(){}})();function td(a){this.j=a}
(function(){function a(){return k.length?k.pop():{}}function c(a){var b,c;b=0;for(c=a.length;b<c;b++)k.push(a[b]);F(a)}function b(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function d(){}var f=td.prototype;f.Ga=function(){f.na.Rr=function(a){this.width!==a&&(this.width=a,this.Hi=!0,this.Aa())}};f.pb=function(a){this.yb=a;this.j=a.j};var h=f.pb.prototype;h.Ga=function(){};h.vn=function(){if(!this.Da){var a,b,c;a=0;for(b=this.G.length;a<b;a++)c=this.G[a],c.Qf=null,c.yi=
null,c.ke=null}};f.ab=function(a){this.type=a;this.j=a.j;this.Td?F(this.rh):this.rh=[];this.Hi=!0};h=f.ab.prototype;h.Ga=function(){this.text=this.ea[0];this.visible=0===this.ea[1];this.font=this.ea[2];this.color=this.ea[3];this.Om=this.ea[4];this.oo=this.ea[5];this.Ar=0===this.ea[7];this.Up=this.dn=this.width;this.cn=this.height;this.Xp=this.ea[8];this.Gm=this.Ti="";this.cv=this.dv=this.gl=0;this.mA();this.ke=this.yi=this.Qf=null;this.Tt=!1;this.Jk=this.j.qe;this.Td?this.Fh.set(0,0,1,1):this.Fh=
new wa(0,0,1,1);this.j.ga&&this.j.co(this)};h.mA=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.gl=parseInt(a[b].substr(0,a[b].length-2));this.Dq=Math.ceil(this.gl/72*96)+4;0<b&&(this.Gm=a[b-1]);this.Ti=a[b+1];for(b+=2;b<a.length;b++)this.Ti+=" "+a[b];break}};h.Qc=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Om,va:this.oo,wr:this.Ar,lho:this.Xp,fn:this.Ti,fs:this.Gm,ps:this.gl,pxh:this.Dq,tw:this.dv,th:this.cv,lrt:this.Jk}};
h.sd=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.Om=a.ha;this.oo=a.va;this.Ar=a.wr;this.Xp=a.lho;this.Ti=a.fn;this.Gm=a.fs;this.gl=a.ps;this.Dq=a.pxh;this.dv=a.tw;this.cv=a.th;this.Jk=a.lrt;this.Hi=!0;this.Up=this.dn=this.width;this.cn=this.height};h.Yb=function(){if(this.j.ga&&this.ke&&300<=this.j.qe-this.Jk){var a=this.V;this.bb();var b=this.Jb;if(b.right<a.Db||b.bottom<a.Eb||b.left>a.Nb||b.top>a.Mb)this.j.ga.deleteTexture(this.ke),this.Qf=this.yi=this.ke=null}};h.Ch=function(){this.Qf=
this.yi=null;this.j.ga&&this.ke&&this.j.ga.deleteTexture(this.ke);this.ke=null};h.k=function(){this.font=this.Gm+" "+this.gl.toString()+"pt "+this.Ti;this.Hi=!0;this.j.hb=!0};h.Kf=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.V.de(),a.save(),a.scale(c,c));if(this.Hi||this.width!==this.Up)this.type.yb.ax(this.text,this.rh,a,this.width,this.Ar),this.Hi=!1,this.Up=this.width;this.bb();var c=b?0:this.ub.Gc,d=b?0:this.ub.Hc;
this.j.rf&&(c=c+.5|0,d=d+.5|0);0===this.M||b||(a.save(),a.translate(c,d),a.rotate(this.M),d=c=0);var e=d+this.height,f=this.Dq,f=f+this.Xp,h,k;1===this.oo?d+=Math.max(this.height/2-this.rh.length*f/2,0):2===this.oo&&(d+=Math.max(this.height-this.rh.length*f-2,0));for(k=0;k<this.rh.length&&!(h=c,1===this.Om?h=c+(this.width-this.rh[k].width)/2:2===this.Om&&(h=c+(this.width-this.rh[k].width)),a.fillText(this.rh[k].text,h,d),d+=f,d>=e-f);k++);(0!==this.M||b)&&a.restore();this.Jk=this.j.qe};h.be=function(a){if(!(1>
this.width||1>this.height)){var b=this.Hi||this.Tt;this.Tt=!1;var c=this.V.de(),d=this.V.ac(),e=this.Fh,f=c*this.width,h=c*this.height,k=Math.ceil(f),u=Math.ceil(h),t=this.j.ya/2,y=this.j.xa/2;this.yi||(this.Qf=document.createElement("canvas"),this.Qf.width=k,this.Qf.height=u,this.dn=k,this.cn=u,b=!0,this.yi=this.Qf.getContext("2d"));if(k!==this.dn||u!==this.cn)this.Qf.width=k,this.Qf.height=u,this.ke&&(a.deleteTexture(this.ke),this.ke=null),b=!0;b&&(this.yi.clearRect(0,0,k,u),this.Kf(this.yi,!0),
this.ke||(this.ke=a.we(k,u,this.j.Xa,this.j.rg)),a.nB(this.Qf,this.ke,this.j.rg));this.dn=k;this.cn=u;a.oe(this.ke);a.Ci(this.opacity);a.$e();a.translate(-t,-y);a.Ge();var z=this.ub,b=this.V.Lb(z.Gc,z.Hc,!0,!0),t=this.V.Lb(z.Gc,z.Hc,!1,!0),y=this.V.Lb(z.wd,z.xd,!0,!0),B=this.V.Lb(z.wd,z.xd,!1,!0),E=this.V.Lb(z.hd,z.jd,!0,!0),C=this.V.Lb(z.hd,z.jd,!1,!0),G=this.V.Lb(z.fd,z.gd,!0,!0),z=this.V.Lb(z.fd,z.gd,!1,!0);if(this.j.rf||0===this.M&&0===d)var A=(b+.5|0)-b,w=(t+.5|0)-t,b=b+A,t=t+w,y=y+A,B=B+w,E=
E+A,C=C+w,G=G+A,z=z+w;0===this.M&&0===d?(y=b+k,B=t,E=y,C=t+u,G=b,z=C,e.right=1,e.bottom=1):(e.right=f/k,e.bottom=h/u);a.Tf(b,t,y,B,E,C,G,z,e);a.$e();a.scale(c,c);a.Mn(-this.V.ac());a.translate((this.V.Db+this.V.Nb)/-2,(this.V.Eb+this.V.Mb)/-2);a.Ge();this.Jk=this.j.qe}};var e=[];f.Xw=function(a){F(e);for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(e.push(b),b=""),e.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===
a.charAt(d)));e.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&e.push(b)};var k=[];f.ax=function(b,d,e,f,h){if(b&&b.length)if(2>=f)c(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var k=e.measureText(b).width;if(k<=f){c(d);d.push(a());d[0].text=b;d[0].width=k;return}}this.bx(b,d,e,f,h)}else c(d)};f.bx=function(c,d,f,h,q){q&&(this.Xw(c),c=e);var p="",v,r,u,t=0;for(u=0;u<c.length;u++)"\n"===c[u]?(t>=d.length&&d.push(a()),p=b(p),r=d[t],r.text=p,r.width=f.measureText(p).width,t++,p=""):(v=p,p+=c[u],
r=f.measureText(p).width,r>=h&&(t>=d.length&&d.push(a()),v=b(v),r=d[t],r.text=v,r.width=f.measureText(v).width,t++,p=c[u],q||" "!==p||(p="")));p.length&&(t>=d.length&&d.push(a()),p=b(p),r=d[t],r.text=p,r.width=f.measureText(p).width,t++);for(u=t;u<d.length;u++)k.push(d[u]);d.length=t};f.O=new function(){};d.prototype.Pw=function(a){ka(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Hi=!0,this.j.hb=!0)};f.na=new d;f.wb=new function(){}})();
function ud(a){this.j=a}
(function(){var a=ud.prototype;a.pb=function(a){this.yb=a;this.j=a.j};var c=a.pb.prototype;c.Ga=function(){this.Da||(this.ob=new Image,this.ob.os=this.gr,this.j.zv(this.ob,this.er),this.Fb=this.pattern=null)};c.vn=function(){this.Da||(this.Fb=null)};c.rq=function(){if(!this.Da&&this.G.length){this.Fb||(this.Fb=this.j.ga.kn(this.ob,!0,this.j.Xa,this.hr));var a,c;a=0;for(c=this.G.length;a<c;a++)this.G[a].Fb=this.Fb}};c.Yp=function(){this.Da||this.Fb||!this.j.ga||(this.Fb=this.j.ga.kn(this.ob,!0,this.j.Xa,
this.hr))};c.or=function(){this.Da||this.G.length||!this.Fb||(this.j.ga.deleteTexture(this.Fb),this.Fb=null)};c.zq=function(a){a.drawImage(this.ob,0,0)};a.ab=function(a){this.type=a;this.j=a.j};c=a.ab.prototype;c.Ga=function(){this.visible=0===this.ea[0];this.Fh=new wa(0,0,0,0);this.Vs=!1;this.ob=this.type.ob;this.j.ga?(this.type.Yp(),this.Fb=this.type.Fb):(this.type.pattern||(this.type.pattern=this.j.rb.createPattern(this.type.ob,"repeat")),this.pattern=this.type.pattern)};c.hf=function(){this.Vs=
!1;this.ob=this.type.ob};c.Ch=function(){this.j.ga&&this.Vs&&this.Fb&&(this.j.ga.deleteTexture(this.Fb),this.Fb=null)};c.Kf=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var c=this.x,f=this.y;this.j.rf&&(c=Math.round(c),f=Math.round(f));var h=-(this.Nd*this.width),e=-(this.Od*this.height),k=h%this.ob.width,g=e%this.ob.height;0>k&&(k+=this.ob.width);0>g&&(g+=this.ob.height);a.translate(c,f);a.rotate(this.M);a.translate(k,g);a.fillRect(h-k,e-g,this.width,this.height);a.restore()};
c.$h=function(a){this.be(a)};c.be=function(a){a.oe(this.Fb);a.Ci(this.opacity);var c=this.Fh;c.right=this.width/this.ob.width;c.bottom=this.height/this.ob.height;var f=this.ub;if(this.j.rf){var h=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;a.Tf(f.Gc+h,f.Hc+e,f.wd+h,f.xd+e,f.hd+h,f.jd+e,f.fd+h,f.gd+e,c)}else a.Tf(f.Gc,f.Hc,f.wd,f.xd,f.hd,f.jd,f.fd,f.gd,c)};a.O=new function(){};a.na=new function(){};a.wb=new function(){}})();function vd(a){this.j=a}
(function(){function a(a){g=a.x;n=a.y;l=a.z}function c(a,c,d,e){var f;f=m.length?m.pop():new b;f.init(a,c,d,e);return f}function b(){this.sl=this.id=this.ri=this.qi=this.y=this.x=this.Yn=this.Xn=this.Tp=this.time=this.cr=0;this.zl=this.io=!1}function d(){}function f(){}var h=vd.prototype;h.pb=function(a){this.yb=a;this.j=a.j};h.pb.prototype.Ga=function(){};h.ab=function(a){this.type=a;this.j=a.j;this.touches=[];this.hq=!1};var e=h.ab.prototype,k={left:0,top:0};e.dk=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var g=0,n=0,l=0,m=[];b.prototype.init=function(a,b,c,d){var e=vb();this.cr=this.Tp=this.time=e;this.Xn=a;this.Yn=b;this.x=a;this.y=b;this.qi=a;this.ri=b;this.pressure=this.height=this.width=0;this.id=c;this.sl=d;this.zl=this.io=!1};b.prototype.update=function(a,b,c,d,e,f){this.Tp=this.time;this.time=a;this.qi=this.x;this.ri=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.zl&&15<=mb(this.Xn,this.Yn,this.x,this.y)&&(this.zl=
!0)};b.prototype.cA=function(a,b){!this.io&&500<=vb()-this.cr&&!this.zl&&15>mb(this.Xn,this.Yn,this.x,this.y)&&(this.io=!0,a.$f=this.sl,a.Gj=this.id,a.$i=b,a.j.trigger(vd.prototype.O.kw,a),a.gg=this.x,a.hg=this.y,a.j.trigger(vd.prototype.O.lw,a),a.$i=0)};var q=-1E3,p=-1E3,v=-1E4;b.prototype.Pt=function(a,b){if(!this.io){var c=vb();333>=c-this.cr&&!this.zl&&15>mb(this.Xn,this.Yn,this.x,this.y)&&(a.$f=this.sl,a.Gj=this.id,a.$i=b,666>=c-v&&25>mb(q,p,this.x,this.y)?(a.j.trigger(vd.prototype.O.hw,a),a.gg=
this.x,a.hg=this.y,a.j.trigger(vd.prototype.O.iw,a),p=q=-1E3,v=-1E4):(a.j.trigger(vd.prototype.O.yw,a),a.gg=this.x,a.hg=this.y,a.j.trigger(vd.prototype.O.zw,a),q=this.x,p=this.y,v=c),a.$i=0)}};e.Ga=function(){this.Tz=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.$i=this.Gj=this.$f=this.hg=this.gg=this.Vr=this.Ur=this.Tr=this.hx=this.gx=this.cx=this.zn=this.yn=this.xn=0;this.lB=0!==this.ea[0];var b=0<this.j.Cd?document:this.j.canvas,c=document;this.j.od?c=b=window.Canvas:this.j.Te&&
(c=b=window);var d=this;window.navigator.pointerEnabled?(b.addEventListener("pointerdown",function(a){d.cu(a)},!1),b.addEventListener("pointermove",function(a){d.bu(a)},!1),c.addEventListener("pointerup",function(a){d.wn(a,!1)},!1),c.addEventListener("pointercancel",function(a){d.wn(a,!0)},!1),this.j.canvas&&(this.j.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.j.canvas.addEventListener("gesturehold",
function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(b.addEventListener("MSPointerDown",function(a){d.cu(a)},!1),b.addEventListener("MSPointerMove",function(a){d.bu(a)},!1),c.addEventListener("MSPointerUp",function(a){d.wn(a,!1)},!1),c.addEventListener("MSPointerCancel",function(a){d.wn(a,!0)},!1),this.j.canvas&&(this.j.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",
function(a){a.preventDefault()},!1))):(b.addEventListener("touchstart",function(a){d.fu(a)},!1),b.addEventListener("touchmove",function(a){d.eu(a)},!1),c.addEventListener("touchend",function(a){d.sq(a,!1)},!1),c.addEventListener("touchcancel",function(a){d.sq(a,!0)},!1));if(this.Tz){var e=function(a){a=a.reading;d.Tr=a.accelerationX;d.Ur=a.accelerationY;d.Vr=a.accelerationZ},f=function(a){a=a.reading;d.xn=a.yawDegrees;d.yn=a.pitchDegrees;d.zn=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();
g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",e),h&&h.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),h&&h.addEventListener("readingchanged",
f))},!1)}else window.addEventListener("deviceorientation",function(a){d.xn=a.alpha||0;d.yn=a.beta||0;d.zn=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(d.cx=a.accelerationIncludingGravity.x||0,d.gx=a.accelerationIncludingGravity.y||0,d.hx=a.accelerationIncludingGravity.z||0);a.acceleration&&(d.Tr=a.acceleration.x||0,d.Ur=a.acceleration.y||0,d.Vr=a.acceleration.z||0)},!1);this.lB&&!this.j.fc&&(jQuery(document).mousemove(function(a){d.pq(a)}),jQuery(document).mousedown(function(a){d.oq(a)}),
jQuery(document).mouseup(function(a){d.qq(a)}));!this.j.jj&&this.j.ee&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(a,null,{frequency:40});this.j.cB(this)};e.bu=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.dk(a.pointerId),c=vb();if(0<=b){var d=this.j.fc?k:jQuery(this.j.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top,
a.width||0,a.height||0,a.pressure||0)}}};e.cu=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Wb(a)&&a.preventDefault();var b=this.j.fc?k:jQuery(this.j.canvas).offset(),d=a.pageX-b.left,b=a.pageY-b.top;vb();this.$f=this.touches.length;this.Gj=a.pointerId;this.touches.push(c(d,b,a.pointerId,this.$f));this.j.Yc=!0;this.j.trigger(vd.prototype.O.Lr,this);this.j.trigger(vd.prototype.O.Nr,this);this.gg=d;this.hg=b;this.j.trigger(vd.prototype.O.yo,this);
this.j.Yc=!1}};e.wn=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Wb(a)&&a.preventDefault();var c=this.dk(a.pointerId);this.$f=0<=c?this.touches[c].sl:-1;this.Gj=0<=c?this.touches[c].id:-1;this.j.Yc=!0;this.j.trigger(vd.prototype.O.Kr,this);this.j.trigger(vd.prototype.O.xo,this);0<=c&&(b||this.touches[c].Pt(this,c),100>m.length&&m.push(this.touches[c]),this.touches.splice(c,1));this.j.Yc=!1}};e.eu=function(a){a.preventDefault&&a.preventDefault();
var b=vb(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.dk(e.identifier),0<=f){var g=this.j.fc?k:jQuery(this.j.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-g.left,e.pageY-g.top,2*(e.vC||e.BC||e.oC||e.rC||0),2*(e.wC||e.CC||e.pC||e.sC||0),e.jC||e.AC||e.nC||e.qC||0)}};e.fu=function(a){a.preventDefault&&Wb(a)&&a.preventDefault();var b=this.j.fc?k:jQuery(this.j.canvas).offset();vb();this.j.Yc=!0;var d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=
a.changedTouches[d],g=this.dk(f.identifier),-1===g){g=f.pageX-b.left;var h=f.pageY-b.top;this.$f=this.touches.length;this.Gj=f.identifier;this.touches.push(c(g,h,f.identifier,this.$f));this.j.trigger(vd.prototype.O.Lr,this);this.j.trigger(vd.prototype.O.Nr,this);this.gg=g;this.hg=h;this.j.trigger(vd.prototype.O.yo,this)}this.j.Yc=!1};e.sq=function(a,b){a.preventDefault&&Wb(a)&&a.preventDefault();this.j.Yc=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.dk(e.identifier),
0<=e&&(this.$f=this.touches[e].sl,this.Gj=this.touches[e].id,this.j.trigger(vd.prototype.O.Kr,this),this.j.trigger(vd.prototype.O.xo,this),b||this.touches[e].Pt(this,e),100>m.length&&m.push(this.touches[e]),this.touches.splice(e,1));this.j.Yc=!1};e.k=function(){return this.j.ee&&0===this.xn&&0!==l?90*l:this.xn};e.n=function(){return this.j.ee&&0===this.yn&&0!==n?90*n:this.yn};e.B=function(){return this.j.ee&&0===this.zn&&0!==g?90*g:this.zn};e.oq=function(a){this.fu({changedTouches:[{pageX:a.pageX,
pageY:a.pageY,identifier:0}]});this.hq=!0};e.pq=function(a){this.hq&&this.eu({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};e.qq=function(a){a.preventDefault&&this.j.Nm&&!this.j.rg&&a.preventDefault();this.j.Nm=!0;this.sq({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.hq=!1};e.yl=function(){var a,b,c,d=vb();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.Tp=d),c.cA(this,a)};d.prototype.Nr=function(){return!0};d.prototype.xo=function(){return!0};
d.prototype.yo=function(a){return a?this.j.wl(a,this.gg,this.hg):!1};var r=[];d.prototype.Vv=function(a){if(!a)return!1;var b=a.za(),c=b.md(),d,e,f,g,h,k;f=0;for(g=c.length;f<g;f++){var l=c[f];l.bb();h=0;for(k=this.touches.length;h<k;h++)if(e=this.touches[h],d=l.V.$b(e.x,e.y,!0),e=l.V.$b(e.x,e.y,!1),l.wc(d,e)){r.push(l);break}}return r.length?(b.Ha=!1,Ea(b.G,r),a.Le(),F(r),!0):!1};d.prototype.Lr=function(a){a=Math.floor(a);return a===this.$f};d.prototype.Kr=function(a){a=Math.floor(a);return a===
this.$f};d.prototype.kw=function(){return!0};d.prototype.yw=function(){return!0};d.prototype.hw=function(){return!0};d.prototype.lw=function(a){return a?this.j.wl(a,this.gg,this.hg):!1};d.prototype.zw=function(a){return a?this.j.wl(a,this.gg,this.hg):!1};d.prototype.iw=function(a){return a?this.j.wl(a,this.gg,this.hg):!1};h.O=new d;f.prototype.Pl=function(a,b){var c=this.$i;if(0>c||c>=this.touches.length)a.ma(0);else{var d,e,f,g,h;ja(b)?(d=this.j.mg(0),e=d.scale,f=d.yd,g=d.Rd,h=d.M,d.scale=1,d.yd=
1,d.Rd=1,d.M=0,a.ma(d.$b(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.yd=f,d.Rd=g,d.M=h):(d=ka(b)?this.j.mg(b):this.j.ik(b))?a.ma(d.$b(this.touches[c].x,this.touches[c].y,!0)):a.ma(0)}};f.prototype.Ql=function(a,b){var c=this.$i;if(0>c||c>=this.touches.length)a.ma(0);else{var d,e,f,g,h;ja(b)?(d=this.j.mg(0),e=d.scale,f=d.yd,g=d.Sd,h=d.M,d.scale=1,d.yd=1,d.Sd=1,d.M=0,a.ma(d.$b(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.yd=f,d.Sd=g,d.M=h):(d=ka(b)?this.j.mg(b):this.j.ik(b))?a.ma(d.$b(this.touches[c].x,
this.touches[c].y,!1)):a.ma(0)}};h.wb=new f})();function wd(a){this.j=a}
(function(){function a(){}function c(){}function b(){}var d=wd.prototype;d.pb=function(a){this.yb=a;this.j=a.j};d.pb.prototype.Ga=function(){};d.ab=function(a){this.type=a;this.j=a.j};var f=d.ab.prototype,h="",e="undefined"!==typeof window.is_scirra_arcade;e&&(h="arcade"+window.scirra_arcade_id);var k=!1;try{localStorage.getItem("test"),k=!0}catch(g){k=!1}f.Ga=function(){k||ga("[Construct 2] Webstorage plugin: local storage is not supported on this platform.")};a.prototype.Zv=function(a){return k?
null!=localStorage.getItem(h+a):!1};a.prototype.uw=function(){return!0};d.O=new a;c.prototype.Vw=function(a,b){if(k)try{localStorage.setItem(h+a,b)}catch(c){this.j.trigger(wd.prototype.O.uw,this)}};d.na=new c;b.prototype.$v=function(a,b){k?a.bd(localStorage.getItem(h+b)||""):a.bd("")};b.prototype.Cr=function(a){if(k){var b={},c,d,f;c=0;for(d=localStorage.length;c<d;c++)f=localStorage.key(c),e?f.substr(0,h.length)===h&&(b[f.substr(h.length)]=localStorage.getItem(f)):b[f]=localStorage.getItem(f);a.bd(JSON.stringify({c2dictionary:!0,
data:b}))}else a.bd("")};d.wb=new b})();function xd(a){this.j=a}
(function(){function a(){}var c=xd.prototype;c.pb=function(a){this.behavior=a;this.j=a.j};c.pb.prototype.Ga=function(){};c.ab=function(a,b){this.type=a;this.behavior=a.behavior;this.H=b;this.j=a.j};var b=c.ab.prototype;b.Ga=function(){var a=this.ea[0];this.Rl=this.ea[1];this.Jm=this.ea[2];this.rx=0!==this.ea[3];this.Sq=0!==this.ea[4];this.Bd=Math.cos(this.H.M)*a;this.Wc=Math.sin(this.H.M)*a;this.qi=this.H.x;this.ri=this.H.y;this.rd=this.H.M;this.fo=0;this.enabled=0!==this.ea[5]};b.Qc=function(){return{acc:this.Rl,
g:this.Jm,dx:this.Bd,dy:this.Wc,lx:this.qi,ly:this.ri,lka:this.rd,t:this.fo,e:this.enabled}};b.sd=function(a){this.Rl=a.acc;this.Jm=a.g;this.Bd=a.dx;this.Wc=a.dy;this.qi=a.lx;this.ri=a.ly;this.rd=a.lka;this.fo=a.t;this.enabled=a.e};b.Yb=function(){if(this.enabled){var a=this.j.Zi(this.H),b,c;this.H.M!==this.rd&&(this.Sq&&(b=mb(0,0,this.Bd,this.Wc),this.Bd=Math.cos(this.H.M)*b,this.Wc=Math.sin(this.H.M)*b),this.rd=this.H.M);0!==this.Rl&&(b=mb(0,0,this.Bd,this.Wc),c=0===this.Bd&&0===this.Wc?this.H.M:
Ua(0,0,this.Bd,this.Wc),b+=this.Rl*a,0>b&&(b=0),this.Bd=Math.cos(c)*b,this.Wc=Math.sin(c)*b);0!==this.Jm&&(this.Wc+=this.Jm*a);this.qi=this.H.x;this.ri=this.H.y;if(0!==this.Bd||0!==this.Wc)if(this.H.x+=this.Bd*a,this.H.y+=this.Wc*a,this.fo+=mb(0,0,this.Bd*a,this.Wc*a),this.Sq&&(this.H.M=Ua(0,0,this.Bd,this.Wc),this.H.Aa(),this.rd=this.H.M),this.H.Aa(),this.rx&&(b=this.j.Gi(this.H)))this.j.Cu(this.H,b),b=mb(0,0,this.Bd,this.Wc),c=this.j.ux(this.H,this.qi,this.ri),this.Bd=Math.cos(c)*b,this.Wc=Math.sin(c)*
b,this.H.x+=this.Bd*a,this.H.y+=this.Wc*a,this.H.Aa(),this.Sq&&(this.rd=this.H.M=c,this.H.Aa()),this.j.AA(this.H,this.Bd/b,this.Wc/b,Math.max(2.5*b*a,30))||this.j.BA(this.H)}};c.O=new function(){};a.prototype.Ol=function(a){this.enabled=1===a};c.na=new a;c.wb=new function(){}})();function yd(a){this.j=a}
(function(){function a(){}function c(){}var b=yd.prototype;b.pb=function(a){this.behavior=a;this.j=a.j};b.pb.prototype.Ga=function(){};b.ab=function(a,b){this.type=a;this.behavior=a.behavior;this.H=b;this.j=a.j};var d=b.ab.prototype;d.Ga=function(){this.Co=1===this.ea[0];this.Mu=!1;this.Ui=this.ea[1];this.Gl=this.ea[2];this.Am=this.ea[3];this.Gx=this.ea[4];this.pe=this.Co?0:3;this.Td?this.cf.reset():this.cf=new Db;this.xh=this.H.opacity?this.H.opacity:1;this.Co&&(0===this.Ui?(this.pe=1,0===this.Gl&&
(this.pe=2)):(this.H.opacity=0,this.j.hb=!0))};d.Qc=function(){return{fit:this.Ui,wt:this.Gl,fot:this.Am,s:this.pe,st:this.cf.Ia,mo:this.xh}};d.sd=function(a){this.Ui=a.fit;this.Gl=a.wt;this.Am=a.fot;this.pe=a.s;this.cf.reset();this.cf.Ia=a.st;this.xh=a.mo};d.Yb=function(){this.cf.add(this.j.Zi(this.H));0===this.pe&&(this.H.opacity=this.cf.Ia/this.Ui*this.xh,this.j.hb=!0,this.H.opacity>=this.xh&&(this.H.opacity=this.xh,this.pe=1,this.cf.reset(),this.j.trigger(yd.prototype.O.jw,this.H)));1===this.pe&&
this.cf.Ia>=this.Gl&&(this.pe=2,this.cf.reset(),this.j.trigger(yd.prototype.O.Aw,this.H));2===this.pe&&0!==this.Am&&(this.H.opacity=this.xh-this.cf.Ia/this.Am*this.xh,this.j.hb=!0,0>this.H.opacity&&(this.H.opacity=0,this.pe=3,this.cf.reset(),this.j.trigger(yd.prototype.O.Hr,this.H),1===this.Gx&&this.j.Rg(this.H)))};d.Zx=function(){this.pe=0;this.cf.reset();0===this.Ui?(this.pe=1,0===this.Gl&&(this.pe=2)):(this.H.opacity=0,this.j.hb=!0)};a.prototype.Hr=function(){return!0};a.prototype.jw=function(){return!0};
a.prototype.Aw=function(){return!0};b.O=new a;c.prototype.Uw=function(){this.Co||this.Mu||(this.xh=this.H.opacity?this.H.opacity:1,this.Mu=!0);3===this.pe&&this.Zx()};c.prototype.Hw=function(a){0>a&&(a=0);this.Ui=a};b.na=new c;b.wb=new function(){}})();function zd(a){this.j=a}
(function(){function a(){}var c=zd.prototype;c.pb=function(a){this.behavior=a;this.j=a.j};var b=c.pb.prototype;b.Ga=function(){this.Bi=[]};b.Vy=function(a){var b,c,d;b=0;for(c=a.Ba.length;b<c;++b)if(d=a.Ba[b],d instanceof zd.prototype.ab&&d.type===this)return d;return null};c.ab=function(a,b){this.type=a;this.behavior=a.behavior;this.H=b;this.j=a.j};b=c.ab.prototype;b.Ga=function(){this.fA=this.ea[0];this.Fq=this.ea[1];this.Qo=Ma(this.ea[2]);this.wv=0!==this.ea[3]};b.Ch=function(){};b.Qc=function(){var a=
{r:this.Fq,c:this.Qo,t:[]},b,c;b=0;for(c=this.type.Bi.length;b<c;b++)a.t.push(this.type.Bi[b].$a);return a};b.sd=function(a){this.Fq=a.r;this.Qo=a.c;F(this.type.Bi);var b,c,d;b=0;for(c=a.t.length;b<c;b++)(d=this.j.jk(a.t[b]))&&this.type.Bi.push(d)};b.Yb=function(){};var d=[],f=new wa(0,0,0,0);b.Hz=function(a,b){var c=this.H.x,e=this.H.y,h=this.H.M;0>this.H.width&&(h+=Math.PI);if(mb(c,e,a,b)>this.Fq||ab(h,Ua(c,e,a,b))>this.Qo/2)return!1;var q,p;f.set(c,e,a,b);f.normalize();if(0===this.fA)for(this.wv?
this.j.Qs(this.H.V,f,d):(h=this.j.$q)&&Fa(d,h.Wk.te()),h=0,q=d.length;h<q;++h){if(p=d[h],p.fa.solidEnabled&&p!==this.H&&this.j.av(c,e,a,b,p))return F(d),!1}else{if(this.wv)this.j.Ss(this.H.V,this.type.Bi,f,d);else for(h=0,q=this.type.Bi.length;h<q;++h)Fa(d,this.type.Bi[h].G);h=0;for(q=d.length;h<q;++h)if(p=d[h],p!==this.H&&this.j.av(c,e,a,b,p))return F(d),!1}F(d);return!0};var h=new ca,e=new ca;a.prototype.Qv=function(a){if(!a)return!1;var b,c,d,f,q,p,v,r,u=this.j.ez().za();a=a.za();var t=u.md(),
y=a.md();u.Ha&&F(u.Wa);a.Ha&&F(a.Wa);var z=this.j.Yi().Sm;b=0;for(d=t.length;b<d;++b){q=t[b];r=!1;p=this.Vy(q);c=0;for(f=y.length;c<f;++c)v=y[c],q!==v&&nb(p.Hz(v.x,v.y),z)&&(r=!0,e.add(v));r&&h.add(q)}b=h.te();c=e.te();u.Ha=!1;a.Ha=!1;Ea(u.G,b);Ea(a.G,c);h.clear();e.clear();return u.Qm()};c.O=new a;c.na=new function(){};c.wb=new function(){}})();function Ad(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}
var Bd=2/180*Math.PI,Ed=8/180*Math.PI,Fd=.5*Math.PI,Gd=Fd*Fd,Hd=2/180*Math.PI,Id=Number.MIN_VALUE*Number.MIN_VALUE;function Jd(a,c){return a.x*c.x+a.y*c.y}function Kd(a,c){return a.x*c.y-a.y*c.x}function Ld(a){return V(1*a.y,-1*a.x)}function Md(a,c){return V(a.u.x*c.x+a.A.x*c.y,a.u.y*c.x+a.A.y*c.y)}function Nd(a,c){return V(Jd(c,a.u),Jd(c,a.A))}function Od(a,c){var b=Md(a.D,c);b.x+=a.position.x;b.y+=a.position.y;return b}
function Pd(a,c){var b=Qd(c,a.position),d=b.x*a.D.u.x+b.y*a.D.u.y;b.y=b.x*a.D.A.x+b.y*a.D.A.y;b.x=d;return b}function Qd(a,c){return V(a.x-c.x,a.y-c.y)}function Rd(a,c,b){return a<c?c:a>b?b:a}function Sd(){this.u=V(0,0);this.A=V(0,0);this.u.Set(1,0);this.A.Set(0,1)}function Td(a){var c=new Sd;c.Set(a);return c}Sd.prototype.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.u.Set(c,a);this.A.Set(-a,c)};Sd.prototype.rc=function(){var a=new Sd;Ud(a,this);return a};
function Ud(a,c){a.u.S(c.u);a.A.S(c.A)}Sd.prototype.ua=function(){this.u.Set(0,0);this.A.Set(0,0)};Sd.prototype.Mh=function(){return Math.atan2(this.u.y,this.u.x)};function Vd(a,c){var b=a.u.x*a.A.y-a.A.x*a.u.y;0!==b&&(b=1/b);c.u.x=b*a.A.y;c.A.x=-b*a.A.x;c.u.y=-b*a.u.y;c.A.y=b*a.u.x}function Wd(a,c,b,d){var f=a.u.x*a.A.y-a.A.x*a.u.y;0!==f&&(f=1/f);c.x=f*(a.A.y*b-a.A.x*d);c.y=f*(a.u.x*d-a.u.y*b);return c}
function Xd(a,c,b){this.u=new ne(0,0,0);this.A=new ne(0,0,0);this.k=new ne(0,0,0);a&&this.u.S(a);c&&this.A.S(c);b&&this.k.S(b)}Xd.prototype.rc=function(){return new Xd(this.u,this.A,this.k)};Xd.prototype.ua=function(){this.u.Set(0,0,0);this.A.Set(0,0,0);this.k.Set(0,0,0)};function oe(a,c,b,d){var f=a.u.x,h=a.A.x,e=a.u.y;a=a.A.y;var k=f*a-h*e;0!=k&&(k=1/k);c.x=k*(a*b-h*d);c.y=k*(f*d-e*b);return c}
function pe(a,c,b,d,f){var h=a.u.x,e=a.u.y,k=a.u.z,g=a.A.x,n=a.A.y,l=a.A.z,m=a.k.x,q=a.k.y;a=a.k.z;var p=h*(n*a-l*q)+e*(l*m-g*a)+k*(g*q-n*m);0!=p&&(p=1/p);c.x=p*(b*(n*a-l*q)+d*(l*m-g*a)+f*(g*q-n*m));c.y=p*(h*(d*a-f*q)+e*(f*m-b*a)+k*(b*q-d*m));c.z=p*(h*(n*f-l*d)+e*(l*b-g*f)+k*(g*d-n*b));return c}function qe(){this.U=V(0,0);this.Jc=V(0,0);this.I=V(0,0)}qe.prototype.Set=function(a){this.U.S(a.U);this.Jc.S(a.Jc);this.I.S(a.I);this.Je=a.Je;this.T=a.T;this.vd=a.vd};
qe.prototype.rc=function(){var a=new qe;a.U.S(this.U);a.Jc.S(this.Jc);a.I.S(this.I);a.Je=this.Je;a.T=this.T;a.vd=this.vd;return a};qe.prototype.Zd=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.Jc.x+c*this.I.x;a.position.y=(1-c)*this.Jc.y+c*this.I.y;a.D.Set((1-c)*this.Je+c*this.T);var b=a.D;a.position.x-=b.u.x*this.U.x+b.A.x*this.U.y;a.position.y-=b.u.y*this.U.x+b.A.y*this.U.y};
qe.prototype.Pg=function(a){void 0===a&&(a=0);if(this.vd<a&&1-this.vd>Number.MIN_VALUE){var c=(a-this.vd)/(1-this.vd);this.Jc.x=(1-c)*this.Jc.x+c*this.I.x;this.Jc.y=(1-c)*this.Jc.y+c*this.I.y;this.Je=(1-c)*this.Je+c*this.T;this.vd=a}};function re(a,c){this.position=V(0,0);this.D=new Sd;a&&this.position.S(a);c&&Ud(this.D,c)}re.prototype.Set=function(a){this.position.S(a.position);Ud(this.D,a.D)};re.prototype.Mh=function(){return Math.atan2(this.D.u.y,this.D.u.x)};
function se(a,c){this.x=a;this.y=c}var te=[];function V(a,c){if(0<te.length){var b=te.pop();b.Set(a,c);return b}return new se(a,c)}function ue(a){te.push(a)}x=se.prototype;x.ua=function(){this.y=this.x=0};x.Set=function(a,c){this.x=a;this.y=c};x.S=function(a){this.x=a.x;this.y=a.y};x.Sg=function(){return V(-this.x,-this.y)};x.rc=function(){return V(this.x,this.y)};x.zf=function(a){this.x+=a.x;this.y+=a.y};x.Sr=function(a){this.x-=a.x;this.y-=a.y};x.ue=function(a){this.x*=a;this.y*=a};
function ve(a){return Math.sqrt(we(a))}function we(a){return a.x*a.x+a.y*a.y}function xe(a){var c=ve(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}function ne(a,c,b){this.x=a;this.y=c;this.z=b}x=ne.prototype;x.ua=function(){this.z=this.y=this.x=0};x.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};x.S=function(a){this.x=a.x;this.y=a.y;this.z=a.z};x.Sg=function(){return new ne(-this.x,-this.y,-this.z)};x.rc=function(){return new ne(this.x,this.y,this.z)};
x.zf=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};x.Sr=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};x.ue=function(a){this.x*=a;this.y*=a;this.z*=a};function ye(){this.gb=.005}x=ye.prototype;x.Oh=function(){};x.rc=function(){};x.Set=function(a){this.gb=a.gb};x.Ki=function(){};x.Lj=function(){};x.Il=function(){};x.zo=function(){};function ze(a){this.gb=.005;this.gb=a;this.k=a*a;this.qb=V(0,0)}Ad(ze,ye);x=ze.prototype;x.Oh=function(){return"b2CircleShape"};
x.rc=function(){var a=new ze(this.gb);a.Set(this);return a};x.Set=function(a){ye.prototype.Set.call(this,a);a instanceof ze&&this.qb.S(a.qb)};x.Ki=function(a,c){var b=c.D,d=c.position.x+(b.u.x*this.qb.x+b.A.x*this.qb.y),b=c.position.y+(b.u.y*this.qb.x+b.A.y*this.qb.y);a.k.Set(d-this.gb,b-this.gb);a.n.Set(d+this.gb,b+this.gb)};x.Lj=function(a,c){a.k=c*Math.PI*this.k;a.n.S(this.qb);a.B=a.k*(.5*this.k+(this.qb.x*this.qb.x+this.qb.y*this.qb.y))};
x.Il=function(a,c,b,d){b=Od(b,this.qb);var f=-(Jd(a,b)-c);if(f<-this.gb+Number.MIN_VALUE)return 0;if(f>this.gb)return d.S(b),Math.PI*this.k;c=f*f;f=this.k*(Math.asin(f/this.gb)+Math.PI/2)+f*Math.sqrt(this.k-c);c=-2/3*Math.pow(this.k-c,1.5)/f;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return f};x.zo=function(a){a.W=[this.qb];a.k=1;a.gb=this.gb};
function Ae(a,c){this.gb=.005;this.k=a;this.n=c;this.B=V(this.n.x-this.k.x,this.n.y-this.k.y);xe(this.B);this.F=V(this.B.y,-this.B.x);V(-.04*(this.F.x-this.B.x)+this.k.x,-.04*(this.F.y-this.B.y)+this.k.y);V(-.04*(this.F.x+this.B.x)+this.n.x,-.04*(this.F.y+this.B.y)+this.n.y);V(-this.F.x,-this.F.y)}Ad(Ae,ye);Ae.prototype.Oh=function(){return"b2EdgeShape"};
Ae.prototype.Ki=function(a,c){var b=c.D,d=c.position.x+(b.u.x*this.k.x+b.A.x*this.k.y),f=c.position.y+(b.u.y*this.k.x+b.A.y*this.k.y),h=c.position.x+(b.u.x*this.n.x+b.A.x*this.n.y),b=c.position.y+(b.u.y*this.n.x+b.A.y*this.n.y);d<h?(a.k.x=d,a.n.x=h):(a.k.x=h,a.n.x=d);f<b?(a.k.y=f,a.n.y=b):(a.k.y=b,a.n.y=f)};Ae.prototype.Lj=function(a){a.k=0;a.n.S(this.k);a.B=0};
Ae.prototype.Il=function(a,c,b,d){void 0===c&&(c=0);var f=V(a.x*c,a.y*c),h=Od(b,this.k);b=Od(b,this.n);var e=Jd(a,h)-c;a=Jd(a,b)-c;if(0<e){if(0<a)return 0;h.x=-a/(e-a)*h.x+e/(e-a)*b.x;h.y=-a/(e-a)*h.y+e/(e-a)*b.y}else 0<a&&(b.x=-a/(e-a)*h.x+e/(e-a)*b.x,b.y=-a/(e-a)*h.y+e/(e-a)*b.y);d.x=(f.x+h.x+b.x)/3;d.y=(f.y+h.y+b.y)/3;return.5*((h.x-f.x)*(b.y-f.y)-(h.y-f.y)*(b.x-f.x))};function Be(){this.k=0;this.n=V(0,0);this.B=0}function Ce(){this.gb=.005;this.k=V(0,0);this.W=[];this.xb=[]}Ad(Ce,ye);x=Ce.prototype;
x.Oh=function(){return"b2PolygonShape"};x.rc=function(){var a=new Ce;a.Set(this);return a};x.Set=function(a){ye.prototype.Set.call(this,a);if(a instanceof Ce){this.k.S(a.k);this.kb=a.kb;De(this,this.kb);for(var c=0;c<this.kb;c++)this.W[c].S(a.W[c]),this.xb[c].S(a.xb[c])}};
function Ee(a,c){var b=c.length;a.kb=b;De(a,b);for(b=b=0;b<a.kb;b++)a.W[b].S(c[b]);for(b=0;b<a.kb;++b){var d=Qd(a.W[b+1<a.kb?b+1:0],a.W[b]);a.xb[b].S(Ld(d));xe(a.xb[b])}for(var b=a.W,d=a.kb,f=V(0,0),h=0,e=1/3,k=0;k<d;++k){var g=b[k],n=k+1<d?b[k+1]:b[0],l=.5*((g.x-0)*(n.y-0)-(g.y-0)*(n.x-0)),h=h+l;f.x+=l*e*(0+g.x+n.x);f.y+=l*e*(0+g.y+n.y)}f.x*=1/h;f.y*=1/h;a.k=f}
function Fe(a,c,b){a.kb=4;De(a,4);a.W[0].Set(-c,-b);a.W[1].Set(c,-b);a.W[2].Set(c,b);a.W[3].Set(-c,b);a.xb[0].Set(0,-1);a.xb[1].Set(1,0);a.xb[2].Set(0,1);a.xb[3].Set(-1,0);a.k.ua()}
x.Ki=function(a,c){for(var b=c.D,d=this.W[0],f=c.position.x+(b.u.x*d.x+b.A.x*d.y),h=c.position.y+(b.u.y*d.x+b.A.y*d.y),e=f,k=h,g=1;g<this.kb;++g)var d=this.W[g],n=c.position.x+(b.u.x*d.x+b.A.x*d.y),d=c.position.y+(b.u.y*d.x+b.A.y*d.y),f=f<n?f:n,h=h<d?h:d,e=e>n?e:n,k=k>d?k:d;a.k.x=f-this.gb;a.k.y=h-this.gb;a.n.x=e+this.gb;a.n.y=k+this.gb};
x.Lj=function(a,c){if(2==this.kb)a.n.x=.5*(this.W[0].x+this.W[1].x),a.n.y=.5*(this.W[0].y+this.W[1].y),a.k=0,a.B=0;else{for(var b=0,d=0,f=0,h=0,e=1/3,k=0;k<this.kb;++k)var g=this.W[k],n=k+1<this.kb?this.W[k+1]:this.W[0],l=g.x-0,m=g.y-0,q=n.x-0,p=n.y-0,v=l*p-m*q,r=.5*v,f=f+r,b=b+r*e*(0+g.x+n.x),d=d+r*e*(0+g.y+n.y),g=l,h=h+v*(e*(.25*(g*g+q*g+q*q)+(0*g+0*q))+0+(e*(.25*(m*m+p*m+p*p)+(0*m+0*p))+0));a.k=c*f;a.n.Set(1/f*b,1/f*d);a.B=c*h}};
x.Il=function(a,c,b,d){var f=Nd(b.D,a),h=c-Jd(a,b.position),e=[],k=0,g=-1;c=-1;var n=!1;for(a=a=0;a<this.kb;++a){e[a]=Jd(f,this.W[a])-h;var l=e[a]<-Number.MIN_VALUE;0<a&&(l?n||(g=a-1,k++):n&&(c=a-1,k++));n=l}switch(k){case 0:return n?(a=new Be,this.Lj(a,1),d.S(Od(b,a.n)),a.k):0;case 1:-1==g?g=this.kb-1:c=this.kb-1}a=(g+1)%this.kb;f=(c+1)%this.kb;h=(0-e[g])/(e[a]-e[g]);e=(0-e[c])/(e[f]-e[c]);g=V(this.W[g].x*(1-h)+this.W[a].x*h,this.W[g].y*(1-h)+this.W[a].y*h);c=V(this.W[c].x*(1-e)+this.W[f].x*e,this.W[c].y*
(1-e)+this.W[f].y*e);e=0;h=V(0,0);for(k=this.W[a];a!=f;)a=(a+1)%this.kb,n=a==f?c:this.W[a],l=.5*((k.x-g.x)*(n.y-g.y)-(k.y-g.y)*(n.x-g.x)),e+=l,h.x+=l*(g.x+k.x+n.x)/3,h.y+=l*(g.y+k.y+n.y)/3,k=n;h.ue(1/e);d.S(Od(b,h));return e};x.zo=function(a){a.W=this.W;a.k=this.kb;a.gb=this.gb};x.Jl=function(a){for(var c=0,b=this.W[0].x*a.x+this.W[0].y*a.y,d=1;d<this.kb;++d){var f=this.W[d].x*a.x+this.W[d].y*a.y;f>b&&(c=d,b=f)}return c};
x.Oj=function(a){for(var c=0,b=this.W[0].x*a.x+this.W[0].y*a.y,d=1;d<this.kb;++d){var f=this.W[d].x*a.x+this.W[d].y*a.y;f>b&&(c=d,b=f)}return this.W[c]};function De(a,c){a.W=[];a.xb=[];for(var b=a.W.length;b<c;b++)a.W[b]=V(0,0),a.xb[b]=V(0,0)}new Sd;function Ge(){this.n=this.k=this.B=this.Zb=0}function He(a,c){a.Zb=c;a.B=a.Zb&255;a.k=(a.Zb&65280)>>8&255;a.n=(a.Zb&16711680)>>16&255;a.F=(a.Zb&4278190080)>>24&255}Ge.prototype.Set=function(a){He(this,a.Zb)};
Ge.prototype.rc=function(){var a=new Ge;a.Set(this);return a};function Ie(){this.Ie=V(0,0);this.id=new Ge}Ie.prototype.Set=function(a){this.Ie.S(a.Ie);this.id.Set(a.id)};function Je(){this.k=V(0,0);this.n=V(0,0)}var Ke=[];function Le(){if(0<Ke.length){var a=Ke.pop();a.ua();return a}return new Je}Je.prototype.ua=function(){this.k.Set(0,0);this.n.Set(0,0)};function Qe(a,c){var b;return b=(b=(b=(b=a.k.x<=c.k.x)&&a.k.y<=c.k.y)&&c.n.x<=a.n.x)&&c.n.y<=a.n.y}
Je.prototype.Qj=function(a){return 0<a.k.x-this.n.x||0<a.k.y-this.n.y||0<this.k.x-a.n.x||0<this.k.y-a.n.y?!1:!0};function Re(a,c,b){a.k.x=Math.min(c.k.x,b.k.x);a.k.y=Math.min(c.k.y,b.k.y);a.n.x=Math.max(c.n.x,b.n.x);a.n.y=Math.max(c.n.y,b.n.y)}function Se(a,c,b,d){var f=0,h=c[0].Ie,e=c[1].Ie,k=b.x*h.x+b.y*h.y-d;b=b.x*e.x+b.y*e.y-d;0>=k&&a[f++].Set(c[0]);0>=b&&a[f++].Set(c[1]);0>k*b&&(b=k/(k-b),d=a[f].Ie,d.x=h.x+b*(e.x-h.x),d.y=h.y+b*(e.y-h.y),a[f].id=0<k?c[0].id:c[1].id,f++);return f}
function Te(a,c,b,d,f){for(var h=c.D.u.x*a.xb[b].x+c.D.A.x*a.xb[b].y,e=c.D.u.y*a.xb[b].x+c.D.A.y*a.xb[b].y,k=f.D.u.x*h+f.D.u.y*e,g=f.D.A.x*h+f.D.A.y*e,n=0,l=Number.MAX_VALUE,m=0;m<d.kb;m++){var q=d.W[m].x*k+d.W[m].y*g;q<l&&(l=q,n=m)}return(f.position.x+(f.D.u.x*d.W[n].x+f.D.A.x*d.W[n].y)-(c.position.x+(c.D.u.x*a.W[b].x+c.D.A.x*a.W[b].y)))*h+(f.position.y+(f.D.u.y*d.W[n].x+f.D.A.y*d.W[n].y)-(c.position.y+(c.D.u.y*a.W[b].x+c.D.A.y*a.W[b].y)))*e}
function Ue(a,c,b,d){for(var f=d.position.x+(d.D.u.x*b.k.x+d.D.A.x*b.k.y),h=d.position.y+(d.D.u.y*b.k.x+d.D.A.y*b.k.y),f=f-(c.position.x+(c.D.u.x*a.k.x+c.D.A.x*a.k.y)),h=h-(c.position.y+(c.D.u.y*a.k.x+c.D.A.y*a.k.y)),e=f*c.D.u.x+h*c.D.u.y,h=f*c.D.A.x+h*c.D.A.y,f=0,k=-Number.MAX_VALUE,g=0;g<a.kb;++g){var n=a.xb[g].x*e+a.xb[g].y*h;n>k&&(k=n,f=g)}e=Te(a,c,f,b,d);h=f-1;0>h&&(h=a.kb-1);k=Te(a,c,h,b,d);g=f+1;g>=a.kb&&(g=0);var n=Te(a,c,g,b,d),l=0,m=0;if(k>e&&k>n)for(l=h,m=k;;)if(f=l-1,0>f&&(f=a.kb-1),e=
Te(a,c,f,b,d),e>m)l=f,m=e;else break;else if(n>e)for(l=g,m=n;;)if(f=l+1,f>=a.kb&&(f=0),e=Te(a,c,f,b,d),e>m)l=f,m=e;else break;else l=f,m=e;return{cs:l,Qn:m}}
function Ve(a,c,b){var d=new We,f=b.Bg,h=b.k,e=b.Cg,k=b.n,g,n;d.k=c.count;for(var l=d.W,m=0;m<d.k;m++){var q=l[m];q.cc=c.cc[m];q.ec=c.ec[m];g=Xe(f,q.cc);n=Xe(e,q.ec);q.cd=Od(h,g);q.gf=Od(k,n);q.Sc=Qd(q.gf,q.cd);q.T=0}1<d.k&&(g=c.k,n=Ye(d),n<.5*g||2*g<n||n<Number.MIN_VALUE)&&(d.k=0);0==d.k&&(q=l[0],q.cc=0,q.ec=0,g=Xe(f,0),n=Xe(e,0),q.cd=Od(h,g),q.gf=Od(k,n),q.Sc=Qd(q.gf,q.cd),d.k=1);for(f=0;20>f;){h=[];for(e=0;e<d.k;e++)h[e]={},h[e].cc=d.W[e].cc,h[e].ec=d.W[e].ec;if(2==d.k)e=d,k=e.n.Sc,l=e.B.Sc,g=
Qd(l,k),k=-(k.x*g.x+k.y*g.y),0>=k?(e.n.T=1,e.k=1):(l=l.x*g.x+l.y*g.y,0>=l?(e.B.T=1,e.k=1,e.n.Set(e.B)):(g=1/(l+k),e.n.T=l*g,e.B.T=k*g,e.k=2));else if(3==d.k){var e=d,p=e.n.Sc,v=e.B.Sc,r=e.F.Sc,u=Qd(v,p),k=Jd(v,u),l=-Jd(p,u),t=Qd(r,p);g=Jd(r,t);n=-Jd(p,t);q=Qd(r,v);m=Jd(r,q);q=-Jd(v,q);t=Kd(u,t);u=t*Kd(v,r);r=t*Kd(r,p);p=t*Kd(p,v);0>=l&&0>=n?(e.n.T=1,e.k=1):0<k&&0<l&&0>=p?(g=1/(k+l),e.n.T=k*g,e.B.T=l*g,e.k=2):0<g&&0<n&&0>=r?(k=1/(g+n),e.n.T=g*k,e.F.T=n*k,e.k=2,e.B.Set(e.F)):0>=k&&0>=q?(e.B.T=1,e.k=
1,e.n.Set(e.B)):0>=g&&0>=m?(e.F.T=1,e.k=1,e.n.Set(e.F)):0<m&&0<q&&0>=u?(k=1/(m+q),e.B.T=m*k,e.F.T=q*k,e.k=2,e.n.Set(e.F)):(k=1/(u+r+p),e.n.T=u*k,e.B.T=r*k,e.F.T=p*k,e.k=3)}if(3==d.k)break;e=d;1==e.k?e=e.n.Sc.Sg():2==e.k?(k=Qd(e.B.Sc,e.n.Sc),e=0<Kd(k,e.n.Sc.Sg())?V(-1*k.y,1*k.x):Ld(k)):e=V(0,0);if(we(e)<Id)break;k=e.Sg();d.W[d.k].cc=b.Bg.Jl(Nd(b.k.D,k));d.W[d.k].cd=Od(b.k,Xe(b.Bg,d.W[d.k].cc));d.W[d.k].ec=b.Cg.Jl(Nd(b.n.D,e));d.W[d.k].gf=Od(b.n,Xe(b.Cg,d.W[d.k].ec));d.W[d.k].Sc=Qd(d.W[d.k].gf,d.W[d.k].cd);
ue(e);ue(k);f++;k=!1;for(e=0;e<h.length;e++)if(d.W[d.k].cc==h[e].cc&&d.W[d.k].ec==h[e].ec){k=!0;break}if(k)break;d.k++}f=a.k;h=a.n;1==d.k?(f.S(d.n.cd),h.S(d.n.gf)):2==d.k?(f.x=d.n.T*d.n.cd.x+d.B.T*d.B.cd.x,f.y=d.n.T*d.n.cd.y+d.B.T*d.B.cd.y,h.x=d.n.T*d.n.gf.x+d.B.T*d.B.gf.x,h.y=d.n.T*d.n.gf.y+d.B.T*d.B.gf.y):3==d.k&&(h.x=f.x=d.n.T*d.n.cd.x+d.B.T*d.B.cd.x+d.F.T*d.F.cd.x,h.y=f.y=d.n.T*d.n.cd.y+d.B.T*d.B.cd.y+d.F.T*d.F.cd.y);a.B=ve(Qd(a.k,a.n));c.k=Ye(d);c.count=d.k;f=d.W;for(h=0;h<d.k;h++)c.cc[h]=f[h].cc,
c.ec[h]=f[h].ec;b.B&&(c=b.Bg.gb,b=b.Cg.gb,a.B>c+b&&a.B>Number.MIN_VALUE?(a.B-=c+b,d=Qd(a.n,a.k),xe(d),a.k.x+=c*d.x,a.k.y+=c*d.y,a.n.x-=b*d.x,a.n.y-=b*d.y,ue(d)):(b=V(0,0),b.x=.5*(a.k.x+a.n.x),b.y=.5*(a.k.y+a.n.y),a.k.x=a.n.x=b.x,a.k.y=a.n.y=b.y,a.B=0,ue(b)))}function Ze(){}function $e(){this.k=V(0,0);this.n=V(0,0);this.B=0}function af(){}af.prototype.Set=function(a){a.zo(this)};
af.prototype.Jl=function(a){for(var c=0,b=this.W[0].x*a.x+this.W[0].y*a.y,d=1;d<this.k;d++){var f=this.W[d].x*a.x+this.W[d].y*a.y;f>b&&(c=d,b=f)}return c};af.prototype.Oj=function(a){return this.W[this.Jl(a)]};function Xe(a,c){void 0===c&&(c=0);return a.W[c]}function bf(){this.k=null}bf.prototype.Mj=function(a){cf(this,a);a.zd()};function df(a,c,b){if(null!==a.k){var d=[];for(d.push(a.k);0<d.length;)if(a=d.pop(),a.Va.Qj(b))if(null===a.Md){if(!c(a.Re))break}else d.push(a.Md),d.push(a.Hf)}}
function ef(a,c){if(null===a.k)a.k=c,a.k.parent=null;else{var b;b=c.Va;b=V((b.k.x+b.n.x)/2,(b.k.y+b.n.y)/2);for(var d=a.k;null!==d.Md;)var f=d.Md,d=d.Hf,h=Math.abs((f.Va.k.x+f.Va.n.x)/2-b.x)+Math.abs((f.Va.k.y+f.Va.n.y)/2-b.y),e=Math.abs((d.Va.k.x+d.Va.n.x)/2-b.x)+Math.abs((d.Va.k.y+d.Va.n.y)/2-b.y),d=h<e?f:d;ue(b);b=d;f=b.parent;d=ff();d.parent=f;Re(d.Va,c.Va,b.Va);if(f)for(b.parent.Md==b?f.Md=d:f.Hf=d,d.Md=b,d.Hf=c,b.parent=d,c.parent=d;f&&!Qe(f.Va,d.Va);)Re(f.Va,f.Md.Va,f.Hf.Va),d=f,f=f.parent;
else d.Md=b,d.Hf=c,b.parent=d,c.parent=d,a.k=d}}function cf(a,c){if(c==a.k)a.k=null;else{var b=c.parent,d=b.parent,f;f=b.Md==c?b.Hf:b.Md;if(d)for(d.Md==b?d.Md=f:d.Hf=f,f.parent=d;d;){f=d.Va;Re(d.Va,d.Md.Va,d.Hf.Va);if(Qe(f,d.Va))break;d=d.parent}else a.k=f,f.parent=null;b.zd()}}function gf(){this.n=new bf;this.k=[]}gf.prototype.Mj=function(a){Ja(this.k,a);this.n.Mj(a)};gf.prototype.Qj=function(a,c){return a.Va.Qj(c.Va)};
function hf(a,c){for(var b=[];0<a.k.length;){var d=a.k.pop();df(a.n,function(a){a!=d.Re&&b.push(new jf(d.Re,a));return!0},d.Va)}for(var f=0;f<b.length;){var h=b[f];c(h.ek,h.fk);for(f++;f<b.length;){var e=b[f];if(!(e.ek==h.ek&&e.fk==h.fk||e.ek==h.fk&&e.fk==h.ek))break;f++}}}function kf(a){this.Va=Le();this.Re=this.parent=this.Hf=this.Md=null;"undefined"!=typeof a&&(this.Re=a)}var lf=[];
function ff(a){if(0<lf.length){var c=lf.pop();"undefined"!=typeof a&&(c.Re=a);c.Va.ua();return c}return new kf(a)}kf.prototype.zd=function(){this.Re=this.parent=this.Hf=this.Md=null;lf.push(this)};function jf(a,c){this.ek=a;this.fk=c}function mf(){this.Sa=this.Sb=0;this.wa=[];for(var a=0;2>a;a++)this.wa[a]=new nf;this.Nc=V(0,0);this.Ea=V(0,0)}mf.prototype.Ic=function(){for(var a=0;2>a;a++)this.wa[a].Ic();this.Nc.ua();this.Ea.ua();this.Sb=this.Sa=0};
mf.prototype.Set=function(a){this.Sb=a.Sb;for(var c=0;2>c;c++)this.wa[c].Set(a.wa[c]);this.Nc.S(a.Nc);this.Ea.S(a.Ea);this.Sa=a.Sa};mf.prototype.rc=function(){var a=new mf;a.Set(this);return a};function nf(){this.Ea=V(0,0);this.We=new Ge;this.Ic()}nf.prototype.Ic=function(){this.Ea.ua();this.xi=this.wi=0;He(this.We,0)};nf.prototype.Set=function(a){this.Ea.S(a.Ea);this.wi=a.wi;this.xi=a.xi;this.We.Set(a.We)};
function of(){var a=pf,c=qf,b=rf,d,f,h=0;switch(a.Sa){case sf:d=Nd(c.D,a.k);f=Nd(b.D,a.k.Sg());d=a.n.Oj(d);f=a.B.Oj(f);c=Od(c,d);b=Od(b,f);h=(b.x-c.x)*a.k.x+(b.y-c.y)*a.k.y;break;case tf:h=Md(c.D,a.k);c=Od(c,a.Ea);f=Nd(b.D,h.Sg());f=a.B.Oj(f);b=Od(b,f);h=(b.x-c.x)*h.x+(b.y-c.y)*h.y;break;case zf:h=Md(b.D,a.k),b=Od(b,a.Ea),d=Nd(c.D,h.Sg()),d=a.n.Oj(d),c=Od(c,d),h=(c.x-b.x)*h.x+(c.y-b.y)*h.y}return h}var sf=1,tf=2,zf=4;
function We(){this.n=new Ef;this.B=new Ef;this.F=new Ef;this.W=[this.n,this.B,this.F]}function Ye(a){return 1==a.k?0:2==a.k?ve(Qd(a.n.Sc,a.B.Sc)):3==a.k?Kd(Qd(a.B.Sc,a.n.Sc),Qd(a.F.Sc,a.n.Sc)):0}function Lf(){this.cc=[0,0,0];this.ec=[0,0,0]}function Ef(){}Ef.prototype.Set=function(a){this.cd.S(a.cd);this.gf.S(a.gf);this.Sc.S(a.Sc);this.T=a.T;this.cc=a.cc;this.ec=a.ec};function Mf(){this.Bg=new af;this.Cg=new af;this.Yu=new qe;this.Zu=new qe}
function Nf(a,c){this.aa="Body"+Of++;this.J=new re;this.J.position.S(a.position);this.J.D.Set(a.M);this.q=new qe;this.q.U.ua();this.q.vd=1;this.q.Je=this.q.T=a.M;this.q.I.x=this.J.D.u.x*this.q.U.x+this.J.D.A.x*this.q.U.y;this.q.I.y=this.J.D.u.y*this.q.U.x+this.J.D.A.y*this.q.U.y;this.q.I.x+=this.J.position.x;this.q.I.y+=this.J.position.y;this.q.Jc.S(this.q.I);this.C=a.P.rc();this.n=V(0,0);this.K=a.Qi;this.tb=a.k;this.Na=a.n;this.he=a.F;this.ja=a.tc;this.ie=c;this.Gb=null;this.Ad=new Pf;this.da=new Qf;
this.L=a.B;this.jb=a.mj;this.Qa=a.Oi;this.N=this.B=0;this.Sa=a.type;this.Z=2==this.Sa?1:0;this.R=2==this.Sa?1:0;this.Y=this.k=0;this.Ra=a.K;this.F=new Rf;this.P=[]}function Sf(a,c){var b=new Tf(a,0,c);if(a.ja){var d=a.ie.k.k;b.oc.Ki(b.k,a.J);var f=d.n,h=b.k,e=ff(b);e.Va.k.x=h.k.x-.1;e.Va.k.y=h.k.y-.1;e.Va.n.x=h.n.x+.1;e.Va.n.y=h.n.y+.1;ef(f,e);d.k.push(e);b.n=e}d=a.F;f=b.Dr;null==d.k[f]&&(h=new Uf(b),e=d.B,null!=e?e.next=h:d.n=h,h.ag(e),d.B=h,d.k[f]=h);b.fq=a;0<b.F&&Vf(a);a.ie.n=!0}x=Nf.prototype;
x.zd=function(){ue(this.C);ue(this.n)};function Wf(a,c,b){a.J.D.Set(b);a.J.position.S(c);c=a.J.D;var d=a.q.U;a.q.I.x=c.u.x*d.x+c.A.x*d.y;a.q.I.y=c.u.y*d.x+c.A.y*d.y;a.q.I.x+=a.J.position.x;a.q.I.y+=a.J.position.y;a.q.Jc.S(a.q.I);a.q.Je=a.q.T=b;b=a.ie.k.k;for(c=a.F.cb();c;c=c.Pa())Xf(c.Re,b,a.J,a.J);Yf(a.ie.k)}x.Zd=function(){return this.J};x.Mh=function(){return this.q.T};x.Pr=function(a){Wf(this,this.J.position,a)};function Zf(a,c){0!=a.Sa&&a.C.S(c)}
x.Nl=function(a){void 0===a&&(a=0);0!=this.Sa&&(this.L=a)};x.Qg=function(a,c){2==this.Sa&&($f(this,!0),this.n.x+=a.x,this.n.y+=a.y,this.B+=(c.x-this.q.I.x)*a.y-(c.y-this.q.I.y)*a.x)};x.to=function(a){void 0===a&&(a=0);2==this.Sa&&($f(this,!0),this.B+=a)};
function Vf(a){a.Z=0;a.R=0;a.k=0;a.Y=0;a.q.U.ua();if(0!=a.Sa&&1!=a.Sa){for(var c=V(0,0),b=a.F.cb();b;b=b.Pa()){var d=b.Re;if(0!=d.F){var f=void 0,f=new Be;d.oc.Lj(f,d.F);d=f;a.Z+=d.k;c.x+=d.n.x*d.k;c.y+=d.n.y*d.k;a.k+=d.B}}0<a.Z?(a.R=1/a.Z,c.x*=a.R,c.y*=a.R):(a.Z=1,a.R=1);0<a.k&&!a.tb?(a.k-=a.Z*(c.x*c.x+c.y*c.y),a.k*=a.Ra,a.Y=1/a.k):(a.k=0,a.Y=0);b=a.q.I.rc();a.q.U.S(c);a.q.Jc.S(Od(a.J,a.q.U));a.q.I.S(a.q.Jc);a.C.x+=a.L*-(a.q.I.y-b.y);a.C.y+=a.L*+(a.q.I.x-b.x);ue(c);ue(b)}}
function ag(a,c){var b=a.J.D,b=V(b.u.x*c.x+b.A.x*c.y,b.u.y*c.x+b.A.y*c.y);b.x+=a.J.position.x;b.y+=a.J.position.y;return b}x.Tc=function(){return this.Sa};function $f(a,c){if(a.he!=c){a.he=c;a.N=0;c||(a.C.ua(),a.L=0,a.n.ua(),a.B=0);for(var b=0;b<a.P.length;b++)bg(a.P[b],a)}}x.Ph=function(){return this.ja};x.Nh=function(){return this.Ad};
function cg(a){dg.D.Set(a.q.Je);var c=dg.D,b=a.q.U;dg.position.x=a.q.Jc.x-(c.u.x*b.x+c.A.x*b.y);dg.position.y=a.q.Jc.y-(c.u.y*b.x+c.A.y*b.y);c=a.ie.k.k;for(b=a.F.cb();b;b=b.Pa())Xf(b.Re,c,dg,a.J)}function eg(a){a.J.D.Set(a.q.T);var c=a.J.D,b=a.q.U;a.J.position.x=a.q.I.x-(c.u.x*b.x+c.A.x*b.y);a.J.position.y=a.q.I.y-(c.u.y*b.x+c.A.y*b.y)}function fg(a,c){if(2!=a.Sa&&2!=c.Sa)return!1;for(var b=a.Gb;b;b=b.next)if(b.Ee==c&&0==b.tg.Nt)return!1;return!0}
x.Pg=function(a){this.q.Pg(a);this.q.I.S(this.q.Jc);this.q.T=this.q.Je;eg(this)};var Of=0;function gg(){this.position=V(0,0);this.P=V(0,0);this.Oi=this.mj=this.B=this.M=0;this.F=this.n=!0;this.Qi=this.k=!1;this.type=0;this.tc=!0;this.K=1}function hg(){this.n=[];for(var a=0;a<=ig;a++)this.n[a]=null;this.B=[];for(a=0;a<=ig;a++)this.B[a]=null;this.k={}}hg.prototype.cb=function(a){return this.n[a]};
function bg(a,c){var b=c.Tc(),d=c.aa,f=c.he,h=c.Ph();2==b?jg(a,c,d,kg):lg(a,d,kg);0!=b?jg(a,c,d,mg):lg(a,d,mg);0!=b&&h&&f?jg(a,c,d,ng):lg(a,d,ng);f?jg(a,c,d,og):lg(a,d,og);h?jg(a,c,d,pg):lg(a,d,pg)}hg.prototype.Ml=function(a){var c=a.aa;if(null!=this.k[c]){Ja(a.P,this);for(a=0;a<=ig;a++)lg(this,c,a);delete this.k[c]}};function lg(a,c,b){var d=a.k[c];null!=d&&(c=d[b],null!=c&&(d[b]=null,d=c.k,c=c.Pa(),null==d?a.n[b]=c:d.next=c,null==c?a.B[b]=d:c.ag(d)))}
function jg(a,c,b,d){var f=a.k[b];if(null==f){for(var f=[],h=0;h<=ig;h++)f[h]=null;a.k[b]=f}null==f[d]&&(f[d]=new qg(c),c=a.B[d],null!=c?c.next=f[d]:a.n[d]=f[d],f[d].ag(c),a.B[d]=f[d])}var kg=0,mg=1,pg=2,ng=3,og=4,ig=5;function qg(a){this.body=a;this.k=this.next=null}qg.prototype.ag=function(a){this.k=a};qg.prototype.ib=function(){return this.body};qg.prototype.Pa=function(){return this.next};function rg(){}
rg.prototype.k=function(a,c){var b=a.K.rc(),d=c.K.rc();return b.k==d.k&&0!=b.k?0<b.k:0!=(b.B&d.n)&&0!=(b.n&d.B)};var sg=new rg;function tg(){this.k=[];this.n=[]}function ug(){}ug.prototype.BeginContact=function(){};ug.prototype.EndContact=function(){};function vg(a){this.ie=a;this.B=sg;this.n=wg;this.F=new xg;this.k=new gf}
function Yf(a){hf(a.k,function(c,b){a:{var d=c.ib(),f=b.ib();if(d!=f&&fg(f,d)&&a.B.k(c,b)){for(d=f.Ad.cb(yg);d;d=d.Pa())if(f=d.kc.gc,f==c){if(f=d.kc.Rb,f==b)break a}else if(f==b&&(f=d.kc.Rb,f==c))break a;a.F.B(c,b)}}})}vg.prototype.zd=function(a){a.Ii&&this.n.EndContact(a);0<a.Ce.Sb&&($f(a.gc.ib(),!0),$f(a.Rb.ib(),!0));zg(a.am,a);zg(a.cm,a);zg(a.ro,a);this.F.zd(a)};function Ag(){this.n=1;this.B=65535;this.k=0}Ag.prototype.rc=function(){var a=new Ag;a.n=this.n;a.B=this.B;a.k=this.k;return a};
function Tf(a,c,b){this.Dr="Fixture"+Bg++;this.K=b.k.rc();this.k=Le();this.fq=a;this.oc=b.shape.rc();this.F=b.fh;this.P=b.jh;this.N=b.Gh;this.B=b.n}Tf.prototype.ib=function(){return this.fq};Tf.prototype.zd=function(){Ke.push(this.k)};Tf.prototype.Mj=function(a){null!=this.n&&(a.Mj(this.n),this.n=null)};
function Xf(a,c,b,d){if(a.n){var f=Le(),h=Le();a.oc.Ki(f,b);a.oc.Ki(h,d);Re(a.k,f,h);Ke.push(f);Ke.push(h);b=Qd(d.position,b.position);d=a.n;f=c.n;a=a.k;if(Qe(d.Va,a))a=!1;else{cf(f,d);var h=.1+2*Math.abs(b.x),e=.1+2*Math.abs(b.y);d.Va.k.x=a.k.x-h;d.Va.k.y=a.k.y-e;d.Va.n.x=a.n.x+h;d.Va.n.y=a.n.y+e;ef(f,d);a=!0}a&&c.k.push(d);ue(b)}}var Bg=0;function Cg(){this.k=new Ag;this.k.n=1;this.k.B=65535;this.k.k=0;this.shape=null;this.jh=.2;this.fh=this.Gh=0;this.n=!1}
function Rf(){this.B=this.n=null;this.k={}}Rf.prototype.cb=function(){return this.n};function Uf(a){this.Re=a;this.k=this.next=null}Uf.prototype.ag=function(a){this.k=a};Uf.prototype.Pa=function(){return this.next};function Dg(a,c){this.ja=a;this.F=c;this.n=[];this.P=[];this.K=[];this.B=[];this.k=[]}function Eg(a){a.n=[];a.P=[];a.K=[];a.B=[];a.k=[]}function Fg(a,c){if(null!=a.ja)for(var b=0;b<a.B.length;++b)for(var d=c[b],f=new tg,h=0;h<d.K;++h)f.k[h]=d.B[h].Tb,f.n[h]=d.B[h].Xf}
function Gg(a,c){a.n.push(c);0!=c.Tc()&&(a.K.push(c),2==c.Tc()&&a.P.push(c))}function Hg(a,c,b,d,f){this.La=a;var h=0;0<a&&(h=1/a);this.k=h;this.lc=c;this.el=b;this.El=d;this.Mg=f}function Ig(a,c){this.k=new vg(this);this.B=new Jg;this.n=!1;this.Lh=new hg;this.Ad=new Pf;this.Gb=null;this.P=new Qf;this.N=0;this.aa=c;this.F=a;this.K=0;this.aA=Kg(this,new gg)}var Lg=1-100*Number.MIN_VALUE;function Kg(a,c){var b=new Nf(c,a),d=a.Lh,f=b.aa;null==d.k[f]&&(jg(d,b,f,ig),bg(d,b),b.P.push(d));return b}
function Mg(a,c){for(var b=c.Gb;b;){var d=b,b=b.next;Ng(a,d.tg)}for(b=c.da.cb();b;b=b.Pa())b.Bx.Ml(c);for(b=c.Ad.cb(yg);b;b=b.Pa())a.k.zd(b.kc);for(b=c.F.cb();b;b=b.Pa()){var d=c,f=b.Re,h=d.F,e=f.Dr,k=h.k[e];if(null!=k){var g=k.k,k=k.Pa();null==g?h.n=k:g.next=k;null==k?h.B=g:k.ag(g);delete h.k[e]}for(h=d.Ad.cb(yg);h;h=h.Pa())f!=h.kc.gc&&f!=h.kc.Rb||d.ie.k.zd(h.kc);d.ja&&f.Mj(d.ie.k.k);f.zd();f.fq=null;Vf(d)}c.zd();a.Lh.Ml(c)}
function Og(a,c){var b=c.B();b.pj=null;if(b.wh=a.Gb)a.Gb.pj=b;a.Gb=b;a.N++;b.Ed.tg=b;b.Ed.Ee=b.ca;b.Ed.prev=null;if(b.Ed.next=b.ba.Gb)b.ba.Gb.prev=b.Ed;b.ba.Gb=b.Ed;b.Fd.tg=b;b.Fd.Ee=b.ba;b.Fd.prev=null;if(b.Fd.next=b.ca.Gb)b.ca.Gb.prev=b.Fd;b.ca.Gb=b.Fd;var d=c.k,f=c.n;if(!c.P)for(var h=f.Ad.cb(yg);h;h=h.Pa())Pg(h.kc,f)==d&&(h.kc.Wi=!0);return b}
function Ng(a,c){var b=c.Nt;c.pj&&(c.pj.wh=c.wh);c.wh&&(c.wh.pj=c.pj);c==a.Gb&&(a.Gb=c.wh);var d=c.ba,f=c.ca;$f(d,!0);$f(f,!0);c.Ed.prev&&(c.Ed.prev.next=c.Ed.next);c.Ed.next&&(c.Ed.next.prev=c.Ed.prev);c.Ed==d.Gb&&(d.Gb=c.Ed.next);c.Ed.prev=null;c.Ed.next=null;c.Fd.prev&&(c.Fd.prev.next=c.Fd.next);c.Fd.next&&(c.Fd.next.prev=c.Fd.prev);c.Fd==f.Gb&&(f.Gb=c.Fd.next);c.Fd.prev=null;c.Fd.next=null;a.N--;if(!b)for(b=f.Ad.cb(yg);b;b=b.Pa())Pg(b.kc,f)==d&&(b.kc.Wi=!0)}
Ig.prototype.Ug=function(a,c,b){var d,f;this.n&&(Yf(this.k),this.n=!1);for(var h=new Hg(a,this.K*a,c,b,!0),e=this.k,k=e.ie.Ad.cb(yg);k;k=k.Pa()){var g=k.kc,n=g.gc,l=g.Rb,m=n.ib(),q=l.ib();if(0!=m.he||0!=q.he){if(g.Wi){if(0==fg(q,m)){e.zd(g);continue}if(0==e.B.k(n,l)){e.zd(g);continue}g.Wi=!1}0==e.k.Qj(n.n,l.n)?e.zd(g):Qg(g,e.n)}}if(0<h.La){for(var p=this.P.cb();p;p=p.Pa())p.Bx.Ug(h);for(var v=new Dg(this.k.n,this.B),r=this.Lh.cb(ig);r;r=r.Pa())r.body.Ab=!1;for(var u=this.Ad.cb(yg);u;u=u.Pa())u.kc.Ab=
!1;for(var t=this.Gb;t;t=t.wh)t.Ab=!1;for(r=this.Lh.cb(ng);r;r=r.Pa()){var y=r.body;if(!y.Ab){Eg(v);Rg.length=0;var z=Rg;z.push(y);for(y.Ab=!0;0<z.length;){var B=z.pop();Gg(v,B);B.he||$f(B,!0);if(0!=B.Tc()){for(u=B.Ad.cb(Sg);u;u=u.Pa()){var E=u.kc;if(!E.Ab){v.B.push(E);E.Ab=!0;var C=Pg(E,B);C.Ab||(z.push(C),C.Ab=!0)}}for(var G=B.Gb;G;G=G.next)!G.tg.Ab&&G.Ee.Ph()&&(v.k.push(G.tg),G.tg.Ab=!0,G.Ee.Ab||(z.push(G.Ee),G.Ee.Ab=!0))}}for(var A=v,w=h,I=this.aa,Y=A,L=w,H=this.F,D=0;D<Y.P.length;D++){var X=
Y.P[D];X.C.x+=L.La*(H.x+X.R*X.n.x);X.C.y+=L.La*(H.y+X.R*X.n.y);X.L+=L.La*X.Y*X.B;X.C.ue(Rd(1-L.La*X.jb,0,1));X.L*=Rd(1-L.La*X.Qa,0,1)}Zg(A.F,A.B,A.B.length);for(var N=A,W=w,O=N.F,P=0;P<O.n;++P){var Q=O.k[P],M=Q.k,K=Q.n,U=M.R,Pa=M.Y,Z=K.R,Qa=K.Y,Ba=Q.F.x,qb=Q.F.y,cb=qb,wb=-Ba,db=0,rb=0;if(W.Mg)for(rb=Q.K,db=0;db<rb;++db){var sa=Q.B[db];sa.Tb*=W.lc;sa.Xf*=W.lc;var xb=sa.Tb*Ba+sa.Xf*cb,da=sa.Tb*qb+sa.Xf*wb;M.L-=Pa*(sa.Hb.x*da-sa.Hb.y*xb);M.C.x-=U*xb;M.C.y-=U*da;K.L+=Qa*(sa.Ib.x*da-sa.Ib.y*xb);K.C.x+=
Z*xb;K.C.y+=Z*da}else for(rb=Q.K,db=0;db<rb;++db){var Dd=Q.B[db];Dd.Tb=0;Dd.Xf=0}}for(var jc=0;jc<N.k.length;jc++)N.k[jc].Af(W);for(var Ha=0;Ha<W.El;Ha++){for(var zb=0;zb<N.k.length;zb++)N.k[zb].Cf(W);$g(N.F)}for(var Jb=0;Jb<N.k.length;Jb++);for(var yb=N.F,Me=0;Me<yb.n;++Me)for(var Ne=yb.k[Me],xi=Ne.ja,Cd=0;Cd<Ne.K;++Cd){var Tg=xi.wa[Cd],Ug=Ne.B[Cd];Tg.wi=Ug.Tb;Tg.xi=Ug.Xf}for(var Vg=A,sb=w,Oe=0;Oe<Vg.K.length;++Oe){var fa=Vg.K[Oe],Wg=sb.La*fa.C.x,Xg=sb.La*fa.C.y;4<Wg*Wg+Xg*Xg&&(xe(fa.C),fa.C.x=2*
fa.C.x*sb.k,fa.C.y=2*fa.C.y*sb.k);var Yg=sb.La*fa.L;Yg*Yg>Gd&&(fa.L=0>fa.L?-Fd*sb.k:Fd*sb.k);fa.q.Jc.S(fa.q.I);fa.q.Je=fa.q.T;fa.q.I.x+=sb.La*fa.C.x;fa.q.I.y+=sb.La*fa.C.y;fa.q.T+=sb.La*fa.L;eg(fa)}for(var Pe=A,Li=w,Kh=0;Kh<Li.el;Kh++){for(var Mi=ah(Pe.F,.2),uf=!0,vf=0;vf<Pe.k.length;vf++)var Ni=Pe.k[vf].Bf(.2),uf=uf&&Ni;if(Mi&&uf)break}Fg(A,A.F.k);if(I){for(var Yd=A,Oi=w,Zd=Number.MAX_VALUE,wf=0;wf<Yd.K.length;wf++){var Mb=Yd.K[wf];!Mb.Na||Math.abs(Mb.L)>Hd||1E-4<Jd(Mb.C,Mb.C)?Zd=Mb.N=0:(Mb.N+=Oi.La,
Zd=Math.min(Zd,Mb.N))}if(.5<=Zd)for(var xf=0;xf<Yd.n.length;xf++)$f(Yd.n[xf],!1)}}}for(r=this.Lh.cb(ng);r;r=r.Pa())cg(r.body);Yf(this.k);for(var xa=new Dg(this.k.n,this.B),$d=this.Lh.cb(ig);$d;$d=$d.Pa()){var ub=$d.body;ub.Ab=!1;ub.q.vd=0}for(var La=this.Ad.cb(yg);La;La=La.Pa())La.kc.Ab=!1,La.kc.k=null;for(var ae=this.Gb;ae;ae=ae.wh)ae.Ab=!1;for(;;){for(var Mh=null,yf=1,be=this.Ad.cb(bh);be;be=be.Pa()){var gb=be.kc,Nh=gb.gc.ib(),Oh=gb.Rb.ib();if(2==Nh.Tc()&&Nh.he||2==Oh.Tc()&&Oh.he){var Xa=1;if(null!=
gb.k)Xa=gb.k;else if(gb.Ii)Xa=1,gb.k=Xa;else{var zc=gb.gc.ib(),Zc=gb.Rb.ib(),$c=zc.q.vd;zc.q.vd<Zc.q.vd?($c=Zc.q.vd,zc.q.Pg($c)):Zc.q.vd<zc.q.vd&&($c=zc.q.vd,Zc.q.Pg($c));var Ph=gb,Pi=zc.q,Qi=Zc.q;ch.Bg.Set(Ph.gc.oc);ch.Cg.Set(Ph.Rb.oc);ch.Yu=Pi;ch.Zu=Qi;ch.gB=.005;var ad=ch;dh++;var Af=ad.Bg,Bf=ad.Cg,Cf=ad.Yu,Df=ad.Zu,ce=Af.gb+Bf.gb,de=ad.gB,hb=0,bd=0,Ac=0;eh.count=0;for(fh.B=!1;;){Cf.Zd(qf,hb);Df.Zd(rf,hb);fh.Bg=Af;fh.Cg=Bf;fh.k=qf;fh.n=rf;Ve(gh,eh,fh);if(0>=gh.B){hb=1;break}var Si=Bf,R=pf,Da=eh,
ib=qf,jb=rf;R.n=Af;R.B=Si;var Nb=void 0,kb=void 0,Eb=void 0,Ob=void 0,lb=void 0,Fb=void 0,Cc=0,Dc=0,Ec=0,Fc=0,ee=0,fe=0,S=void 0,T=void 0,Ya=0;if(1==Da.count)R.Sa=sf,Nb=Xe(R.n,Da.cc[0]),Ob=Xe(R.B,Da.ec[0]),T=Nb,S=ib.D,Cc=ib.position.x+(S.u.x*T.x+S.A.x*T.y),Dc=ib.position.y+(S.u.y*T.x+S.A.y*T.y),T=Ob,S=jb.D,Ec=jb.position.x+(S.u.x*T.x+S.A.x*T.y),Fc=jb.position.y+(S.u.y*T.x+S.A.y*T.y),R.k.x=Ec-Cc,R.k.y=Fc-Dc,xe(R.k);else{if(Da.ec[0]==Da.ec[1])R.Sa=tf,kb=Xe(R.n,Da.cc[0]),Eb=Xe(R.n,Da.cc[1]),Ob=Xe(R.B,
Da.ec[0]),R.Ea.x=.5*(kb.x+Eb.x),R.Ea.y=.5*(kb.y+Eb.y),R.k=Ld(Qd(Eb,kb)),xe(R.k),T=R.k,S=ib.D,ee=S.u.x*T.x+S.A.x*T.y,fe=S.u.y*T.x+S.A.y*T.y,T=R.Ea,S=ib.D,Cc=ib.position.x+(S.u.x*T.x+S.A.x*T.y),Dc=ib.position.y+(S.u.y*T.x+S.A.y*T.y),T=Ob,S=jb.D,Ec=jb.position.x+(S.u.x*T.x+S.A.x*T.y),Fc=jb.position.y+(S.u.y*T.x+S.A.y*T.y),Ya=(Ec-Cc)*ee+(Fc-Dc)*fe;else if(Da.cc[0]==Da.cc[0])R.Sa=zf,lb=Xe(R.B,Da.ec[0]),Fb=Xe(R.B,Da.ec[1]),Nb=Xe(R.n,Da.cc[0]),R.Ea.x=.5*(lb.x+Fb.x),R.Ea.y=.5*(lb.y+Fb.y),R.k=Ld(Qd(Fb,lb)),
xe(R.k),T=R.k,S=jb.D,ee=S.u.x*T.x+S.A.x*T.y,fe=S.u.y*T.x+S.A.y*T.y,T=R.Ea,S=jb.D,Ec=jb.position.x+(S.u.x*T.x+S.A.x*T.y),Fc=jb.position.y+(S.u.y*T.x+S.A.y*T.y),T=Nb,S=ib.D,Cc=ib.position.x+(S.u.x*T.x+S.A.x*T.y),Dc=ib.position.y+(S.u.y*T.x+S.A.y*T.y),Ya=(Cc-Ec)*ee+(Dc-Fc)*fe;else{var kb=Xe(R.n,Da.cc[0]),Eb=Xe(R.n,Da.cc[1]),lb=Xe(R.B,Da.ec[0]),Fb=Xe(R.B,Da.ec[1]),Gb=Md(ib.D,Qd(Eb,kb)),Hb=Md(jb.D,Qd(Fb,lb)),Rh=Gb.x*Gb.x+Gb.y*Gb.y,Ff=Hb.x*Hb.x+Hb.y*Hb.y,ge=Qd(Hb,Gb),Sh=Gb.x*ge.x+Gb.y*ge.y,Th=Hb.x*ge.x+
Hb.y*ge.y,cd=Gb.x*Hb.x+Gb.y*Hb.y,Uh=Rh*Ff-cd*cd,Ya=0;0!=Uh&&(Ya=Rd((cd*Th-Sh*Ff)/Uh,0,1));0>(cd*Ya+Th)/Ff&&(Ya=Rd((cd-Sh)/Rh,0,1));Nb=V(0,0);Nb.x=kb.x+Ya*(Eb.x-kb.x);Nb.y=kb.y+Ya*(Eb.y-kb.y);Ob=V(0,0);Ob.x=lb.x+Ya*(Fb.x-lb.x);Ob.y=lb.y+Ya*(Fb.y-lb.y);0==Ya||1==Ya?(R.Sa=zf,R.k=Ld(Qd(Fb,lb)),xe(R.k),R.Ea=Ob):(R.Sa=tf,R.k=Ld(Qd(Eb,kb)),R.Ea=Nb)}if(0>Ya){var he=R.k;he.x=-he.x;he.y=-he.y}}var dd=of();if(0>=dd){hb=1;break}0==bd&&(Ac=dd>ce?Math.max(ce-de,.75*ce):Math.max(dd-de,.02*ce));if(dd-Ac<.5*de){if(0==
bd){hb=1;break}break}var Gf=hb,ie=hb,ed=1,Hf=dd;Cf.Zd(qf,ed);Df.Zd(rf,ed);var If=of();if(If>=Ac){hb=1;break}for(var je=0;;){var Gc=0,Gc=je&1?ie+(Ac-Hf)*(ed-ie)/(If-Hf):.5*(ie+ed);Cf.Zd(qf,Gc);Df.Zd(rf,Gc);var ke=of();if(Math.abs(ke-Ac)<.025*de){Gf=Gc;break}ke>Ac?(ie=Gc,Hf=ke):(ed=Gc,If=ke);je++;hh++;if(50==je)break}ih=Math.max(ih,je);if(Gf<(1+100*Number.MIN_VALUE)*hb)break;hb=Gf;bd++;jh++;if(1E3==bd)break}kh=Math.max(kh,bd);Xa=hb;0<Xa&&1>Xa&&(Xa=(1-Xa)*$c+Xa);gb.k=Xa}Number.MIN_VALUE<Xa&&Xa<yf&&(Mh=
gb,yf=Xa)}}d=Mh;f=yf;var Pb=d,Hc=f;if(null===Pb||Lg<Hc)break;var fd=Pb.gc.ib(),gd=Pb.Rb.ib();lh.Set(fd.q);mh.Set(gd.q);fd.Pg(Hc);gd.Pg(Hc);Qg(Pb,this.k.n);Pb.k=null;if(Pb.K||!Pb.enabled)fd.q.Set(lh),gd.q.Set(mh),eg(fd),eg(gd);else if(Pb.Ii){var le=fd;2!=le.Tc()&&(le=gd);Eg(xa);Rg.length=0;var hd=Rg;hd.push(le);for(le.Ab=!0;0<hd.length;)if(ub=hd.pop(),Gg(xa,ub),ub.he||$f(ub,!0),2==ub.Tc()){for(La=ub.Ad.cb(Sg);La&&32!=xa.aa;La=La.Pa()){var me=La.kc;if(!me.Ab){xa.B.push(me);me.Ab=!0;var Ic=Pg(me,ub);
Ic.Ab||(0!=Ic.Tc()&&(Ic.Pg(Hc),$f(Ic,!0),hd.push(Ic)),Ic.Ab=!0)}}for(var Za=ub.Gb;Za;Za=Za.next)32!=xa.N&&!Za.tg.Ab&&Za.Ee.Ph()&&(xa.k.push(Za.tg),Za.tg.Ab=!0,Za.Ee.Ab||(0!=Za.Ee.Tc()&&(Za.Ee.Pg(Hc),$f(Za.Ee,!0),hd.push(Za.Ee)),Za.Ee.Ab=!0))}var $a=xa,Va=new Hg((1-Hc)*h.La,0,h.El,h.el,!1),Wa=0,Qb=0;Zg($a.F,$a.B,$a.B.length);for(var Jf=$a.F,Wa=0;Wa<$a.k.length;++Wa)$a.k[Wa].Af(Va);for(Wa=0;Wa<Va.El;++Wa)for($g(Jf),Qb=0;Qb<$a.k.length;++Qb)$a.k[Qb].Cf(Va);for(Wa=0;Wa<$a.K.length;++Wa){var ha=$a.K[Wa],
Zh=Va.La*ha.C.x,$h=Va.La*ha.C.y;4<Zh*Zh+$h*$h&&(xe(ha.C),ha.C.x=2*ha.C.x*Va.k,ha.C.y=2*ha.C.y*Va.k);var ai=Va.La*ha.L;ai*ai>Gd&&(ha.L=0>ha.L?-Fd*Va.k:Fd*Va.k);ha.q.Jc.S(ha.q.I);ha.q.Je=ha.q.T;ha.q.I.x+=Va.La*ha.C.x;ha.q.I.y+=Va.La*ha.C.y;ha.q.T+=Va.La*ha.L;eg(ha)}for(Wa=0;Wa<Va.el;++Wa){for(var Vi=ah(Jf,.75),Kf=!0,Qb=0;Qb<$a.k.length;++Qb)var Wi=$a.k[Qb].Bf(.2),Kf=Kf&&Wi;if(Vi&&Kf)break}Fg($a,Jf.k);for(var Ia=0;Ia<xa.n.length;Ia++)if(xa.n[Ia].Ab=!1,xa.n[Ia].he&&2==xa.n[Ia].Tc())for(cg(xa.n[Ia]),La=
xa.n[Ia].Ad.cb(yg);La;La=La.Pa())La.kc.k=null;for(Ia=0;Ia<xa.aa;Ia++)xa.B[Ia].Ab=!1,xa.B[Ia].k=null;for(Ia=0;Ia<xa.N;Ia++)xa.k[Ia].Ab=!1;Yf(this.k)}}this.K=h.k}};Ig.prototype.Nh=function(){return this.Ad};var Rg=[];function nh(a,c){this.n="Contact"+oh++;this.Ce=new mf;this.F=new mf;this.Ii=!1;var b=a.ib(),d=c.ib();this.P=2!=b.Tc()||b.K||2!=d.Tc()||d.K;this.K=a.B||c.B;this.Wi=!1;this.gc=a;this.Rb=c;this.enabled=!0;this.am=b.Nh();this.cm=d.Nh();this.ro=d.ie.Nh();ph(this)}
nh.prototype.Ic=function(a,c){this.Ce.Ic();this.F.Ic();this.Ii=!1;var b=a.ib(),d=c.ib();this.P=2!=b.Tc()||b.K||2!=d.Tc()||d.K;this.K=a.B||c.B;this.Wi=!1;this.gc=a;this.Rb=c;this.enabled=!0;this.am=b.Nh();this.cm=d.Nh();this.ro=d.ie.Nh();ph(this)};function ph(a){qh(a.am,a);qh(a.cm,a);qh(a.ro,a);rh(a)}function rh(a){var c=!1,b=!1;!a.K&&a.enabled&&(a.Ii&&(c=!0),a.P&&(b=!0));sh(a.am,a,c,b);sh(a.cm,a,c,b);sh(a.ro,a,c,b)}nh.prototype.Ol=function(a){this.enabled=a;rh(this)};
function Pg(a,c){var b=a.gc.ib();return b!=c?b:a.Rb.ib()}
function Qg(a,c){var b=a.F;a.F=a.Ce;a.Ce=b;a.enabled=!0;var d=!1,b=a.Ii,f=a.gc.ib(),h=a.Rb.ib(),e=a.gc.k.Qj(a.Rb.k);if(a.K){if(e){var d=a.gc.oc,f=f.Zd(),e=a.Rb.oc,k=h.Zd(),h=new Ze;h.Bg=new af;h.Bg.Set(d);h.Cg=new af;h.Cg.Set(e);h.k=f;h.n=k;h.B=!0;f=new Lf;f.count=0;d=new $e;Ve(d,f,h);d=d.B<10*Number.MIN_VALUE}a.Ce.Sb=0}else{a.P=2!=f.Tc()||f.K||2!=h.Tc()||h.K?!0:!1;if(e)for(a.B(),d=0<a.Ce.Sb,e=0;e<a.Ce.Sb;e++){k=a.Ce.wa[e];k.wi=0;for(var g=k.xi=0;g<a.F.Sb;g++){var n=a.F.wa[g];if(n.We.Zb==k.We.Zb){k.wi=
n.wi;k.xi=n.xi;break}}}else a.Ce.Sb=0;d!=b&&($f(f,!0),$f(h,!0))}a.Ii=d;d!=b&&rh(a);!b&&d&&c.BeginContact(a);b&&!d&&c.EndContact(a)}nh.prototype.B=function(){};var ch=new Mf,oh=0;function th(a,c){nh.call(this,a,c)}Ad(th,nh);th.prototype.Ic=function(a,c){nh.prototype.Ic.call(this,a,c)};
th.prototype.B=function(){var a=this.Ce,c=this.gc.oc,b=this.gc.ib().J,d=this.Rb.oc,f=this.Rb.ib().J;a.Sb=0;var h=f.position.x+(f.D.u.x*d.qb.x+f.D.A.x*d.qb.y)-(b.position.x+(b.D.u.x*c.qb.x+b.D.A.x*c.qb.y)),b=f.position.y+(f.D.u.y*d.qb.x+f.D.A.y*d.qb.y)-(b.position.y+(b.D.u.y*c.qb.x+b.D.A.y*c.qb.y)),f=c.gb+d.gb;h*h+b*b>f*f||(a.Sa=1,a.Ea.S(c.qb),a.Nc.ua(),a.Sb=1,a.wa[0].Ea.S(d.qb),He(a.wa[0].We,0))};
function uh(){this.P=V(0,0);this.Qb=V(0,0);this.F=V(0,0);this.wg=new Sd;this.N=new Sd;this.B=[];for(var a=0;2>a;a++)this.B[a]=new vh}function vh(){this.Qb=V(0,0);this.Hb=V(0,0);this.Ib=V(0,0)}vh.prototype.Ic=function(){this.Qb.Set(0,0);this.Hb.Set(0,0);this.Ib.Set(0,0)};
function xg(){this.k={};this.n={};wh(this,th,"b2CircleShape","b2CircleShape");wh(this,xh,"b2PolygonShape","b2CircleShape");wh(this,yh,"b2PolygonShape","b2PolygonShape");wh(this,zh,"b2EdgeShape","b2CircleShape");wh(this,Ah,"b2PolygonShape","b2EdgeShape")}function wh(a,c,b,d){a.n[b]=a.n[b]||{};a.n[b][d]=a.n[b][d]||[];a.k[b]=a.k[b]||{};a.k[b][d]=new Bh;a.k[b][d].rs=c;a.k[b][d].vu=!0;b!=d&&(a.k[d]=a.k[d]||{},a.k[d][b]=new Bh,a.k[d][b].rs=c,a.k[d][b].vu=!1)}
xg.prototype.B=function(a,c){var b=a.oc.Oh(),d=c.oc.Oh(),f=this.k[b][d],h=f.rs;return null!=h?f.vu?0<this.n[b][d].length?(b=this.n[b][d].pop(),b.Ic(a,c),b):new h(a,c):0<this.n[d][b].length?(b=this.n[d][b].pop(),b.Ic(c,a),b):new h(c,a):null};xg.prototype.zd=function(a){this.n[a.gc.oc.Oh()][a.Rb.oc.Oh()].push(a)};function Pf(){this.n=[];for(var a=0;a<=yg;a++)this.n[a]=null;this.B=[];for(a=0;a<=yg;a++)this.B[a]=null;this.k={}}Pf.prototype.cb=function(a){return this.n[a]};
function qh(a,c){var b=c.n;if(null==a.k[b]){a.k[b]=[];for(var d=0;d<=yg;d++)a.k[b][d]=null;Ch(a,c,b,yg)}}function sh(a,c,b,d){b?Ch(a,c,c.n,Sg):Dh(a,c.n,Sg);d?Ch(a,c,c.n,bh):Dh(a,c.n,bh)}function zg(a,c){var b=c.n;if(null!=a.k[b]){for(var d=0;d<=yg;d++)Dh(a,b,d);delete a.k[b]}}function Dh(a,c,b){var d=a.k[c];if(null!=d&&(c=d[b],null!=c)){d[b]=null;var d=c.k,f=c.Pa();null==d?a.n[b]=f:d.next=f;null==f?a.B[b]=d:f.ag(d);Eh.push(c)}}
function Ch(a,c,b,d){b=a.k[b];if(null==b[d]){if(0<Eh.length){var f=Eh.pop();f.next=null;f.k=null;f.kc=c;c=f}else c=new Fh(c);b[d]=c;c=a.B[d];null!=c?(c.next=b[d],b[d].ag(c)):a.n[d]=b[d];a.B[d]=b[d]}}var Sg=0,bh=1,yg=2;function Fh(a){this.kc=a;this.k=this.next=null}var Eh=[];Fh.prototype.ag=function(a){this.k=a};Fh.prototype.Pa=function(){return this.next};function Bh(){}function Jg(){this.k=[]}
function Zg(a,c,b){for(a.n=b;a.k.length<a.n;)a.k[a.k.length]=new uh;for(var d=0;d<b;d++){var f=c[d],h=f.gc,e=f.Rb,k=h.oc.gb,g=e.oc.gb,n=h.ib(),l=e.ib(),f=f.Ce,m=Math.sqrt(h.P*e.P),q,h=h.N,e=e.N;q=h>e?h:e;var e=n.C.x,h=n.C.y,p=l.C.x,v=l.C.y,r=n.L,u=l.L,t=f,y=n.J,z=k,B=l.J,E=g,C=Gh;if(0!=t.Sb){var G=0,A=void 0,w=void 0,I=0,Y=0,L=0,H=0,D=0,A=0;switch(t.Sa){case 1:w=y.D;A=t.Ea;G=y.position.x+w.u.x*A.x+w.A.x*A.y;y=y.position.y+w.u.y*A.x+w.A.y*A.y;w=B.D;A=t.wa[0].Ea;t=B.position.x+w.u.x*A.x+w.A.x*A.y;B=
B.position.y+w.u.y*A.x+w.A.y*A.y;A=t-G;w=B-y;I=A*A+w*w;I>Id?(I=Math.sqrt(I),C.k.x=A/I,C.k.y=w/I):(C.k.x=1,C.k.y=0);A=y+z*C.k.y;B=B-E*C.k.y;C.wa[0].x=.5*(G+z*C.k.x+(t-E*C.k.x));C.wa[0].y=.5*(A+B);break;case 2:w=y.D;A=t.Nc;I=w.u.x*A.x+w.A.x*A.y;Y=w.u.y*A.x+w.A.y*A.y;w=y.D;A=t.Ea;L=y.position.x+w.u.x*A.x+w.A.x*A.y;H=y.position.y+w.u.y*A.x+w.A.y*A.y;C.k.x=I;C.k.y=Y;for(G=0;G<t.Sb;G++)w=B.D,A=t.wa[G].Ea,D=B.position.x+w.u.x*A.x+w.A.x*A.y,A=B.position.y+w.u.y*A.x+w.A.y*A.y,C.wa[G].x=D+.5*(z-(D-L)*I-(A-
H)*Y-E)*I,C.wa[G].y=A+.5*(z-(D-L)*I-(A-H)*Y-E)*Y;break;case 4:for(w=B.D,A=t.Nc,I=w.u.x*A.x+w.A.x*A.y,Y=w.u.y*A.x+w.A.y*A.y,w=B.D,A=t.Ea,L=B.position.x+w.u.x*A.x+w.A.x*A.y,H=B.position.y+w.u.y*A.x+w.A.y*A.y,C.k.x=-I,C.k.y=-Y,G=0;G<t.Sb;G++)w=y.D,A=t.wa[G].Ea,D=y.position.x+w.u.x*A.x+w.A.x*A.y,A=y.position.y+w.u.y*A.x+w.A.y*A.y,C.wa[G].x=D+.5*(E-(D-L)*I-(A-H)*Y-z)*I,C.wa[G].y=A+.5*(E-(D-L)*I-(A-H)*Y-z)*Y}}E=Gh.k.x;C=Gh.k.y;z=a.k[d];z.k=n;z.n=l;z.ja=f;z.F.x=E;z.F.y=C;z.K=f.Sb;z.jh=m;z.Gh=q;z.P.x=f.Nc.x;
z.P.y=f.Nc.y;z.Qb.x=f.Ea.x;z.Qb.y=f.Ea.y;z.aa=k+g;z.type=f.Sa;for(k=0;k<z.K;++k)m=f.wa[k],g=z.B[k],g.Tb=m.wi,g.Xf=m.xi,g.Qb.S(m.Ea),m=g.Hb.x=Gh.wa[k].x-n.q.I.x,q=g.Hb.y=Gh.wa[k].y-n.q.I.y,B=g.Ib.x=Gh.wa[k].x-l.q.I.x,G=g.Ib.y=Gh.wa[k].y-l.q.I.y,t=m*C-q*E,A=B*C-G*E,t*=t,A*=A,g.wg=1/(n.R+l.R+n.Y*t+l.Y*A),w=n.Z*n.R+l.Z*l.R,w+=n.Z*n.Y*t+l.Z*l.Y*A,g.my=1/w,A=C,w=-E,t=m*w-q*A,A=B*w-G*A,t*=t,A*=A,g.bB=1/(n.R+l.R+n.Y*t+l.Y*A),g.Dl=0,m=z.F.x*(p+-u*G-e- -r*q)+z.F.y*(v+u*B-h-r*m),-1>m&&(g.Dl+=-z.Gh*m);2==z.K&&
(v=z.B[0],p=z.B[1],f=n.R,n=n.Y,e=l.R,l=l.Y,h=v.Hb.x*C-v.Hb.y*E,v=v.Ib.x*C-v.Ib.y*E,r=p.Hb.x*C-p.Hb.y*E,k=p.Ib.x*C-p.Ib.y*E,p=f+e+n*h*h+l*v*v,u=f+e+n*r*r+l*k*k,l=f+e+n*h*r+l*v*k,p*p<100*(p*u-l*l)?(z.N.u.Set(p,l),z.N.A.Set(l,u),Vd(z.N,z.wg)):z.K=1)}}
function $g(a){for(var c=0;c<a.n;c++){for(var b=a.k[c],d=b.F.x,f=b.F.y,h=0;h<b.K;h++){var e=b,k=b.B[h],g=e.F.y,n=-e.F.x,l=e.jh*k.Tb,l=Rd(k.Xf-k.bB*((e.n.C.x-e.n.L*k.Ib.y-e.k.C.x+e.k.L*k.Hb.y)*g+(e.n.C.y+e.n.L*k.Ib.x-e.k.C.y-e.k.L*k.Hb.x)*n),-l,l),m=l-k.Xf,g=m*g,n=m*n;e.k.C.x-=e.k.R*g;e.k.C.y-=e.k.R*n;e.k.L-=e.k.Y*(k.Hb.x*n-k.Hb.y*g);e.n.C.x+=e.n.R*g;e.n.C.y+=e.n.R*n;e.n.L+=e.n.Y*(k.Ib.x*n-k.Ib.y*g);k.Xf=l}if(1==b.K)h=b.B[0],e=h.Tb-h.wg*((b.n.C.x-b.n.L*h.Ib.y-b.k.C.x+b.k.L*h.Hb.y)*d+(b.n.C.y+b.n.L*
h.Ib.x-b.k.C.y-b.k.L*h.Hb.x)*f-h.Dl),e=0<e?e:0,k=e-h.Tb,d=k*d,f=k*f,b.k.C.x-=b.k.R*d,b.k.C.y-=b.k.R*f,b.k.L-=b.k.Y*(h.Hb.x*f-h.Hb.y*d),b.n.C.x+=b.n.R*d,b.n.C.y+=b.n.R*f,b.n.L+=b.n.Y*(h.Ib.x*f-h.Ib.y*d),h.Tb=e;else for(h=b.B[0],e=b.B[1],k=h.Tb,n=e.Tb,l=(b.n.C.x-b.n.L*h.Ib.y-b.k.C.x+b.k.L*h.Hb.y)*d+(b.n.C.y+b.n.L*h.Ib.x-b.k.C.y-b.k.L*h.Hb.x)*f-h.Dl,f=(b.n.C.x-b.n.L*e.Ib.y-b.k.C.x+b.k.L*e.Hb.y)*d+(b.n.C.y+b.n.L*e.Ib.x-b.k.C.y-b.k.L*e.Hb.x)*f-e.Dl,l-=b.N.u.x*k+b.N.A.x*n,f-=b.N.u.y*k+b.N.A.y*n;;){d=-(b.wg.u.x*
l+b.wg.A.x*f);if(0<=d&&(g=-(b.wg.u.y*l+b.wg.A.y*f),0<=g)){Hh(b,h,e,d-k,g-n);h.Tb=d;e.Tb=g;break}d=-h.wg*l;if(0<=d&&0<=b.N.u.y*d+f){Hh(b,h,e,d-k,-n);h.Tb=d;e.Tb=0;break}d=-e.wg*f;if(0<=d&&0<=b.N.A.x*d+l){Hh(b,h,e,-k,d-n);h.Tb=0;e.Tb=d;break}if(0<=l&&0<=f){Hh(b,h,e,-k,-n);h.Tb=0;e.Tb=0;break}break}}}
function Hh(a,c,b,d,f){var h=d*a.F.x;d*=a.F.y;var e=f*a.F.x;f*=a.F.y;a.k.C.x-=a.k.R*(h+e);a.k.C.y-=a.k.R*(d+f);a.k.L-=a.k.Y*(c.Hb.x*d-c.Hb.y*h+b.Hb.x*f-b.Hb.y*e);a.n.C.x+=a.n.R*(h+e);a.n.C.y+=a.n.R*(d+f);a.n.L+=a.n.Y*(c.Ib.x*d-c.Ib.y*h+b.Ib.x*f-b.Ib.y*e);c.Tb=0;b.Tb=0}
function ah(a,c){void 0===c&&(c=0);for(var b=0,d=0;d<a.n;d++){var f=a.k[d],h=f.k,e=f.n,k=h.Z*h.R,g=h.Z*h.Y,n=e.Z*e.R,l=e.Z*e.Y,m=f,q=Ih;switch(m.type){case 1:var p=m.k.J.D,v=m.Qb,r=m.k.J.position.x+(p.u.x*v.x+p.A.x*v.y),u=m.k.J.position.y+(p.u.y*v.x+p.A.y*v.y),p=m.n.J.D,v=m.B[0].Qb,t=m.n.J.position.x+(p.u.x*v.x+p.A.x*v.y),p=m.n.J.position.y+(p.u.y*v.x+p.A.y*v.y),v=t-r,y=p-u,z=v*v+y*y;z>Id?(z=Math.sqrt(z),q.k.x=v/z,q.k.y=y/z):(q.k.x=1,q.k.y=0);q.wa[0].x=.5*(r+t);q.wa[0].y=.5*(u+p);q.n[0]=v*q.k.x+y*
q.k.y-m.aa;break;case 2:q.k.x=m.k.J.D.u.x*m.P.x+m.k.J.D.A.x*m.P.y;q.k.y=m.k.J.D.u.y*m.P.x+m.k.J.D.A.y*m.P.y;r=m.k.J.position.x+(m.k.J.D.u.x*m.Qb.x+m.k.J.D.A.x*m.Qb.y);u=m.k.J.position.y+(m.k.J.D.u.y*m.Qb.x+m.k.J.D.A.y*m.Qb.y);for(t=0;t<m.K;t++)p=m.n.J.position.x+(m.n.J.D.u.x*m.B[t].Qb.x+m.n.J.D.A.x*m.B[t].Qb.y),v=m.n.J.position.y+(m.n.J.D.u.y*m.B[t].Qb.x+m.n.J.D.A.y*m.B[t].Qb.y),q.n[t]=(p-r)*q.k.x+(v-u)*q.k.y-m.aa,q.wa[t].x=p,q.wa[t].y=v;break;case 4:q.k.x=m.n.J.D.u.x*m.P.x+m.n.J.D.A.x*m.P.y;q.k.y=
m.n.J.D.u.y*m.P.x+m.n.J.D.A.y*m.P.y;r=m.n.J.position.x+(m.n.J.D.u.x*m.Qb.x+m.n.J.D.A.x*m.Qb.y);u=m.n.J.position.y+(m.n.J.D.u.y*m.Qb.x+m.n.J.D.A.y*m.Qb.y);for(t=0;t<m.K;t++)p=m.k.J.position.x+(m.k.J.D.u.x*m.B[t].Qb.x+m.k.J.D.A.x*m.B[t].Qb.y),v=m.k.J.position.y+(m.k.J.D.u.y*m.B[t].Qb.x+m.k.J.D.A.y*m.B[t].Qb.y),q.n[t]=(p-r)*q.k.x+(v-u)*q.k.y-m.aa,q.wa[t].Set(p,v);q.k.x*=-1;q.k.y*=-1}q=Ih.k;for(m=0;m<f.K;m++)v=f.B[m],p=Ih.wa[m],y=Ih.n[m],r=p.x-h.q.I.x,u=p.y-h.q.I.y,t=p.x-e.q.I.x,p=p.y-e.q.I.y,b=b<y?b:
y,y=-v.my*Rd(c*(y+.005),-.2,0),v=y*q.x,y*=q.y,h.q.I.x-=k*v,h.q.I.y-=k*y,h.q.T-=g*(r*y-u*v),eg(h),e.q.I.x+=n*v,e.q.I.y+=n*y,e.q.T+=l*(t*y-p*v),eg(e)}return-.0075<b}function zh(a,c){nh.call(this,a,c)}Ad(zh,nh);zh.prototype.Ic=function(a,c){nh.prototype.Ic.call(this,a,c)};zh.prototype.B=function(){};function xh(a,c){nh.call(this,a,c)}Ad(xh,nh);xh.prototype.Ic=function(a,c){nh.prototype.Ic.call(this,a,c)};
xh.prototype.B=function(){a:{var a=this.Ce,c=this.gc.oc,b=this.gc.ib().J,d=this.Rb.oc,f=this.Rb.ib().J;a.Sb=0;for(var h=f.position.x+(f.D.u.x*d.qb.x+f.D.A.x*d.qb.y)-b.position.x,e=f.position.y+(f.D.u.y*d.qb.x+f.D.A.y*d.qb.y)-b.position.y,f=h*b.D.u.x+e*b.D.u.y,b=h*b.D.A.x+e*b.D.A.y,h=0,e=-Number.MAX_VALUE,k=c.gb+d.gb,g=0;g<c.kb;++g){var n=c.xb[g].x*(f-c.W[g].x)+c.xb[g].y*(b-c.W[g].y);if(n>k)break a;n>e&&(e=n,h=g)}n=h+1;n>=c.kb&&(n=0);var g=c.W[h],l=c.W[n];e<Number.MIN_VALUE?(a.Sb=1,a.Sa=2,a.Nc.S(c.xb[h]),
a.Ea.x=.5*(g.x+l.x),a.Ea.y=.5*(g.y+l.y),a.wa[0].Ea.S(d.qb),He(a.wa[0].We,0)):0>=(f-g.x)*(l.x-g.x)+(b-g.y)*(l.y-g.y)?(f-g.x)*(f-g.x)+(b-g.y)*(b-g.y)>k*k||(a.Sb=1,a.Sa=2,a.Nc.x=f-g.x,a.Nc.y=b-g.y,xe(a.Nc),a.Ea.S(g),a.wa[0].Ea.S(d.qb),He(a.wa[0].We,0)):0>=(f-l.x)*(g.x-l.x)+(b-l.y)*(g.y-l.y)?(f-l.x)*(f-l.x)+(b-l.y)*(b-l.y)>k*k||(a.Sb=1,a.Sa=2,a.Nc.x=f-l.x,a.Nc.y=b-l.y,xe(a.Nc),a.Ea.S(l),a.wa[0].Ea.S(d.qb),He(a.wa[0].We,0)):(n=.5*(g.x+l.x),g=.5*(g.y+l.y),e=(f-n)*c.xb[h].x+(b-g)*c.xb[h].y,e>k||(a.Sb=1,
a.Sa=2,a.Nc.x=c.xb[h].x,a.Nc.y=c.xb[h].y,xe(a.Nc),a.Ea.Set(n,g),a.wa[0].Ea.S(d.qb),He(a.wa[0].We,0)))}};function Ah(a,c){nh.call(this,a,c)}Ad(Ah,nh);Ah.prototype.Ic=function(a,c){nh.prototype.Ic.call(this,a,c)};Ah.prototype.B=function(){};function yh(a,c){nh.call(this,a,c)}Ad(yh,nh);yh.prototype.Ic=function(a,c){nh.prototype.Ic.call(this,a,c)};
yh.prototype.B=function(){var a=this.Ce,c=this.gc.oc,b=this.gc.ib().J,d=this.Rb.oc,f=this.Rb.ib().J;a.Sb=0;var h=c.gb+d.gb,e=Ue(c,b,d,f),k=e.cs;if(!(e.Qn>h)){var g=Ue(d,f,c,b);if(!(g.Qn>h)){var n=c,l=d,m=b,q=f,p=0;a.Sa=2;g.Qn>.98*e.Qn+.001&&(n=d,l=c,m=f,q=b,k=g.cs,a.Sa=4,p=1);c=k;b=l;d=q;l=Jh;void 0===c&&(c=0);for(var e=m.D.u.x*n.xb[c].x+m.D.A.x*n.xb[c].y,g=m.D.u.y*n.xb[c].x+m.D.A.y*n.xb[c].y,f=d.D.u.x*e+d.D.u.y*g,g=d.D.A.x*e+d.D.A.y*g,e=f,f=0,v=Number.MAX_VALUE,r=0;r<b.kb;r++){var u=e*b.xb[r].x+
g*b.xb[r].y;u<v&&(v=u,f=r)}e=f+1;e>=b.kb&&(e=0);l[0].Ie.x=d.position.x+(d.D.u.x*b.W[f].x+d.D.A.x*b.W[f].y);l[0].Ie.y=d.position.y+(d.D.u.y*b.W[f].x+d.D.A.y*b.W[f].y);g=l[0].id;g.B=c;g.Zb=g.Zb&4294967040|g.B&255;g=l[0].id;g.k=f;g.Zb=g.Zb&4294902015|g.k<<8&65280;f=l[0].id;f.n=0;f.Zb=f.Zb&4278255615|f.n<<16&16711680;l[1].Ie.x=d.position.x+(d.D.u.x*b.W[e].x+d.D.A.x*b.W[e].y);l[1].Ie.y=d.position.y+(d.D.u.y*b.W[e].x+d.D.A.y*b.W[e].y);b=l[1].id;b.B=c;b.Zb=b.Zb&4294967040|b.B&255;c=l[1].id;c.k=e;c.Zb=c.Zb&
4294902015|c.k<<8&65280;c=l[1].id;c.n=1;c.Zb=c.Zb&4278255615|c.n<<16&16711680;c=n.W[k];k=k+1<n.kb?n.W[k+1]:n.W[0];Lh.Set(k.x-c.x,k.y-c.y);xe(Lh);Qh.x=Lh.y;Qh.y=-Lh.x;Vh.Set(.5*(c.x+k.x),.5*(c.y+k.y));Wh.x=m.D.u.x*Lh.x+m.D.A.x*Lh.y;Wh.y=m.D.u.y*Lh.x+m.D.A.y*Lh.y;Xh.x=-Wh.x;Xh.y=-Wh.y;Yh.x=Wh.y;Yh.y=-Wh.x;bi.x=m.position.x+(m.D.u.x*c.x+m.D.A.x*c.y);bi.y=m.position.y+(m.D.u.y*c.x+m.D.A.y*c.y);ci.x=m.position.x+(m.D.u.x*k.x+m.D.A.x*k.y);ci.y=m.position.y+(m.D.u.y*k.x+m.D.A.y*k.y);if(!(2>Se(di,Jh,Xh,-Wh.x*
bi.x-Wh.y*bi.y+h)||2>Se(ei,di,Wh,Wh.x*ci.x+Wh.y*ci.y+h))){a.Nc.S(Qh);a.Ea.S(Vh);m=Yh.x*bi.x+Yh.y*bi.y;for(n=k=0;2>n;++n)Yh.x*ei[n].Ie.x+Yh.y*ei[n].Ie.y-m<=h&&(c=ei[n].Ie.x-q.position.x,l=ei[n].Ie.y-q.position.y,a.wa[k].Ea.x=c*q.D.u.x+l*q.D.u.y,a.wa[k].Ea.y=c*q.D.A.x+l*q.D.A.y,a.wa[k].We.Set(ei[n].id),c=a.wa[k].We,c.F=p,c.Zb=c.Zb&16777215|c.F<<24&4278190080,k++);a.Sb=k}}}};function fi(){this.K="Controller"+gi++;this.ie=null;this.k=new hg}fi.prototype.Ug=function(){};
fi.prototype.Ml=function(a){this.k.Ml(a);a=a.da;var c=this.K,b=a.n[c];if(null!=b){var d=b.k(),b=b.Pa();null==d?a.k=b:d.n(b);null==b||b.ag(d);delete a.n[c]}};var gi=0;function hi(){fi.call(this);this.B=V(0,-1);this.fh=this.offset=0;this.F=V(0,0);this.n=null}Ad(hi,fi);
hi.prototype.Ug=function(){this.n=this.ie.F.rc();for(var a=this.k.cb(og);a;a=a.Pa()){for(var c=a.body,b=V(0,0),d=V(0,0),f=0,h=0,e=c.F.cb();e;e=e.Pa()){var k=V(0,0),g=e.Re.oc.Il(this.B,this.offset,c.Zd(),k),f=f+g;b.x+=g*k.x;b.y+=g*k.y;var n=0,n=1,h=h+g*n;d.x+=g*k.x*n;d.y+=g*k.y*n}f<Number.MIN_VALUE||(b.x/=f,b.y/=f,d.x/=h,d.y/=h,h=this.n.Sg(),h.ue(this.fh*f),c.Qg(h,d),h=V(c.C.x-c.L*(b.y-c.q.I.y),c.C.y+c.L*(b.x-c.q.I.x)),h.Sr(this.F),h.ue(-2*f),c.Qg(h,b),c.to(-c.k/c.Z*f*c.L*1),ue(b),ue(d))}};
function ii(){fi.call(this);this.n=V(0,0)}Ad(ii,fi);ii.prototype.Ug=function(a){a=V(this.n.x*a.La,this.n.y*a.La);for(var c=this.k.cb(og);c;c=c.Pa()){var b=c.body,d=b.C;Zf(b,V(d.x+a.x,d.y+a.y))}ue(a)};function ji(){fi.call(this);this.n=V(0,0)}Ad(ji,fi);ji.prototype.Ug=function(){for(var a=this.k.cb(og);a;a=a.Pa()){var c=a.body;c.Qg(this.n,c.q.I)}};function Qf(){this.k=null;this.n={}}Qf.prototype.cb=function(){return this.k};function ki(){fi.call(this)}Ad(ki,fi);
ki.prototype.Ug=function(){for(var a=null,c=null,b=0,d=null,f=null,h=0,e=0,k=0,h=null,g=this.k.cb(ig);g;g=g.Pa())for(var a=g.body,c=a.q.I,b=a.Z,n=this.k.cb(ig);n;n=n.Pa())if(d=n.body,a.he||d.he)f=d.q.I,h=f.x-c.x,e=f.y-c.y,k=h*h+e*e,k<Number.MIN_VALUE||(h=V(h,e),h.ue(1/k/Math.sqrt(k)*b*d.Z),a.he&&a.Qg(h,c),h.ue(-1),d.he&&d.Qg(h,f),ue(h))};function li(){fi.call(this);this.B=new Sd;this.n=0}Ad(li,fi);
li.prototype.Ug=function(a){a=a.La;if(!(a<=Number.MIN_VALUE)){a>this.n&&0<this.n&&(a=this.n);for(var c=this.k.cb(og);c;c=c.Pa()){var b=c.body,d;d=Md(this.B,Nd(b.J.D,b.C));d=Md(b.J.D,d);Zf(b,V(b.C.x+d.x*a,b.C.y+d.y*a))}}};function mi(a){this.Ed=new ni;this.Fd=new ni;this.Df=V(0,0);this.Ef=V(0,0);this.Sa=a.type;this.wh=this.pj=null;this.ba=a.k;this.ca=a.n;this.Nt=a.P}x=mi.prototype;x.Tc=function(){return this.Sa};x.Ph=function(){return this.ba.Ph()&&this.ca.Ph()};x.Af=function(){};x.Cf=function(){};
x.Bf=function(){return!1};function oi(){this.type=0;this.n=this.k=null;this.P=!1}function ni(){}function pi(a){mi.call(this,a);this.ra=V(0,0);this.ta=V(0,0);this.k=V(0,0);this.ra.S(a.N);this.ta.S(a.aa);this.K=a.length;this.F=a.K;this.N=a.F;this.P=this.B=this.n=0}Ad(pi,mi);
pi.prototype.Af=function(a){var c,b=0,d=this.ba,f=this.ca;c=d.J.D;var h=this.ra.x-d.q.U.x,e=this.ra.y-d.q.U.y,b=c.u.x*h+c.A.x*e,e=c.u.y*h+c.A.y*e,h=b;c=f.J.D;var k=this.ta.x-f.q.U.x,g=this.ta.y-f.q.U.y,b=c.u.x*k+c.A.x*g,g=c.u.y*k+c.A.y*g,k=b;this.k.x=f.q.I.x+k-d.q.I.x-h;this.k.y=f.q.I.y+g-d.q.I.y-e;b=Math.sqrt(this.k.x*this.k.x+this.k.y*this.k.y);.005<b?this.k.ue(1/b):this.k.ua();c=h*this.k.y-e*this.k.x;var n=k*this.k.y-g*this.k.x;c=d.R+d.Y*c*c+f.R+f.Y*n*n;this.Z=0!=c?1/c:0;if(0<this.F){var b=b-this.K,
n=2*Math.PI*this.F,l=this.Z*n*n;this.B=a.La*(2*this.Z*this.N*n+a.La*l);this.B=0!=this.B?1/this.B:0;this.P=b*a.La*l*this.B;this.Z=c+this.B;this.Z=0!=this.Z?1/this.Z:0}a.Mg?(this.n*=a.lc,a=this.n*this.k.x,c=this.n*this.k.y,d.C.x-=d.R*a,d.C.y-=d.R*c,d.L-=d.Y*(h*c-e*a),f.C.x+=f.R*a,f.C.y+=f.R*c,f.L+=f.Y*(k*c-g*a)):this.n=0};
pi.prototype.Cf=function(){var a=this.ra.x-this.ba.q.U.x,c=this.ra.y-this.ba.q.U.y,b=this.ba.J.D.u.x*a+this.ba.J.D.A.x*c,c=this.ba.J.D.u.y*a+this.ba.J.D.A.y*c,a=b,d=this.ta.x-this.ca.q.U.x,f=this.ta.y-this.ca.q.U.y,b=this.ca.J.D.u.x*d+this.ca.J.D.A.x*f,f=this.ca.J.D.u.y*d+this.ca.J.D.A.y*f,d=b,h=-this.Z*(this.k.x*(this.ca.C.x-this.ca.L*f-(this.ba.C.x-this.ba.L*c))+this.k.y*(this.ca.C.y+this.ca.L*d-(this.ba.C.y+this.ba.L*a))+this.P+this.B*this.n);this.n+=h;b=h*this.k.x;h*=this.k.y;this.ba.C.x-=this.ba.R*
b;this.ba.C.y-=this.ba.R*h;this.ba.L-=this.ba.Y*(a*h-c*b);this.ca.C.x+=this.ca.R*b;this.ca.C.y+=this.ca.R*h;this.ca.L+=this.ca.Y*(d*h-f*b)};
pi.prototype.Bf=function(){if(0<this.F)return!0;var a=this.ra.x-this.ba.q.U.x,c=this.ra.y-this.ba.q.U.y,b=this.ba.J.D.u.x*a+this.ba.J.D.A.x*c,c=this.ba.J.D.u.y*a+this.ba.J.D.A.y*c,a=b,d=this.ta.x-this.ca.q.U.x,f=this.ta.y-this.ca.q.U.y,b=this.ca.J.D.u.x*d+this.ca.J.D.A.x*f,f=this.ca.J.D.u.y*d+this.ca.J.D.A.y*f,d=b,h=this.ca.q.I.x+d-this.ba.q.I.x-a,e=this.ca.q.I.y+f-this.ba.q.I.y-c,k=Math.sqrt(h*h+e*e),b=Rd(k-this.K,-.2,.2),g=-this.Z*b;this.k.Set(h/k,e/k);h=g*this.k.x;g*=this.k.y;this.ba.q.I.x-=this.ba.R*
h;this.ba.q.I.y-=this.ba.R*g;this.ba.q.T-=this.ba.Y*(a*g-c*h);this.ca.q.I.x+=this.ca.R*h;this.ca.q.I.y+=this.ca.R*g;this.ca.q.T+=this.ca.Y*(d*g-f*h);eg(this.ba);eg(this.ca);return.005>Math.abs(b)};function qi(){oi.call(this);this.N=V(0,0);this.aa=V(0,0);this.type=3;this.length=1;this.F=this.K=0}Ad(qi,oi);qi.prototype.B=function(){return new pi(this)};
function ri(a){mi.call(this,a);this.B=V(0,0);this.F=V(0,0);this.P=new Sd;this.k=V(0,0);this.B.S(a.F);this.F.S(a.K);this.P.ua();this.K=0;this.k.ua();this.n=0;this.N=a.N;this.aa=a.aa}Ad(ri,mi);
ri.prototype.Af=function(a){var c,b=0,d=this.ba,f=this.ca;c=d.J.D;var h=this.B.x-d.q.U.x,e=this.B.y-d.q.U.y,b=c.u.x*h+c.A.x*e,e=c.u.y*h+c.A.y*e,h=b;c=f.J.D;var k=this.F.x-f.q.U.x,g=this.F.y-f.q.U.y,b=c.u.x*k+c.A.x*g,g=c.u.y*k+c.A.y*g,k=b;c=d.R;var b=f.R,n=d.Y,l=f.Y,m=new Sd;m.u.x=c+b;m.A.x=0;m.u.y=0;m.A.y=c+b;m.u.x+=n*e*e;m.A.x+=-n*h*e;m.u.y+=-n*h*e;m.A.y+=n*h*h;m.u.x+=l*g*g;m.A.x+=-l*k*g;m.u.y+=-l*k*g;m.A.y+=l*k*k;Vd(m,this.P);this.K=n+l;0<this.K&&(this.K=1/this.K);a.Mg?(this.k.x*=a.lc,this.k.y*=
a.lc,this.n*=a.lc,a=this.k,d.C.x-=c*a.x,d.C.y-=c*a.y,d.L-=n*(h*a.y-e*a.x+this.n),f.C.x+=b*a.x,f.C.y+=b*a.y,f.L+=l*(k*a.y-g*a.x+this.n)):(this.k.ua(),this.n=0)};
ri.prototype.Cf=function(a){var c,b=0,d=this.ba,f=this.ca,h=d.C,e=d.L,k=f.C,g=f.L,n=d.R,l=f.R,m=d.Y,q=f.Y;c=d.J.D;var p=this.B.x-d.q.U.x,v=this.B.y-d.q.U.y,b=c.u.x*p+c.A.x*v,v=c.u.y*p+c.A.y*v,p=b;c=f.J.D;var r=this.F.x-f.q.U.x,u=this.F.y-f.q.U.y,b=c.u.x*r+c.A.x*u,u=c.u.y*r+c.A.y*u,r=b;c=0;var b=-this.K*(g-e),t=this.n;c=a.La*this.aa;this.n=Rd(this.n+b,-c,c);b=this.n-t;e-=m*b;g+=q*b;c=Md(this.P,V(-(k.x-g*u-h.x+e*v),-(k.y+g*r-h.y-e*p)));b=this.k.rc();this.k.zf(c);c=a.La*this.N;we(this.k)>c*c&&(xe(this.k),
this.k.ue(c));c=Qd(this.k,b);h.x-=n*c.x;h.y-=n*c.y;e-=m*(p*c.y-v*c.x);k.x+=l*c.x;k.y+=l*c.y;g+=q*(r*c.y-u*c.x);d.L=e;f.L=g};ri.prototype.Bf=function(){return!0};function si(){oi.call(this);this.F=V(0,0);this.K=V(0,0);this.type=9;this.aa=this.N=0}Ad(si,oi);si.prototype.B=function(){return new ri(this)};
function ti(a){mi.call(this,a);this.aa=V(0,0);this.ja=V(0,0);this.ra=V(0,0);this.ta=V(0,0);this.k=new ui;var c=a.F.Sa,b=a.K.Sa;this.N=this.K=this.P=this.F=null;var d=0,f=0;this.Na=a.F.ba;this.ba=a.F.ca;1==c?(this.F=a.F,this.aa.S(this.F.ra),this.ra.S(this.F.ta),d=vi(this.F)):(this.P=a.F,this.aa.S(this.P.ra),this.ra.S(this.P.ta),d=this.P.Nj());this.Qa=a.K.ba;this.ca=a.K.ca;1==b?(this.K=a.K,this.ja.S(this.K.ra),this.ta.S(this.K.ta),f=vi(this.K)):(this.N=a.K,this.ja.S(this.N.ra),this.ta.S(this.N.ta),
f=this.N.Nj());this.n=a.Dg;this.da=d+this.n*f;this.B=0}Ad(ti,mi);
ti.prototype.Af=function(a){var c=this.Na,b=this.Qa,d=this.ba,f=this.ca,h=0,e=0,k=0,g=0,n=k=0,l=0;this.k.ua();this.F?(this.k.B=-1,l+=d.Y):(c=c.J.D,e=this.P.Pd,h=c.u.x*e.x+c.A.x*e.y,e=c.u.y*e.x+c.A.y*e.y,c=d.J.D,k=this.ra.x-d.q.U.x,g=this.ra.y-d.q.U.y,n=c.u.x*k+c.A.x*g,g=c.u.y*k+c.A.y*g,k=n*e-g*h,this.k.k.Set(-h,-e),this.k.B=-k,l+=d.R+d.Y*k*k);this.K?(this.k.F=-this.n,l+=this.n*this.n*f.Y):(c=b.J.D,e=this.N.Pd,h=c.u.x*e.x+c.A.x*e.y,e=c.u.y*e.x+c.A.y*e.y,c=f.J.D,k=this.ta.x-f.q.U.x,g=this.ta.y-f.q.U.y,
n=c.u.x*k+c.A.x*g,g=c.u.y*k+c.A.y*g,k=n*e-g*h,this.k.n.Set(-this.n*h,-this.n*e),this.k.F=-this.n*k,l+=this.n*this.n*(f.R+f.Y*k*k));this.Z=0<l?1/l:0;a.Mg?(d.C.x+=d.R*this.B*this.k.k.x,d.C.y+=d.R*this.B*this.k.k.y,d.L+=d.Y*this.B*this.k.B,f.C.x+=f.R*this.B*this.k.n.x,f.C.y+=f.R*this.B*this.k.n.y,f.L+=f.Y*this.B*this.k.F):this.B=0};
ti.prototype.Cf=function(){var a=this.ba,c=this.ca,b=this.k,d=a.C,f=a.L,h=c.C,e=c.L;void 0===f&&(f=0);void 0===e&&(e=0);b=-this.Z*(b.k.x*d.x+b.k.y*d.y+b.B*f+(b.n.x*h.x+b.n.y*h.y)+b.F*e);this.B+=b;a.C.x+=a.R*b*this.k.k.x;a.C.y+=a.R*b*this.k.k.y;a.L+=a.Y*b*this.k.B;c.C.x+=c.R*b*this.k.n.x;c.C.y+=c.R*b*this.k.n.y;c.L+=c.Y*b*this.k.F};
ti.prototype.Bf=function(){var a=this.ba,c=this.ca,b=0,d=0;this.F?b=vi(this.F):b=this.P.Nj();this.K?d=vi(this.K):d=this.N.Nj();b=-this.Z*(this.da-(b+this.n*d));a.q.I.x+=a.R*b*this.k.k.x;a.q.I.y+=a.R*b*this.k.k.y;a.q.T+=a.Y*b*this.k.B;c.q.I.x+=c.R*b*this.k.n.x;c.q.I.y+=c.R*b*this.k.n.y;c.q.T+=c.Y*b*this.k.F;eg(a);eg(c);return!0};function wi(){oi.call(this);this.type=6;this.K=this.F=null;this.Dg=1}Ad(wi,oi);wi.prototype.B=function(){return new ti(this)};function ui(){this.k=V(0,0);this.n=V(0,0)}
ui.prototype.ua=function(){this.k.ua();this.B=0;this.n.ua();this.F=0};ui.prototype.Set=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.k.S(a);this.B=c;this.n.S(b);this.F=d};
function yi(a){mi.call(this,a);this.ra=V(0,0);this.ta=V(0,0);this.Pd=V(0,0);this.$d=V(0,0);this.n=V(0,0);this.N=V(0,0);this.da=new Sd;this.k=V(0,0);this.ra.S(a.aa);this.ta.S(a.ja);this.Pd.S(a.F);this.$d.x=-this.Pd.y;this.$d.y=this.Pd.x;this.k.ua();this.Ra=this.tb=0;this.sc=a.da;this.Uc=a.tb;this.Ao=a.Na;this.Bo=a.Qa;this.Rh=a.K;this.Pj=a.N;this.jb=0;this.n.ua();this.N.ua()}Ad(yi,mi);
yi.prototype.Nj=function(){var a=this.ba,c=this.ca,b=ag(a,this.ra),d=ag(c,this.ta),c=d.x-b.x,b=d.y-b.y,a=Md(a.J.D,this.Pd);return a.x*c+a.y*b};
yi.prototype.Af=function(a){var c=this.ba,b=this.ca,d,f=0;this.Df.S(c.q.U);this.Ef.S(b.q.U);var h=c.Zd();b.Zd();d=c.J.D;var e=this.ra.x-this.Df.x,k=this.ra.y-this.Df.y,f=d.u.x*e+d.A.x*k,k=d.u.y*e+d.A.y*k,e=f;d=b.J.D;var g=this.ta.x-this.Ef.x,n=this.ta.y-this.Ef.y,f=d.u.x*g+d.A.x*n,n=d.u.y*g+d.A.y*n,g=f;d=b.q.I.x+g-c.q.I.x-e;f=b.q.I.y+n-c.q.I.y-k;this.aa=c.R;this.ja=b.R;this.Na=c.Y;this.Qa=b.Y;this.n.S(Md(h.D,this.Pd));this.B=(d+e)*this.n.y-(f+k)*this.n.x;this.F=g*this.n.y-n*this.n.x;this.tb=this.aa+
this.ja+this.Na*this.B*this.B+this.Qa*this.F*this.F;this.tb=this.tb>Number.MIN_VALUE?1/this.tb:0;this.N.S(Md(h.D,this.$d));this.K=(d+e)*this.N.y-(f+k)*this.N.x;this.P=g*this.N.y-n*this.N.x;h=this.aa;e=this.ja;k=this.Na;g=this.Qa;this.da.u.x=h+e+k*this.K*this.K+g*this.P*this.P;this.da.u.y=k*this.K*this.B+g*this.P*this.F;this.da.A.x=this.da.u.y;this.da.A.y=h+e+k*this.B*this.B+g*this.F*this.F;this.Rh?(d=this.n.x*d+this.n.y*f,.01>Math.abs(this.Uc-this.sc)?this.jb=3:d<=this.sc?1!=this.jb&&(this.jb=1,this.k.y=
0):d>=this.Uc?2!=this.jb&&(this.jb=2,this.k.y=0):(this.jb=0,this.k.y=0)):this.jb=0;0==this.Pj&&(this.Ra=0);a.Mg?(this.k.x*=a.lc,this.k.y*=a.lc,this.Ra*=a.lc,a=this.k.x*this.N.x+(this.Ra+this.k.y)*this.n.x,d=this.k.x*this.N.y+(this.Ra+this.k.y)*this.n.y,f=this.k.x*this.K+(this.Ra+this.k.y)*this.B,h=this.k.x*this.P+(this.Ra+this.k.y)*this.F,c.C.x-=this.aa*a,c.C.y-=this.aa*d,c.L-=this.Na*f,b.C.x+=this.ja*a,b.C.y+=this.ja*d,b.L+=this.Qa*h):(this.k.ua(),this.Ra=0)};
yi.prototype.Cf=function(a){var c=this.ba,b=this.ca,d=c.C,f=c.L,h=b.C,e=b.L,k=0,g=0,n=0,l=0;this.Pj&&3!=this.jb&&(l=this.tb*(this.Bo-(this.n.x*(h.x-d.x)+this.n.y*(h.y-d.y)+this.F*e-this.B*f)),k=this.Ra,g=a.La*this.Ao,this.Ra=Rd(this.Ra+l,-g,g),l=this.Ra-k,k=l*this.n.x,g=l*this.n.y,n=l*this.B,l*=this.F,d.x-=this.aa*k,d.y-=this.aa*g,f-=this.Na*n,h.x+=this.ja*k,h.y+=this.ja*g,e+=this.Qa*l);g=this.N.x*(h.x-d.x)+this.N.y*(h.y-d.y)+this.P*e-this.K*f;this.Rh&&0!=this.jb?(n=this.n.x*(h.x-d.x)+this.n.y*(h.y-
d.y)+this.F*e-this.B*f,k=this.k.rc(),a=Wd(this.da,V(0,0),-g,-n),this.k.zf(a),1==this.jb?this.k.y=Math.max(this.k.y,0):2==this.jb&&(this.k.y=Math.min(this.k.y,0)),g=-g-(this.k.y-k.y)*this.da.A.x,n=0,n=0!=this.da.u.x?g/this.da.u.x+k.x:k.x,this.k.x=n,a.x=this.k.x-k.x,a.y=this.k.y-k.y,k=a.x*this.N.x+a.y*this.n.x,g=a.x*this.N.y+a.y*this.n.y,n=a.x*this.K+a.y*this.B,l=a.x*this.P+a.y*this.F):(a=0,a=0!=this.da.u.x?-g/this.da.u.x:0,this.k.x+=a,k=a*this.N.x,g=a*this.N.y,n=a*this.K,l=a*this.P);d.x-=this.aa*k;
d.y-=this.aa*g;f-=this.Na*n;h.x+=this.ja*k;h.y+=this.ja*g;e+=this.Qa*l;c.C.S(d);c.L=f;b.C.S(h);b.L=e};
yi.prototype.Bf=function(){var a=this.ba,c=this.ca,b=a.q.I,d=a.q.T,f=c.q.I,h=c.q.T,e,k=0,g=0,n=0,l=0,m=e=0,q=0,g=!1,p=0,v=Td(d),n=Td(h);e=v;var q=this.ra.x-this.Df.x,r=this.ra.y-this.Df.y,k=e.u.x*q+e.A.x*r,r=e.u.y*q+e.A.y*r,q=k;e=n;n=this.ta.x-this.Ef.x;l=this.ta.y-this.Ef.y;k=e.u.x*n+e.A.x*l;l=e.u.y*n+e.A.y*l;n=k;e=f.x+n-b.x-q;k=f.y+l-b.y-r;if(this.Rh){this.n=Md(v,this.Pd);this.B=(e+q)*this.n.y-(k+r)*this.n.x;this.F=n*this.n.y-l*this.n.x;var u=this.n.x*e+this.n.y*k;.01>Math.abs(this.Uc-this.sc)?
(p=Rd(u,-.2,.2),m=Math.abs(u),g=!0):u<=this.sc?(p=Rd(u-this.sc+.005,-.2,0),m=this.sc-u,g=!0):u>=this.Uc&&(p=Rd(u-this.Uc+.005,0,.2),m=u-this.Uc,g=!0)}this.N=Md(v,this.$d);this.K=(e+q)*this.N.y-(k+r)*this.N.x;this.P=n*this.N.y-l*this.N.x;v=V(0,0);r=this.N.x*e+this.N.y*k;m=Math.max(m,Math.abs(r));q=0;g?(g=this.aa,n=this.ja,l=this.Na,e=this.Qa,this.da.u.x=g+n+l*this.K*this.K+e*this.P*this.P,this.da.u.y=l*this.K*this.B+e*this.P*this.F,this.da.A.x=this.da.u.y,this.da.A.y=g+n+l*this.B*this.B+e*this.F*this.F,
Wd(this.da,v,-r,-p)):(g=this.aa,n=this.ja,l=this.Na,e=this.Qa,p=g+n+l*this.K*this.K+e*this.P*this.P,v.x=0!=p?-r/p:0,v.y=0);p=v.x*this.N.x+v.y*this.n.x;g=v.x*this.N.y+v.y*this.n.y;r=v.x*this.K+v.y*this.B;v=v.x*this.P+v.y*this.F;b.x-=this.aa*p;b.y-=this.aa*g;d-=this.Na*r;f.x+=this.ja*p;f.y+=this.ja*g;h+=this.Qa*v;a.q.T=d;c.q.T=h;eg(a);eg(c);return.005>=m&&q<=Bd};
function zi(){oi.call(this);this.aa=V(0,0);this.ja=V(0,0);this.F=V(0,0);this.type=7;this.F.Set(1,0);this.K=!1;this.tb=this.da=0;this.N=!1;this.Qa=this.Na=0}Ad(zi,oi);zi.prototype.B=function(){return new yi(this)};
function Ai(a){mi.call(this,a);this.ra=V(0,0);this.ta=V(0,0);this.Pd=V(0,0);this.$d=V(0,0);this.N=V(0,0);this.da=V(0,0);this.n=new Xd;this.k=new ne(0,0,0);this.ra.S(a.aa);this.ta.S(a.ja);this.Pd.S(a.F);this.$d.x=-this.Pd.y;this.$d.y=this.Pd.x;this.Zw=a.tb;this.k.ua();this.Ra=this.tb=0;this.sc=a.da;this.Uc=a.Ra;this.Ao=a.Na;this.Bo=a.Qa;this.Rh=a.K;this.Pj=a.N;this.jb=0;this.N.ua();this.da.ua()}Ad(Ai,mi);
Ai.prototype.Nj=function(){var a=this.ba,c=this.ca,b=ag(a,this.ra),d=ag(c,this.ta),c=d.x-b.x,b=d.y-b.y,a=Md(a.J.D,this.Pd);return a.x*c+a.y*b};
Ai.prototype.Af=function(a){var c=this.ba,b=this.ca,d,f=0;this.Df.S(c.q.U);this.Ef.S(b.q.U);var h=c.Zd();b.Zd();d=c.J.D;var e=this.ra.x-this.Df.x,k=this.ra.y-this.Df.y,f=d.u.x*e+d.A.x*k,k=d.u.y*e+d.A.y*k,e=f;d=b.J.D;var g=this.ta.x-this.Ef.x,n=this.ta.y-this.Ef.y,f=d.u.x*g+d.A.x*n,n=d.u.y*g+d.A.y*n,g=f;d=b.q.I.x+g-c.q.I.x-e;f=b.q.I.y+n-c.q.I.y-k;this.aa=c.R;this.ja=b.R;this.Na=c.Y;this.Qa=b.Y;this.N.S(Md(h.D,this.Pd));this.B=(d+e)*this.N.y-(f+k)*this.N.x;this.F=g*this.N.y-n*this.N.x;this.tb=this.aa+
this.ja+this.Na*this.B*this.B+this.Qa*this.F*this.F;this.tb>Number.MIN_VALUE&&(this.tb=1/this.tb);this.da.S(Md(h.D,this.$d));this.K=(d+e)*this.da.y-(f+k)*this.da.x;this.P=g*this.da.y-n*this.da.x;h=this.aa;e=this.ja;k=this.Na;g=this.Qa;this.n.u.x=h+e+k*this.K*this.K+g*this.P*this.P;this.n.u.y=k*this.K+g*this.P;this.n.u.z=k*this.K*this.B+g*this.P*this.F;this.n.A.x=this.n.u.y;this.n.A.y=k+g;this.n.A.z=k*this.B+g*this.F;this.n.k.x=this.n.u.z;this.n.k.y=this.n.A.z;this.n.k.z=h+e+k*this.B*this.B+g*this.F*
this.F;this.Rh?(d=this.N.x*d+this.N.y*f,.01>Math.abs(this.Uc-this.sc)?this.jb=3:d<=this.sc?1!=this.jb&&(this.jb=1,this.k.z=0):d>=this.Uc?2!=this.jb&&(this.jb=2,this.k.z=0):(this.jb=0,this.k.z=0)):this.jb=0;0==this.Pj&&(this.Ra=0);a.Mg?(this.k.x*=a.lc,this.k.y*=a.lc,this.Ra*=a.lc,a=this.k.x*this.da.x+(this.Ra+this.k.z)*this.N.x,d=this.k.x*this.da.y+(this.Ra+this.k.z)*this.N.y,f=this.k.x*this.K+this.k.y+(this.Ra+this.k.z)*this.B,h=this.k.x*this.P+this.k.y+(this.Ra+this.k.z)*this.F,c.C.x-=this.aa*a,
c.C.y-=this.aa*d,c.L-=this.Na*f,b.C.x+=this.ja*a,b.C.y+=this.ja*d,b.L+=this.Qa*h):(this.k.ua(),this.Ra=0)};
Ai.prototype.Cf=function(a){var c=this.ba,b=this.ca,d=c.C,f=c.L,h=b.C,e=b.L,k=0,g=0,n=0,l=0;this.Pj&&3!=this.jb&&(l=this.tb*(this.Bo-(this.N.x*(h.x-d.x)+this.N.y*(h.y-d.y)+this.F*e-this.B*f)),k=this.Ra,a=a.La*this.Ao,this.Ra=Rd(this.Ra+l,-a,a),l=this.Ra-k,k=l*this.N.x,g=l*this.N.y,n=l*this.B,l*=this.F,d.x-=this.aa*k,d.y-=this.aa*g,f-=this.Na*n,h.x+=this.ja*k,h.y+=this.ja*g,e+=this.Qa*l);n=this.da.x*(h.x-d.x)+this.da.y*(h.y-d.y)+this.P*e-this.K*f;g=e-f;this.Rh&&0!=this.jb?(a=this.N.x*(h.x-d.x)+this.N.y*
(h.y-d.y)+this.F*e-this.B*f,k=this.k.rc(),a=pe(this.n,new ne(0,0,0),-n,-g,-a),this.k.zf(a),1==this.jb?this.k.z=Math.max(this.k.z,0):2==this.jb&&(this.k.z=Math.min(this.k.z,0)),n=-n-(this.k.z-k.z)*this.n.k.x,g=-g-(this.k.z-k.z)*this.n.k.y,g=oe(this.n,V(0,0),n,g),g.x+=k.x,g.y+=k.y,this.k.x=g.x,this.k.y=g.y,a.x=this.k.x-k.x,a.y=this.k.y-k.y,a.z=this.k.z-k.z,k=a.x*this.da.x+a.z*this.N.x,g=a.x*this.da.y+a.z*this.N.y,n=a.x*this.K+a.y+a.z*this.B,l=a.x*this.P+a.y+a.z*this.F,d.x-=this.aa*k,d.y-=this.aa*g,
f-=this.Na*n,h.x+=this.ja*k,h.y+=this.ja*g,e+=this.Qa*l):(a=oe(this.n,V(0,0),-n,-g),this.k.x+=a.x,this.k.y+=a.y,k=a.x*this.da.x,g=a.x*this.da.y,n=a.x*this.K+a.y,l=a.x*this.P+a.y,d.x-=this.aa*k,d.y-=this.aa*g,f-=this.Na*n,h.x+=this.ja*k,h.y+=this.ja*g,e+=this.Qa*l);c.C.S(d);c.L=f;b.C.S(h);b.L=e};
Ai.prototype.Bf=function(){var a=this.ba,c=this.ca,b=a.q.I,d=a.q.T,f=c.q.I,h=c.q.T,e,k=0,g=0,n=0,l=k=e=0,m=0,g=!1,q=0,p=Td(d),v=Td(h);e=p;var m=this.ra.x-this.Df.x,r=this.ra.y-this.Df.y,k=e.u.x*m+e.A.x*r,r=e.u.y*m+e.A.y*r,m=k;e=v;v=this.ta.x-this.Ef.x;n=this.ta.y-this.Ef.y;k=e.u.x*v+e.A.x*n;n=e.u.y*v+e.A.y*n;v=k;e=f.x+v-b.x-m;k=f.y+n-b.y-r;if(this.Rh){this.N=Md(p,this.Pd);this.B=(e+m)*this.N.y-(k+r)*this.N.x;this.F=v*this.N.y-n*this.N.x;var u=this.N.x*e+this.N.y*k;.01>Math.abs(this.Uc-this.sc)?(q=
Rd(u,-.2,.2),l=Math.abs(u),g=!0):u<=this.sc?(q=Rd(u-this.sc+.005,-.2,0),l=this.sc-u,g=!0):u>=this.Uc&&(q=Rd(u-this.Uc+.005,0,.2),l=u-this.Uc,g=!0)}this.da=Md(p,this.$d);this.K=(e+m)*this.da.y-(k+r)*this.da.x;this.P=v*this.da.y-n*this.da.x;p=new ne(0,0,0);r=this.da.x*e+this.da.y*k;v=h-d-this.Zw;l=Math.max(l,Math.abs(r));m=Math.abs(v);g?(g=this.aa,n=this.ja,e=this.Na,k=this.Qa,this.n.u.x=g+n+e*this.K*this.K+k*this.P*this.P,this.n.u.y=e*this.K+k*this.P,this.n.u.z=e*this.K*this.B+k*this.P*this.F,this.n.A.x=
this.n.u.y,this.n.A.y=e+k,this.n.A.z=e*this.B+k*this.F,this.n.k.x=this.n.u.z,this.n.k.y=this.n.A.z,this.n.k.z=g+n+e*this.B*this.B+k*this.F*this.F,pe(this.n,p,-r,-v,-q)):(g=this.aa,n=this.ja,e=this.Na,k=this.Qa,q=e*this.K+k*this.P,u=e+k,this.n.u.Set(g+n+e*this.K*this.K+k*this.P*this.P,q,0),this.n.A.Set(q,u,0),q=oe(this.n,V(0,0),-r,-v),p.x=q.x,p.y=q.y,p.z=0);q=p.x*this.da.x+p.z*this.N.x;g=p.x*this.da.y+p.z*this.N.y;r=p.x*this.K+p.y+p.z*this.B;p=p.x*this.P+p.y+p.z*this.F;b.x-=this.aa*q;b.y-=this.aa*
g;d-=this.Na*r;f.x+=this.ja*q;f.y+=this.ja*g;h+=this.Qa*p;a.q.T=d;c.q.T=h;eg(a);eg(c);return.005>=l&&m<=Bd};function Bi(){oi.call(this);this.aa=V(0,0);this.ja=V(0,0);this.F=V(0,0);this.type=2;this.F.Set(1,0);this.tb=0;this.K=!1;this.Ra=this.da=0;this.N=!1;this.Qa=this.Na=0}Ad(Bi,oi);Bi.prototype.B=function(){return new Ai(this)};
function Ci(a){mi.call(this,a);this.aa=V(0,0);this.ja=V(0,0);this.ra=V(0,0);this.ta=V(0,0);this.k=V(0,0);this.n=V(0,0);this.K=this.ba.ie.aA;this.aa.x=a.F.x-this.K.J.position.x;this.aa.y=a.F.y-this.K.J.position.y;this.ja.x=a.K.x-this.K.J.position.x;this.ja.y=a.K.y-this.K.J.position.y;this.ra.S(a.N);this.ta.S(a.aa);this.B=a.Dg;this.Qa=0+0*this.B;this.Uc=Math.min(0,this.Qa-this.B*Di);this.$d=Math.min(0,(this.Qa-Di)/this.B);this.N=this.P=this.F=0}Ad(Ci,mi);
Ci.prototype.Af=function(a){var c=this.ba,b=this.ca,d;d=c.J.D;var f=this.ra.x-c.q.U.x,h=this.ra.y-c.q.U.y,e=d.u.x*f+d.A.x*h,h=d.u.y*f+d.A.y*h,f=e;d=b.J.D;var k=this.ta.x-b.q.U.x,g=this.ta.y-b.q.U.y,e=d.u.x*k+d.A.x*g,g=d.u.y*k+d.A.y*g,k=e;d=b.q.I.x+k;var e=b.q.I.y+g,n=this.K.J.position.x+this.ja.x,l=this.K.J.position.y+this.ja.y;this.k.Set(c.q.I.x+f-(this.K.J.position.x+this.aa.x),c.q.I.y+h-(this.K.J.position.y+this.aa.y));this.n.Set(d-n,e-l);d=ve(this.k);e=ve(this.n);.005<d?this.k.ue(1/d):this.k.ua();
.005<e?this.n.ue(1/e):this.n.ua();0<this.Qa-d-this.B*e?this.F=this.sc=0:this.sc=2;d<this.Uc?this.P=this.Ra=0:this.Ra=2;e<this.$d?this.N=this.jb=0:this.jb=2;d=f*this.k.y-h*this.k.x;e=k*this.n.y-g*this.n.x;this.da=c.R+c.Y*d*d;this.Na=b.R+b.Y*e*e;this.tb=this.da+this.B*this.B*this.Na;this.da=1/this.da;this.Na=1/this.Na;this.tb=1/this.tb;a.Mg?(this.F*=a.lc,this.P*=a.lc,this.N*=a.lc,a=(-this.F-this.P)*this.k.x,d=(-this.F-this.P)*this.k.y,e=(-this.B*this.F-this.N)*this.n.x,n=(-this.B*this.F-this.N)*this.n.y,
c.C.x+=c.R*a,c.C.y+=c.R*d,c.L+=c.Y*(f*d-h*a),b.C.x+=b.R*e,b.C.y+=b.R*n,b.L+=b.Y*(k*n-g*e)):this.N=this.P=this.F=0};
Ci.prototype.Cf=function(){var a=this.ba,c=this.ca,b;b=a.J.D;var d=this.ra.x-a.q.U.x,f=this.ra.y-a.q.U.y,h=b.u.x*d+b.A.x*f,f=b.u.y*d+b.A.y*f,d=h;b=c.J.D;var e=this.ta.x-c.q.U.x,k=this.ta.y-c.q.U.y,h=b.u.x*e+b.A.x*k,k=b.u.y*e+b.A.y*k,e=h,g=h=b=0,n=0;b=n=b=n=g=h=b=0;2==this.sc&&(b=a.C.x+-a.L*f,h=a.C.y+a.L*d,g=c.C.x+-c.L*k,n=c.C.y+c.L*e,b=-(this.k.x*b+this.k.y*h)-this.B*(this.n.x*g+this.n.y*n),n=this.tb*-b,b=this.F,this.F=Math.max(0,this.F+n),n=this.F-b,b=-n*this.k.x,h=-n*this.k.y,g=-this.B*n*this.n.x,
n=-this.B*n*this.n.y,a.C.x+=a.R*b,a.C.y+=a.R*h,a.L+=a.Y*(d*h-f*b),c.C.x+=c.R*g,c.C.y+=c.R*n,c.L+=c.Y*(e*n-k*g));2==this.Ra&&(b=a.C.x+-a.L*f,h=a.C.y+a.L*d,b=-(this.k.x*b+this.k.y*h),n=-this.da*b,b=this.P,this.P=Math.max(0,this.P+n),n=this.P-b,b=-n*this.k.x,h=-n*this.k.y,a.C.x+=a.R*b,a.C.y+=a.R*h,a.L+=a.Y*(d*h-f*b));2==this.jb&&(g=c.C.x+-c.L*k,n=c.C.y+c.L*e,b=-(this.n.x*g+this.n.y*n),n=-this.Na*b,b=this.N,this.N=Math.max(0,this.N+n),n=this.N-b,g=-n*this.n.x,n=-n*this.n.y,c.C.x+=c.R*g,c.C.y+=c.R*n,c.L+=
c.Y*(e*n-k*g))};
Ci.prototype.Bf=function(){var a=this.ba,c=this.ca,b,d=this.K.J.position.x+this.aa.x,f=this.K.J.position.y+this.aa.y,h=this.K.J.position.x+this.ja.x,e=this.K.J.position.y+this.ja.y,k=0,g=0,n=0,l=0,m=b=0,q=0,p=0,v=m=p=b=m=b=0;2==this.sc&&(b=a.J.D,k=this.ra.x-a.q.U.x,g=this.ra.y-a.q.U.y,m=b.u.x*k+b.A.x*g,g=b.u.y*k+b.A.y*g,k=m,b=c.J.D,n=this.ta.x-c.q.U.x,l=this.ta.y-c.q.U.y,m=b.u.x*n+b.A.x*l,l=b.u.y*n+b.A.y*l,n=m,b=a.q.I.x+k,m=a.q.I.y+g,q=c.q.I.x+n,p=c.q.I.y+l,this.k.Set(b-d,m-f),this.n.Set(q-h,p-e),
b=ve(this.k),m=ve(this.n),.005<b?this.k.ue(1/b):this.k.ua(),.005<m?this.n.ue(1/m):this.n.ua(),b=this.Qa-b-this.B*m,v=Math.max(v,-b),b=Rd(b+.005,-.2,0),p=-this.tb*b,b=-p*this.k.x,m=-p*this.k.y,q=-this.B*p*this.n.x,p=-this.B*p*this.n.y,a.q.I.x+=a.R*b,a.q.I.y+=a.R*m,a.q.T+=a.Y*(k*m-g*b),c.q.I.x+=c.R*q,c.q.I.y+=c.R*p,c.q.T+=c.Y*(n*p-l*q),eg(a),eg(c));2==this.Ra&&(b=a.J.D,k=this.ra.x-a.q.U.x,g=this.ra.y-a.q.U.y,m=b.u.x*k+b.A.x*g,g=b.u.y*k+b.A.y*g,k=m,b=a.q.I.x+k,m=a.q.I.y+g,this.k.Set(b-d,m-f),b=ve(this.k),
.005<b?(this.k.x*=1/b,this.k.y*=1/b):this.k.ua(),b=this.Uc-b,v=Math.max(v,-b),b=Rd(b+.005,-.2,0),p=-this.da*b,b=-p*this.k.x,m=-p*this.k.y,a.q.I.x+=a.R*b,a.q.I.y+=a.R*m,a.q.T+=a.Y*(k*m-g*b),eg(a));2==this.jb&&(b=c.J.D,n=this.ta.x-c.q.U.x,l=this.ta.y-c.q.U.y,m=b.u.x*n+b.A.x*l,l=b.u.y*n+b.A.y*l,n=m,q=c.q.I.x+n,p=c.q.I.y+l,this.n.Set(q-h,p-e),m=ve(this.n),.005<m?(this.n.x*=1/m,this.n.y*=1/m):this.n.ua(),b=this.$d-m,v=Math.max(v,-b),b=Rd(b+.005,-.2,0),p=-this.Na*b,q=-p*this.n.x,p=-p*this.n.y,c.q.I.x+=
c.R*q,c.q.I.y+=c.R*p,c.q.T+=c.Y*(n*p-l*q),eg(c));return.005>v};var Di=1;function Ei(){oi.call(this);this.F=V(0,0);this.K=V(0,0);this.N=V(0,0);this.aa=V(0,0);this.type=4;this.F.Set(-1,1);this.K.Set(1,1);this.N.Set(-1,0);this.aa.Set(1,0);this.Dg=1;this.P=!0}Ad(Ei,oi);Ei.prototype.B=function(){return new Ci(this)};
function Fi(a){mi.call(this,a);this.da=new Sd;this.N=new Sd;this.aa=new Sd;this.ja=new Sd;this.n=new ne(0,0,0);this.F=V(0,0);this.P=V(0,0);this.ra=V(0,0);this.ta=V(0,0);this.k=new ne(0,0,0);this.Z=new Xd;this.ra.S(a.F);this.ta.S(a.K);this.Ra=a.aa;this.k.ua();this.K=0;this.Na=a.ja;this.jb=a.da;this.$d=a.tb;this.Uc=a.Qa;this.Qa=a.N;this.sc=a.Na;this.B=0}Ad(Fi,mi);function vi(a){return a.ca.q.T-a.ba.q.T-a.Ra}
Fi.prototype.Af=function(a){var c=this.ba,b=this.ca,d,f=0;d=c.J.D;var h=this.ra.x-c.q.U.x,e=this.ra.y-c.q.U.y,f=d.u.x*h+d.A.x*e,e=d.u.y*h+d.A.y*e,h=f;d=b.J.D;var k=this.ta.x-b.q.U.x,g=this.ta.y-b.q.U.y,f=d.u.x*k+d.A.x*g,g=d.u.y*k+d.A.y*g,k=f;d=c.R;var f=b.R,n=c.Y,l=b.Y;this.Z.u.x=d+f+e*e*n+g*g*l;this.Z.A.x=-e*h*n-g*k*l;this.Z.k.x=-e*n-g*l;this.Z.u.y=this.Z.A.x;this.Z.A.y=d+f+h*h*n+k*k*l;this.Z.k.y=h*n+k*l;this.Z.u.z=this.Z.k.x;this.Z.A.z=this.Z.k.y;this.Z.k.z=n+l;this.tb=1/(n+l);this.sc||(this.K=
0);if(this.Qa){var m=b.q.T-c.q.T-this.Ra;Math.abs(this.jb-this.Na)<2*Bd?this.B=3:m<=this.Na?(1!=this.B&&(this.k.z=0),this.B=1):m>=this.jb?(2!=this.B&&(this.k.z=0),this.B=2):(this.B=0,this.k.z=0)}else this.B=0;a.Mg?(this.k.x*=a.lc,this.k.y*=a.lc,this.K*=a.lc,a=this.k.x,m=this.k.y,c.C.x-=d*a,c.C.y-=d*m,c.L-=n*(h*m-e*a+this.K+this.k.z),b.C.x+=f*a,b.C.y+=f*m,b.L+=l*(k*m-g*a+this.K+this.k.z)):(this.k.ua(),this.K=0)};
Fi.prototype.Cf=function(a){var c=this.ba,b=this.ca,d=0,f=d=0,h=0,e=0,k=0,g=c.C,n=c.L,l=b.C,m=b.L,q=c.R,p=b.R,v=c.Y,r=b.Y;this.sc&&3!=this.B&&(f=this.tb*-(m-n-this.Uc),h=this.K,e=a.La*this.$d,this.K=Rd(this.K+f,-e,e),f=this.K-h,n-=v*f,m+=r*f);if(this.Qa&&0!=this.B){a=c.J.D;f=this.ra.x-c.q.U.x;h=this.ra.y-c.q.U.y;d=a.u.x*f+a.A.x*h;h=a.u.y*f+a.A.y*h;f=d;a=b.J.D;e=this.ta.x-b.q.U.x;k=this.ta.y-b.q.U.y;d=a.u.x*e+a.A.x*k;k=a.u.y*e+a.A.y*k;e=d;a=l.x+-m*k-g.x- -n*h;var u=l.y+m*e-g.y-n*f;pe(this.Z,this.n,
-a,-u,-(m-n));3==this.B?this.k.zf(this.n):1==this.B?(d=this.k.z+this.n.z,0>d&&(oe(this.Z,this.P,-a,-u),this.n.x=this.P.x,this.n.y=this.P.y,this.n.z=-this.k.z,this.k.x+=this.P.x,this.k.y+=this.P.y,this.k.z=0)):2==this.B&&(d=this.k.z+this.n.z,0<d&&(oe(this.Z,this.P,-a,-u),this.n.x=this.P.x,this.n.y=this.P.y,this.n.z=-this.k.z,this.k.x+=this.P.x,this.k.y+=this.P.y,this.k.z=0));g.x-=q*this.n.x;g.y-=q*this.n.y;n-=v*(f*this.n.y-h*this.n.x+this.n.z);l.x+=p*this.n.x;l.y+=p*this.n.y;m+=r*(e*this.n.y-k*this.n.x+
this.n.z)}else a=c.J.D,f=this.ra.x-c.q.U.x,h=this.ra.y-c.q.U.y,d=a.u.x*f+a.A.x*h,h=a.u.y*f+a.A.y*h,f=d,a=b.J.D,e=this.ta.x-b.q.U.x,k=this.ta.y-b.q.U.y,d=a.u.x*e+a.A.x*k,k=a.u.y*e+a.A.y*k,e=d,oe(this.Z,this.F,-(l.x+-m*k-g.x- -n*h),-(l.y+m*e-g.y-n*f)),this.k.x+=this.F.x,this.k.y+=this.F.y,g.x-=q*this.F.x,g.y-=q*this.F.y,n-=v*(f*this.F.y-h*this.F.x),l.x+=p*this.F.x,l.y+=p*this.F.y,m+=r*(e*this.F.y-k*this.F.x);c.C.S(g);c.L=n;b.C.S(l);b.L=m};
Fi.prototype.Bf=function(){var a=0,c,b=this.ba,d=this.ca,f=0,h=c=0,e=0,h=0;if(this.Qa&&0!=this.B){var a=d.q.T-b.q.T-this.Ra,k=0;3==this.B?(a=Rd(a-this.Na,-Ed,Ed),k=-this.tb*a,f=Math.abs(a)):1==this.B?(a-=this.Na,f=-a,a=Rd(a+Bd,-Ed,0),k=-this.tb*a):2==this.B&&(f=a-=this.jb,a=Rd(a-Bd,0,Ed),k=-this.tb*a);b.q.T-=b.Y*k;d.q.T+=d.Y*k;eg(b);eg(d)}c=b.J.D;k=this.ra.x-b.q.U.x;a=this.ra.y-b.q.U.y;h=c.u.x*k+c.A.x*a;a=c.u.y*k+c.A.y*a;k=h;c=d.J.D;var g=this.ta.x-d.q.U.x,n=this.ta.y-d.q.U.y,h=c.u.x*g+c.A.x*n,n=
c.u.y*g+c.A.y*n,g=h,e=d.q.I.x+g-b.q.I.x-k,h=d.q.I.y+n-b.q.I.y-a,l=e*e+h*h;c=Math.sqrt(l);var m=b.R,q=d.R,p=b.Y,v=d.Y;l>.05*.05&&(l=1/(m+q),e=l*-e,h=l*-h,b.q.I.x-=.5*m*e,b.q.I.y-=.5*m*h,d.q.I.x+=.5*q*e,d.q.I.y+=.5*q*h,e=d.q.I.x+g-b.q.I.x-k,h=d.q.I.y+n-b.q.I.y-a);this.N.u.x=m+q;this.N.A.x=0;this.N.u.y=0;this.N.A.y=m+q;this.aa.u.x=p*a*a;this.aa.A.x=-p*k*a;this.aa.u.y=-p*k*a;this.aa.A.y=p*k*k;this.ja.u.x=v*n*n;this.ja.A.x=-v*g*n;this.ja.u.y=-v*g*n;this.ja.A.y=v*g*g;Ud(this.da,this.N);m=this.da;q=this.aa;
m.u.zf(q.u);m.A.zf(q.A);m=this.da;q=this.ja;m.u.zf(q.u);m.A.zf(q.A);Wd(this.da,Gi,-e,-h);e=Gi.x;h=Gi.y;b.q.I.x-=b.R*e;b.q.I.y-=b.R*h;b.q.T-=b.Y*(k*h-a*e);d.q.I.x+=d.R*e;d.q.I.y+=d.R*h;d.q.T+=d.Y*(g*h-n*e);eg(b);eg(d);return.005>=c&&f<=Bd};var Gi=V(0,0);function Hi(){oi.call(this);this.F=V(0,0);this.K=V(0,0);this.type=1;this.F.ua();this.K.ua();this.Qa=this.tb=this.da=this.ja=this.aa=0;this.Na=this.N=!1}Ad(Hi,oi);
function Ii(a,c,b,d){a.k=c;a.n=b;a.F=Pd(a.k.J,d);a.K=Pd(a.n.J,d);a.aa=a.n.Mh()-a.k.Mh()}Hi.prototype.B=function(){return new Fi(this)};function Ji(a){mi.call(this,a);this.n=V(0,0);this.B=V(0,0);this.k=new ne(0,0,0);this.Z=new Xd;this.n.S(a.F);this.B.S(a.K);this.F=a.N}Ad(Ji,mi);
Ji.prototype.Af=function(a){var c,b=0,d=this.ba,f=this.ca;c=d.J.D;var h=this.n.x-d.q.U.x,e=this.n.y-d.q.U.y,b=c.u.x*h+c.A.x*e,e=c.u.y*h+c.A.y*e,h=b;c=f.J.D;var k=this.B.x-f.q.U.x,g=this.B.y-f.q.U.y,b=c.u.x*k+c.A.x*g,g=c.u.y*k+c.A.y*g,k=b;c=d.R;var b=f.R,n=d.Y,l=f.Y;this.Z.u.x=c+b+e*e*n+g*g*l;this.Z.A.x=-e*h*n-g*k*l;this.Z.k.x=-e*n-g*l;this.Z.u.y=this.Z.A.x;this.Z.A.y=c+b+h*h*n+k*k*l;this.Z.k.y=h*n+k*l;this.Z.u.z=this.Z.k.x;this.Z.A.z=this.Z.k.y;this.Z.k.z=n+l;a.Mg?(this.k.x*=a.lc,this.k.y*=a.lc,this.k.z*=
a.lc,d.C.x-=c*this.k.x,d.C.y-=c*this.k.y,d.L-=n*(h*this.k.y-e*this.k.x+this.k.z),f.C.x+=b*this.k.x,f.C.y+=b*this.k.y,f.L+=l*(k*this.k.y-g*this.k.x+this.k.z)):this.k.ua()};
Ji.prototype.Cf=function(){var a,c=0,b=this.ba,d=this.ca,f=b.C,h=b.L,e=d.C,k=d.L,g=b.R,n=d.R,l=b.Y,m=d.Y;a=b.J.D;var q=this.n.x-b.q.U.x,p=this.n.y-b.q.U.y,c=a.u.x*q+a.A.x*p,p=a.u.y*q+a.A.y*p,q=c;a=d.J.D;var v=this.B.x-d.q.U.x,r=this.B.y-d.q.U.y,c=a.u.x*v+a.A.x*r,r=a.u.y*v+a.A.y*r,v=c;a=new ne(0,0,0);pe(this.Z,a,-(e.x-k*r-f.x+h*p),-(e.y+k*v-f.y-h*q),-(k-h));this.k.zf(a);f.x-=g*a.x;f.y-=g*a.y;h-=l*(q*a.y-p*a.x+a.z);e.x+=n*a.x;e.y+=n*a.y;k+=m*(v*a.y-r*a.x+a.z);b.L=h;d.L=k};
Ji.prototype.Bf=function(){var a,c=0,b=this.ba,d=this.ca;a=b.J.D;var f=this.n.x-b.q.U.x,h=this.n.y-b.q.U.y,c=a.u.x*f+a.A.x*h,h=a.u.y*f+a.A.y*h,f=c;a=d.J.D;var e=this.B.x-d.q.U.x,k=this.B.y-d.q.U.y,c=a.u.x*e+a.A.x*k,k=a.u.y*e+a.A.y*k,e=c;a=b.R;var c=d.R,g=b.Y,n=d.Y,l=d.q.I.x+e-b.q.I.x-f,m=d.q.I.y+k-b.q.I.y-h,q=d.q.T-b.q.T-this.F,p=Math.sqrt(l*l+m*m),v=Math.abs(q);.05<p&&(g*=1,n*=1);this.Z.u.x=a+c+h*h*g+k*k*n;this.Z.A.x=-h*f*g-k*e*n;this.Z.k.x=-h*g-k*n;this.Z.u.y=this.Z.A.x;this.Z.A.y=a+c+f*f*g+e*e*
n;this.Z.k.y=f*g+e*n;this.Z.u.z=this.Z.k.x;this.Z.A.z=this.Z.k.y;this.Z.k.z=g+n;var r=new ne(0,0,0);pe(this.Z,r,-l,-m,-q);b.q.I.x-=a*r.x;b.q.I.y-=a*r.y;b.q.T-=g*(f*r.y-h*r.x+r.z);d.q.I.x+=c*r.x;d.q.I.y+=c*r.y;d.q.T+=n*(e*r.y-k*r.x+r.z);eg(b);eg(d);return.005>=p&&v<=Bd};function Ki(){oi.call(this);this.F=V(0,0);this.K=V(0,0);this.type=8;this.N=0}Ad(Ki,oi);Ki.prototype.B=function(){return new Ji(this)};
var Jh=[new Ie,new Ie],di=[new Ie,new Ie],ei=[new Ie,new Ie],Lh=V(0,0),Qh=V(0,0),Vh=V(0,0),Yh=V(0,0),Wh=V(0,0),Xh=V(0,0),bi=V(0,0),ci=V(0,0),dh=0,jh=0,kh=0,hh=0,ih=0,eh=new Lf,fh=new Ze,qf=new re,rf=new re,pf=new function(){this.Ea=V(0,0);this.k=V(0,0)},gh=new $e,dg=new re,wg=new ug;new function(){this.position=V(0,0);V(0,0);V(0,0);this.id=new Ge};new re;
var lh=new qe,mh=new qe,ch=new Mf,Gh=new function(){this.k=V(0,0);this.wa=[];for(var a=this.Sb=0;2>a;a++)this.wa[a]=V(0,0)},Ih=new function(){this.k=V(0,0);this.n=[];this.wa=[];for(var a=0;2>a;a++)this.wa[a]=V(0,0)};function Ri(a,c,b,d,f,h){var e;if(e=(b+.1>=a&&a>=f-.1||b-.1<=a&&a<=f+.1)&&(d+.1>=c&&c>=h-.1||d-.1<=c&&c<=h+.1))e=.1<Math.abs(f-b)?.1>Math.abs((h-d)/(f-b)*(a-b)+d-c):.1>Math.abs(a-b);return e}
function Ti(a,c){var b=Ui(a),d=[],f,h,e,k,g,n,l,m,q;g=0;for(n=b.length;g<n;g++){h=b[g];f=[];f.length=h.length;l=q=0;for(m=h.length;l<m;l++)e=h[l],k=h[(l+1)%m],q+=e.x*k.y-e.y*k.x,f[l]=V(e.x,e.y);q=Math.abs(q/2);q>=.001*c&&d.push(f)}return d}
function Ui(a){var c=[],b=0,d=0,f=0,h=0,e=0,k=e=0,g=0,n=0,l=0,h=0,m,q,p,v,r,u=h=b=0,t=0,f=[],g=[],y=!1,z=[],B=[];for(B.push(a);B.length;){c=B[0];d=c.length;y=!0;for(b=0;b<d;b++)if(n=b,l=b<d-1?b+1:b+1-d,h=b<d-2?b+2:b+2-d,a=c[n],m=c[l],q=c[h],h=a.x,f=a.y,g=m.x,e=m.y,k=q.x,q=q.y,h=h*e+g*q+k*f-f*g-e*k-q*h,0>h){y=!1;g=1E9;for(f=0;f<d;f++)if(f!==n&&f!==l){b=f;h=f<d-1?f+1:0;p=c[b];v=c[h];k=a.x;q=a.y;var E=m.x,C=m.y,e=p.x;p=p.y;var G=v.x;v=v.y;var A=E-k,w=C-q,I=G-e,Y=v-p,I=(I*(p-q)-Y*(e-k))/(w*I-A*Y),A=k+
I*A,w=q+I*w,k=Ri(E,C,k,q,A,w),e=Ri(A,w,e,p,G,v);if(q=k&&e?V(A,w):null)e=m.x-q.x,k=m.y-q.y,e=e*e+k*k,e<g&&(t=b,u=h,r=q,g=e)}if(1E9===g)return[];f=[];g=[];b=t;h=u;p=c[b];v=c[h];u=r.y;t=v.y;.1>Math.abs(v.x-r.x)&&.1>Math.abs(t-u)||f.push(r);u=r.y;t=p.y;.1>Math.abs(p.x-r.x)&&.1>Math.abs(t-u)||g.push(r);t=-1;for(u=n;;){if(u!==h)f.push(c[u]);else{if(0>t||t>=d)return[];Ri(v.x,v.y,c[t].x,c[t].y,a.x,a.y)||f.push(c[u]);break}t=u;0>u-1?u=d-1:u--}f.reverse();t=-1;for(u=l;;){if(u!==b)g.push(c[u]);else{if(0>t||
t>=d)return[];u!==b||Ri(p.x,p.y,c[t].x,c[t].y,m.x,m.y)||g.push(c[u]);break}t=u;u+1>d-1?u=0:u++}B.push(f,g);B.shift();break}y&&z.push(B.shift())}return z}
function Xi(a){for(var c=0;4E3>c;c++)te.push(new se(0,0));this.j=a;this.Yd=new Ig(V(0,10),!0);this.Rp=-1;a=new ug;a.behavior=this;a.BeginContact=function(a){this.behavior.j.Cu(a.gc.ib().Gf.H,a.Rb.ib().Gf.H)};this.Yd.k.n=a;a=new rg;a.behavior=this;a.k=function(a,c){if(this.behavior.jx)return!0;var f=a.ib().Gf.H.type,h=c.ib().Gf.H.type,e=f.fa.Physics_DisabledCollisions;return e&&e.contains(h)?!1:(e=h.fa.Physics_DisabledCollisions)&&e.contains(f)?!1:!0};this.Yd.k.B=a;this.$A=0;this.El=8;this.el=3;this.jx=
!0}
(function(){function a(){}var c=Xi.prototype;c.pb=function(a){this.behavior=a;this.j=a.j};c.pb.prototype.Ga=function(){};c.ab=function(a,b){this.type=a;this.behavior=a.behavior;this.H=b;this.j=a.j;this.Yd=this.behavior.Yd};var b=c.ab.prototype;b.Ga=function(){this.cj=0!==this.ea[0];this.ms=this.ea[1];this.Aq=0!==this.ea[2];this.fh=this.ea[3];this.jh=this.ea[4];this.Gh=this.ea[5];this.mj=this.ea[6];this.Oi=this.ea[7];this.Qi=0!==this.ea[8];this.enabled=0!==this.ea[9];this.body=null;this.H.bb();this.Ym=
this.H.x;this.Zm=this.H.y;this.rd=this.H.M;this.Op=this.Sp=0;this.Au=this.Qp=!1;this.Lp=null;this.Mp=-1;this.je?(this.je.length=0,this.Xe.length=0,this.sg.clear()):(this.je=[],this.Xe=[],this.sg=new ca);var a=this;this.Td||(this.Vk=function(b){a.$k(b)});this.j.Tl(this.Vk)};b.uu=function(){this.H.bb();this.mm();this.Lp=this.H.zb;this.Mp=this.H.qa};b.Ch=function(){this.wm();this.Xe.length=0;this.sg.clear();this.body&&(Mg(this.Yd,this.body),this.body=null);this.j.Du(this.Vk)};b.Qc=function(){var a={e:this.enabled,
im:this.cj,pr:this.Aq,d:this.fh,fr:this.jh,re:this.Gh,ld:this.mj,ad:this.Oi,b:this.Qi,mcj:this.Xe};if(this.enabled){var b=V(0,0);b.S(this.body.C);a.vx=b.x;a.vy=b.y;a.om=this.body.L}return a};b.sd=function(a){this.wm();this.Xe.length=0;this.sg.clear();this.body&&(Mg(this.Yd,this.body),this.body=null);this.enabled=a.e;this.cj=a.im;this.Aq=a.pr;this.fh=a.d;this.jh=a.fr;this.Gh=a.re;this.mj=a.ld;this.Oi=a.ad;this.Qi=a.b;this.Ym=this.H.x;this.Zm=this.H.y;this.rd=this.H.M;this.Sp=this.H.width;this.Op=this.H.height;
this.enabled&&(this.mm(),Zf(this.body,V(a.vx,a.vy)),this.body.Nl(a.om),0===a.vx&&0===a.vy&&0===a.om||$f(this.body,!0),this.Xe=a.mcj)};b.hf=function(){this.enabled&&this.Hq();this.behavior.Rp=this.j.qe-1};b.$k=function(a){var b,c,d,g=a.uid;d=b=0;for(c=this.Xe.length;b<c;b++)this.Xe[d]=this.Xe[b],d<this.je.length&&(this.je[d]=this.je[b]),this.Xe[b].Ub[1]==g?Ng(this.Yd,this.je[b]):d++;this.Xe.length=d;d<this.je.length&&(this.je.length=d);this.sg.remove(a)};b.wm=function(){var a,b;a=0;for(b=this.je.length;a<
b;a++)Ng(this.Yd,this.je[a]);this.je.length=0};b.Hq=function(){var a,b,c;a=0;for(b=this.Xe.length;a<b;a++)switch(c=this.Xe[a],c.type){case 0:this.Kx(c.Ub[0],c.Ub[1],c.Ub[2],c.Ub[3],c.Ub[4]);break;case 1:this.Mx(c.Ub[0],c.Ub[1]);break;case 2:this.Lx(c.Ub[0],c.Ub[1],c.Ub[2],c.Ub[3])}};b.vs=function(){this.body&&(this.wm(),Mg(this.Yd,this.body),this.body=null,this.H.fa.Ne=null)};var d=[];b.mm=function(){if(this.enabled){var a=this.H,b=!1,c=null,k=null,g,n,l,m,q,p,v,r,u,t,y,z,B;if(this.body){b=!0;c=V(0,
0);c.S(this.body.C);k=this.body.L;r=this.sg.te();g=0;for(n=r.length;g<n;g++)u=r[g].fa.Ne.Gf,u.wm();this.vs()}u=new Cg;u.fh=this.fh;u.jh=this.jh;u.Gh=this.Gh;g=new gg;g.type=this.cj?0:2;a.bb();g.position.x=.02*a.ub.yh();g.position.y=.02*a.ub.zh();g.M=a.M;g.k=this.Aq;g.mj=this.mj;g.Oi=this.Oi;g.Qi=this.Qi;r=this.H.Ka&&!this.H.Ka.oh();this.body=Kg(this.Yd,g);this.body.Gf=this;g=this.ms;r||this.H.Yf||0!==this.ms||(g=1);n=Math.max(Math.abs(a.width),1);l=Math.max(Math.abs(a.height),1);t=0>a.width;y=0>a.height;
if(0===g)if(a.Yf)for(z=a.ub.yh()-a.x,v=a.ub.zh()-a.y,a.kC(d),r=[],g=0,n=d.length;g<n;++g){t=d[g];y=t.zu;if(t.Ze){if(!t.Ze.km){q=t.Ze.Vb;m=t.Ze.me;for(l=0;l<m;++l)r.push(V(q[2*l],q[2*l+1]));l=t.id&3758096384;(-2147483648===l||1073741824===l||536870912===l||l&-2147483648&&l&1073741824&&l&536870912)&&r.reverse();t.Ze.km=Ti(r,(y.right-y.left)*(y.bottom-y.top));l=0;for(m=r.length;l<m;++l)ue(r[l]);r.length=0}l=0;for(m=t.Ze.km.length;l<m;++l){B=t.Ze.km[l];q=0;for(p=B.length;q<p;++q)r.push(V(.02*(y.left+
B[q].x-z),.02*(y.top+B[q].y-v)));u.shape=new Ce;Ee(u.shape,r);Sf(this.body,u);q=0;for(p=r.length;q<p;++q)ue(r[q]);r.length=0}}else r.push(V(.02*(y.left-z),.02*(y.top-v))),r.push(V(.02*(y.right-z),.02*(y.top-v))),r.push(V(.02*(y.right-z),.02*(y.bottom-v))),r.push(V(.02*(y.left-z),.02*(y.bottom-v))),u.shape=new Ce,Ee(u.shape,r),Sf(this.body,u);l=0;for(m=r.length;l<m;++l)ue(r[l]);r.length=0}else{g=a.M;a.M=0;a.Aa();a.bb();z=a.ub.yh()-a.x;v=a.ub.zh()-a.y;a.M=g;a.Aa();a.Ka.Zg(t?-n:n,y?-l:l,0);q=a.Ka.Vb;
m=a.Ka.me;r=[];r.length=m;for(g=0;g<m;g++)r[g]=V(q[2*g]-z,q[2*g+1]-v);t!==y&&r.reverse();z=Ti(r,n*l);for(g=0;g<m;g++)ue(r[g]);if(z.length)for(g=0,n=z.length;g<n;g++){r=z[g];l=0;for(m=r.length;l<m;l++)v=r[l],v.x*=.02,v.y*=.02;u.shape=new Ce;Ee(u.shape,r);Sf(this.body,u);l=0;for(m=r.length;l<m;l++)ue(r[l])}else u.shape=new Ce,Fe(u.shape,.01*n,.01*l),Sf(this.body,u)}else 1===g?(u.shape=new Ce,Fe(u.shape,.01*n,.01*l)):u.shape=new ze(.01*Math.min(n,l)),Sf(this.body,u);a.fa.Ne=this.body;this.Sp=a.width;
this.Op=a.height;if(b)for(Zf(this.body,c),this.body.Nl(k),ue(c),this.Hq(),r=this.sg.te(),g=0,n=r.length;g<n;g++)u=r[g].fa.Ne.Gf,u.Hq();d.length=0}};b.Yb=function(){if(this.enabled){var a=this.H,b;0===this.behavior.$A?b=this.j.Zf/60:(b=this.j.Zi(this.H),b>1/30&&(b=1/30));if(this.j.qe>this.behavior.Rp&&0<this.j.Zf){this.Yd.Ug(b,this.behavior.El,this.behavior.el);for(b=this.Yd.Lh.cb(kg);b;b=b.Pa())b.body.n.ua(),b.body.B=0;this.behavior.Rp=this.j.qe}if(this.Au||a.width!==this.Sp||a.height!==this.Op||
a.zb!==this.Lp||a.qa!==this.Mp||a.Yf&&a.pu)this.mm(),this.Au=!1,this.Lp=a.zb,this.Mp=a.qa,a.Yf&&a.pu&&(a.pu=!1);b=a.M!==this.rd;if(a.x!==this.Ym||a.y!==this.Zm){a.bb();var c=a.ub.yh(),d=a.ub.zh(),g=c-this.Ym,n=d-this.Zm,l=this.body,c=V(.02*c,.02*d);Wf(l,c,l.Mh());Zf(this.body,V(g,n));this.Qp=!0;$f(this.body,!0)}else this.Qp&&(this.Qp=!1,Zf(this.body,V(0,0)),g=this.body,n=V(.02*a.ub.yh(),.02*a.ub.zh()),Wf(g,n,g.Mh()));b&&(this.body.Pr(a.M),$f(this.body,!0));g=this.body.J.position;b=g.x/.02;g=g.y/.02;
n=this.body.Mh();if(b!==a.x||g!==a.y||n!==a.M)if(a.x=b,a.y=g,a.M=n,a.Aa(),a.bb(),b=a.ub.yh()-a.x,g=a.ub.zh()-a.y,0!==b||0!==g)a.x-=b,a.y-=g,a.Aa();this.Ym=a.x;this.Zm=a.y;this.rd=a.M}};b.gk=function(a){return-1!==a&&this.H.Se?0===a&&this.body?(this.body.J.position.x+this.body.q.U.x)/.02:this.H.Se(a,!0):this.H.x};b.hk=function(a){return-1!==a&&this.H.Se?0===a&&this.body?(this.body.J.position.y+this.body.q.U.y)/.02:this.H.Se(a,!1):this.H.y};c.O=new function(){};a.prototype.Qg=function(a,b,c){if(this.enabled){var d=
this.gk(c);c=this.hk(c);this.body.Qg(V(a,b),V(.02*d,.02*c))}};a.prototype.Ev=function(a,b,c){if(this.enabled){b=Ma(b);var d=this.gk(c);c=this.hk(c);this.body.Qg(V(Math.cos(b)*a,Math.sin(b)*a),V(.02*d,.02*c))}};a.prototype.to=function(a){this.enabled&&this.body.to(Ma(a))};a.prototype.Nl=function(a){this.enabled&&(this.body.Nl(Ma(a)),$f(this.body,!0))};b.Kx=function(a,b,c,d,g){if(this.enabled){var n=this.j.lh(b);if(n&&n!=this.H&&n.fa.Ne){n.fa.Ne.Gf.sg.add(this.H);var l=this.gk(a),m=this.hk(a),q,p;n.Se?
(q=n.Se(c,!0),p=n.Se(c,!1)):(q=n.x,p=n.y);c=l-q;a=m-p;b=new qi;n=n.fa.Ne;l=V(.02*l,.02*m);q=V(.02*q,.02*p);b.k=this.body;b.n=n;b.N.S(Pd(b.k.J,l));b.aa.S(Pd(b.n.J,q));n=q.x-l.x;l=q.y-l.y;b.length=Math.sqrt(n*n+l*l);b.K=0;b.F=0;b.length=.02*Math.sqrt(c*c+a*a);b.F=d;b.K=g;this.je.push(Og(this.Yd,b))}}};b.Mx=function(a,b){if(this.enabled){var c=this.j.lh(b);if(c&&c!=this.H&&c.fa.Ne){c.fa.Ne.Gf.sg.add(this.H);var d=this.gk(a),g=this.hk(a),n=new Hi;Ii(n,this.body,c.fa.Ne,V(.02*d,.02*g));this.je.push(Og(this.Yd,
n))}}};b.Lx=function(a,b,c,d){if(this.enabled&&(b=this.j.lh(b))&&b!=this.H&&b.fa.Ne){b.fa.Ne.Gf.sg.add(this.H);var g=this.gk(a);a=this.hk(a);var n=new Hi;Ii(n,this.body,b.fa.Ne,V(.02*g,.02*a));n.N=!0;n.ja=Ma(c);n.da=Ma(d);this.je.push(Og(this.Yd,n))}};a.prototype.Iw=function(a){if(this.enabled&&this.cj!==(0!==a)){this.cj=0!==a;a=this.body;var b=this.cj?0:2;if(a.Sa!=b){a.Sa=b;Vf(a);0==a.Sa&&(a.C.ua(),a.L=0);$f(a,!0);a.n.ua();a.B=0;for(b=a.Ad.cb(yg);b;b=b.Pa())b.kc.Wi=!0;for(b=0;b<a.P.length;b++)bg(a.P[b],
a)}$f(this.body,!0)}};a.prototype.Ol=function(a){this.enabled&&0===a?(this.vs(),this.enabled=!1):this.enabled||1!==a||(this.enabled=!0,this.mm())};c.na=new a;c.wb=new function(){}})();function Yi(a){this.j=a}
(function(){function a(){}var c=Yi.prototype;c.pb=function(a){this.behavior=a;this.j=a.j};c.pb.prototype.Ga=function(){};c.ab=function(a,b){this.type=a;this.behavior=a.behavior;this.H=b;this.j=a.j};var b=c.ab.prototype;b.Ga=function(){this.Fc=null;this.Bn=-1;this.mode=this.rd=this.ao=this.tj=this.Ag=this.dl=0;var a=this;this.Td||(this.Vk=function(b){a.$k(b)});this.j.Tl(this.Vk)};b.Qc=function(){return{uid:this.Fc?this.Fc.uid:-1,pa:this.dl,pd:this.Ag,msa:this.tj,tsa:this.ao,lka:this.rd,m:this.mode}};
b.sd=function(a){this.Bn=a.uid;this.dl=a.pa;this.Ag=a.pd;this.tj=a.msa;this.ao=a.tsa;this.rd=a.lka;this.mode=a.m};b.hf=function(){-1===this.Bn?this.Fc=null:this.Fc=this.j.lh(this.Bn);this.Bn=-1};b.$k=function(a){this.Fc==a&&(this.Fc=null)};b.Ch=function(){this.Fc=null;this.j.Du(this.Vk)};b.Yb=function(){};b.yl=function(){if(this.Fc){this.rd!==this.H.M&&(this.tj=Ra(this.tj+(this.H.M-this.rd)));var a=this.H.x,b=this.H.y;if(3===this.mode||4===this.mode){var c=mb(this.H.x,this.H.y,this.Fc.x,this.Fc.y);
if(c>this.Ag||4===this.mode&&c<this.Ag)b=Ua(this.Fc.x,this.Fc.y,this.H.x,this.H.y),a=this.Fc.x+Math.cos(b)*this.Ag,b=this.Fc.y+Math.sin(b)*this.Ag}else a=this.Fc.x+Math.cos(this.Fc.M+this.dl)*this.Ag,b=this.Fc.y+Math.sin(this.Fc.M+this.dl)*this.Ag;this.rd=c=Ra(this.tj+(this.Fc.M-this.ao));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.H.x===a&&this.H.y===b||(this.H.x=a,this.H.y=b,this.H.Aa());0!==this.mode&&2!==this.mode||this.H.M===c||(this.H.M=c,this.H.Aa())}};c.O=new function(){};
a.prototype.Cw=function(a,b){if(a){var c=a.Ns(this.H);c&&(this.Fc=c,this.dl=Ua(c.x,c.y,this.H.x,this.H.y)-c.M,this.Ag=mb(c.x,c.y,this.H.x,this.H.y),this.rd=this.tj=this.H.M,this.ao=c.M,this.mode=b)}};c.na=new a;c.wb=new function(){}})();function Zi(a){this.j=a}
(function(){function a(){}var c=Zi.prototype;c.pb=function(a){this.behavior=a;this.j=a.j};c.pb.prototype.Ga=function(){};c.ab=function(a,b){this.type=a;this.behavior=a.behavior;this.H=b;this.j=a.j;this.yc=0};var b=c.ab.prototype,d=2*Math.PI,f=Math.PI/2,h=3*Math.PI/2;b.Ga=function(){this.tc=1===this.ea[0];this.Uk=this.ea[1];this.yr=this.ea[2];this.zg=this.ea[3];this.zg+=Math.random()*this.ea[4];0===this.zg?this.yc=0:(this.yc=this.ea[5]/this.zg*d,this.yc+=Math.random()*this.ea[6]/this.zg*d);this.Qd=
this.ea[7];this.Qd+=Math.random()*this.ea[8];this.Dg=this.ki=this.eb=0;this.init()};b.Qc=function(){return{i:this.yc,a:this.tc,mv:this.Uk,w:this.yr,p:this.zg,mag:this.Qd,iv:this.eb,iv2:this.ki,r:this.Dg,lkv:this.ge,lkv2:this.Fk}};b.sd=function(a){this.yc=a.i;this.tc=a.a;this.Uk=a.mv;this.yr=a.w;this.zg=a.p;this.Qd=a.mag;this.eb=a.iv;this.ki=a.iv2||0;this.Dg=a.r;this.ge=a.lkv;this.Fk=a.lkv2||0};b.init=function(){switch(this.Uk){case 0:this.eb=this.H.x;break;case 1:this.eb=this.H.y;break;case 2:this.eb=
this.H.width;this.Dg=this.H.height/this.H.width;break;case 3:this.eb=this.H.width;break;case 4:this.eb=this.H.height;break;case 5:this.eb=this.H.M;this.Qd=Ma(this.Qd);break;case 6:this.eb=this.H.opacity;break;case 7:this.eb=0;break;case 8:this.eb=this.H.x,this.ki=this.H.y}this.ge=this.eb;this.Fk=this.ki};b.Ng=function(a){a=a%d;switch(this.yr){case 0:return Math.sin(a);case 1:return a<=f?a/f:a<=h?1-2*(a-f)/Math.PI:(a-h)/f-1;case 2:return 2*a/d-1;case 3:return-2*a/d+1;case 4:return a<Math.PI?-1:1}return 0};
b.Yb=function(){var a=this.j.Zi(this.H);if(this.tc&&0!==a){0===this.zg?this.yc=0:(this.yc+=a/this.zg*d,this.yc=this.yc%d);switch(this.Uk){case 0:this.H.x!==this.ge&&(this.eb+=this.H.x-this.ge);this.H.x=this.eb+this.Ng(this.yc)*this.Qd;this.ge=this.H.x;break;case 1:this.H.y!==this.ge&&(this.eb+=this.H.y-this.ge);this.H.y=this.eb+this.Ng(this.yc)*this.Qd;this.ge=this.H.y;break;case 2:this.H.width=this.eb+this.Ng(this.yc)*this.Qd;this.H.height=this.H.width*this.Dg;break;case 3:this.H.width=this.eb+this.Ng(this.yc)*
this.Qd;break;case 4:this.H.height=this.eb+this.Ng(this.yc)*this.Qd;break;case 5:this.H.M!==this.ge&&(this.eb=Ra(this.eb+(this.H.M-this.ge)));this.H.M=Ra(this.eb+this.Ng(this.yc)*this.Qd);this.ge=this.H.M;break;case 6:this.H.opacity=this.eb+this.Ng(this.yc)*this.Qd/100;0>this.H.opacity?this.H.opacity=0:1<this.H.opacity&&(this.H.opacity=1);break;case 8:this.H.x!==this.ge&&(this.eb+=this.H.x-this.ge),this.H.y!==this.Fk&&(this.ki+=this.H.y-this.Fk),this.H.x=this.eb+Math.cos(this.H.M)*this.Ng(this.yc)*
this.Qd,this.H.y=this.ki+Math.sin(this.H.M)*this.Ng(this.yc)*this.Qd,this.ge=this.H.x,this.Fk=this.H.y}this.H.Aa()}};b.du=function(a,b){switch(this.Uk){case 2:this.eb*=b.width/a.width;this.Dg=b.height/b.width;break;case 3:this.eb*=b.width/a.width;break;case 4:this.eb*=b.height/a.height}};a.prototype.Ph=function(){return this.tc};c.O=new a;c.na=new function(){};c.wb=new function(){}})();function $i(a){this.j=a;this.Wq=this.Un=this.ql=this.Vq=0}
(function(){function a(){}var c=$i.prototype;c.pb=function(a){this.behavior=a;this.j=a.j};c.pb.prototype.Ga=function(){};c.ab=function(a,b){this.type=a;this.behavior=a.behavior;this.H=b;this.j=a.j};var b=c.ab.prototype;b.Ga=function(){this.enabled=0!==this.ea[0]};b.Qc=function(){return{smg:this.behavior.Vq,ss:this.behavior.ql,se:this.behavior.Un,smd:this.behavior.Wq}};b.sd=function(a){this.behavior.Vq=a.smg;this.behavior.ql=a.ss;this.behavior.Un=a.se;this.behavior.Wq=a.smd};b.Yb=function(){};b.yl=
function(){if(this.enabled){var a=this.behavior.Wk.te(),b=0,c=0,e,k,g,n=0;e=0;for(k=a.length;e<k;e++){a:{g=a[e];for(var l=void 0,m=void 0,q=void 0,l=0,m=g.Ba.length;l<m;++l)if(q=g.Ba[l],q.behavior instanceof $i){g=q;break a}g=null}g&&g.enabled&&(b+=a[e].x,c+=a[e].y,++n)}a=this.H.V.Cc;k=this.j.Ac.Ia;g=e=0;k>=this.behavior.ql&&k<this.behavior.Un&&(e=this.behavior.Vq*Math.min(this.j.Zf,1),0===this.behavior.Wq&&(e*=1-(k-this.behavior.ql)/(this.behavior.Un-this.behavior.ql)),k=Math.random()*Math.PI*2,
g=Math.random()*e,e=Math.cos(k)*g,g*=Math.sin(k));a.Qq(b/n+e);a.Rq(c/n+g)}};a.prototype.Ol=function(a){this.enabled=0!==a};c.na=new a})();
function od(){return[rd,qd,sd,pd,td,ud,vd,wd,Xi,zd,Zi,Yi,xd,$i,yd,J.prototype.O.Uv,J.prototype.O.Ir,pd.prototype.na.zd,Yi.prototype.na.Cw,J.prototype.na.Rw,pd.prototype.na.Qr,td.prototype.na.Pw,pd.prototype.O.Gr,J.prototype.O.Jv,wd.prototype.na.Vw,pd.prototype.O.Wv,J.prototype.O.Yw,J.prototype.na.Ww,pd.prototype.na.Fw,qd.prototype.na.Play,J.prototype.O.Mv,pd.prototype.na.Nw,J.prototype.na.$w,vd.prototype.O.Vv,pd.prototype.O.Kv,pd.prototype.na.Lw,pd.prototype.na.aw,J.prototype.O.Er,vd.prototype.O.yo,
pd.prototype.O.Iv,pd.prototype.O.Hv,J.prototype.na.Pv,J.prototype.O.Nv,pd.prototype.na.Ew,vd.prototype.wb.Pl,vd.prototype.wb.Ql,ud.prototype.na.Rr,J.prototype.na.Bv,pd.prototype.na.Sw,pd.prototype.na.bw,rd.prototype.O.Kl,rd.prototype.O.vo,pd.prototype.O.gw,Xi.prototype.na.Iw,pd.prototype.O.Sv,pd.prototype.na.Gw,qd.prototype.na.Ow,td.prototype.na.Qr,vd.prototype.O.xo,pd.prototype.na.Tw,Xi.prototype.na.Ev,pd.prototype.wb.Cv,J.prototype.na.Dw,J.prototype.O.Ov,pd.prototype.na.Jw,pd.prototype.O.Qh,J.prototype.na.Lv,
pd.prototype.wb.Pl,pd.prototype.wb.Ql,zd.prototype.O.Qv,pd.prototype.na.Mw,$i.prototype.na.Ol,J.prototype.na.Kw,J.prototype.wb.Yz,J.prototype.wb.Xz,J.prototype.wb.La,yd.prototype.na.Uw,J.prototype.na.Qw,wd.prototype.O.Zv,wd.prototype.wb.$v,yd.prototype.O.Hr,yd.prototype.na.Hw]};
